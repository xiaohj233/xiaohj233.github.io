<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>网络基础 | 233-909!</title><meta name="keywords" content="博客"><meta name="author" content="晓嘿君"><meta name="copyright" content="晓嘿君"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="网络基础"><meta name="application-name" content="网络基础"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="网络基础"><meta property="og:url" content="http://www.233909.xyz/posts/91149a63/index.html"><meta property="og:site_name" content="233-909!"><meta property="og:description" content="计算机网络核心备考笔记：第1章 计算机网络概述计算机网络与信息时代 时代特征 21世纪的重要特征是数字化、网络化和信息化。 网络已成为信息社会的命脉和发展知识经济的重要基础。   互联网的发展 定义：以互联网 (Internet&amp;#x2F;因特网) 为代表的计算机网络是人类自印刷术发明以来在通信方面"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2025/04/28/680f628873f0e.webp"><meta property="article:author" content="晓嘿君"><meta property="article:tag" content="[&quot;博客&quot;]"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2025/04/28/680f628873f0e.webp"><meta name="description" content="计算机网络核心备考笔记：第1章 计算机网络概述计算机网络与信息时代 时代特征 21世纪的重要特征是数字化、网络化和信息化。 网络已成为信息社会的命脉和发展知识经济的重要基础。   互联网的发展 定义：以互联网 (Internet&amp;#x2F;因特网) 为代表的计算机网络是人类自印刷术发明以来在通信方面"><link rel="shortcut icon" href="/img/xiao.svg"><link rel="canonical" href="http://www.233909.xyz/posts/91149a63/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="codeva-oRgZAaBiqa"/><meta name="msvalidate.01" content="14F71ECBE69879A3EF46FD53914335DD"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"/><link rel="mask-icon" href="/img/xiao.svg" color="#5bbad5"/><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png"/><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon.ico"/><link rel="bookmark" href="/img/pwa-512x512.png"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://bu.dusays.com/2023/03/03/6401a7904ff3a.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: undefined,
  LA51: undefined,
  greetingBox: {"enable":true,"default":"夜猫子收工！马克思说睡眠也是生产力🌙","list":[{"greeting":"凌晨的灯光属于唯物主义者！但健康第一🌌","startTime":0,"endTime":5},{"greeting":"早啊达瓦里氏！以饱满的姿态应对生活吧！","startTime":6,"endTime":9},{"greeting":"达瓦里氏你就像10点钟太阳一样耀眼☀️","startTime":10,"endTime":10},{"greeting":"恩格斯说食物是劳动力的第一再生产🍞","startTime":11,"endTime":11},{"greeting":"午间辩证法：午睡30分钟≈下午续航2小时⚡","startTime":12,"endTime":14},{"greeting":"下午活力补给！偷偷塞你颗糖🍬","startTime":14,"endTime":18},{"greeting":"达瓦里氏多吃点，今天辛苦啦！🍛","startTime":19,"endTime":19},{"greeting":"晚上放松时间，做点让自己开心的事吧～🎧","startTime":20,"endTime":24}]},
  twikooEnvId: 'https://www.review.233909.xyz/',
  commentBarrageConfig:{"enable":true,"maxBarrage":1,"barrageTime":4000,"accessToken":"7a8e9884f15187534ec5e1f61ed201a6","mailMd5":"2162a1dd755f0bd201b072841ece1e11"},
  music_page_default: "custom",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["❤️ 不忘初心，牢记使命"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 晓嘿君","link":"链接: ","source":"来源: 233-909!","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '233-909!',
  title: '网络基础',
  postAI: '',
  pageFillDescription: '计算机网络核心备考笔记：第1章 计算机网络概述, 计算机网络与信息时代, 计算机网络的定义与分类, 计算机网络的定义, 计算机网络的分类, 互联网概述, 网络与互连网络, internet 和 Internet 的区别, 互联网的边缘与核心, 互联网结构发展的三个阶段, 互联网的标准化工作, RFC 文档, 电路交换 (Circuit Switching), 分组交换 (Packet Switching), 三种交换方式的对比, 网络性能指标, 计算机网络体系结构, 网络协议 (Network Protocol), 网络协议的三要素, 协议的分层模型, 计算机网络的体系结构, 各层协议的主要功能, 协议的层次关系与数据封装, 实体、协议和服务, 新兴网络技术简介, 云计算 (Cloud Computing), 物联网 (Internet of Things IoT), 计算机网络核心备考笔记：第2章 物理层, l 物理层的基本概念, l 数据通信的基础知识, l 物理层下面的传输媒体, l 信道复用技术, l 数字传输系统, l 互联网接入技术 (最后一公里), 计算机网络核心备考笔记：第3章 - 数据链路层, 1. 数据链路层的基本概念, 1.1 数据链路层所处的地位, 1.2 数据链路层使用的两种信道类型, 1.3 链路和数据链路的区别, 1.4 数据链路层传送的是帧（Frame）, 2. 封装成帧 (Framing), 3. 透明传输 (Transparent Transmission), 4. 差错检测 (Error Detection), 5. 可靠传输协议, 5.1 停止等待协议 (Stop-and-Wait Protocol), 5.2 流水线传输与滑动窗口协议, 5.3 回退N帧协议 (Go-Back-N GBN), 5.4 选择重传协议 (Selective Repeat SR), 6. 点对点协议 PPP (Point-to-Point Protocol), 7. 使用广播信道的数据链路层, 7.1 媒体接入控制 (Medium Access Control MAC), 7.2 局域网 (LAN - Local Area Network), 8. 共享式以太网与CSMAx2FCD协议, 8.1 使用集线器的星形拓扑, 8.2 以太网的MAC帧格式 (Ethernet V2), 9. 在数据链路层扩展局域网, 9.1 网桥 (Bridge), 9.2 以太网交换机 (Ethernet Switch), 10. 虚拟局域网 VLAN (Virtual LAN), 11. 无线局域网 (WLAN - Wireless LAN), 11.1 CSMAx2FCA 协议 (载波监听多址接入x2F冲突避免), 12. 蜂窝移动通信系统, 计算机网络核心备考笔记：第4章 网络层, 网络层概述, 1. 分组转发和路由选择, 2. 网络层提供的两种服务, 虚电路服务与数据报服务的对比, 异构网络互连, IP地址及编址方式, 1. 分类编址, 2. 划分子网, 3. 无分类编址 CIDR (Classless Inter-Domain Routing), IP地址与物理地址, 地址解析协议 ARP (Address Resolution Protocol), IP 数据报的格式, IP数据报的转发, 互联网控制报文协议 ICMP (Internet Control Message Protocol), 路由选择协议概述, 路由信息协议 RIP (Routing Information Protocol), 开放最短路径优先 OSPF (Open Shortest Path First), 边界网关协议 BGP (Border Gateway Protocol), 路由器的工作原理, 虚拟专用网 VPN (Virtual Private Network), 网络地址转换 NAT (Network Address Translation), IP 多播 (IP Multicast), 移动 IP, 下一代网际协议 IPv6, 软件定义网络 SDN (Software Defined Network), 计算机网络核心备考笔记：第5章 运输层, 运输层协议概述, 用户数据报协议 UDP (User Datagram Protocol), TCP 概述, TCP 报文段的格式, TCP 的可靠传输, TCP的重传机制, TCP 的选择确认 (SACK), TCP的缓存与流量控制, TCP 的连接管理, TCP的拥塞控制, 计算机网络核心备考笔记：第6章 应用层, 应用层概述, 1. 网络应用程序体系结构, (1) 客户x2F服务器 (Cx2FS) 体系结构, (2) P2P对等体系结构, Cx2FS 与 P2P 体系结构对比, 2. 应用层协议, 3. 选择运输层协议, 域名系统 DNS (Domain Name System), 1. 互联网的域名结构, 2. 域名服务器, 3. 域名解析的过程, 4. DNS缓存, 5. DNS提供的其它服务, 万维网 WWW (World Wide Web), 一、万维网概述, 二、统一资源定位符 URL (Uniform Resource Locator), 三、超文本传送协议 HTTP (HyperText Transfer Protocol), 四、万维网的文档, 电子邮件 Email, 1. 电子邮件系统的基本组成, 2. 简单邮件传送协议 SMTP, 3. 电子邮件的信息格式 (RFC 5322), 4. 邮件读取协议 POP3 和 IMAP, 6. 通用因特网邮件扩充 MIME (Multipurpose Internet Mail Extensions), 文件传送协议 FTP (File Transfer Protocol), 远程终端 Telnet, 动态主机配置协议 DHCP (Dynamic Host Configuration Protocol), P2P 文件共享, 一、P2P文件分发, 二、在P2P对等方中搜索对象, 多媒体网络应用, 挑战及应用层措施, 实时运输协议 RTP (Real-time Transport Protocol), 网络应用编程接口, TCP 套接字编程的基本流程, UDP 套接字编程的基本流程, 计算机网络核心备考笔记：精华摘要, 1. 网络体系结构总览 (宏观框架), 1.1 三大体系结构模型对比, 1.2 数据封装 (Encapsulation) 与解封装 (Decapsulation), 1.3 协议数据单元 (PDU) 名称, 2. 各层核心协议与机制串讲 (聚焦1-5章考点), 3. 关键流程贯通 (综合应用)计算机网络核心备考笔记第章计算机网络概述计算机网络与信息时代时代特征世纪的重要特征是数字化网络化和信息化网络已成为信息社会的命脉和发展知识经济的重要基础互联网的发展定义以互联网因特网为代表的计算机网络是人类自印刷术发明以来在通信方面的最大变革已发展成为全球性的信息服务基础设施演进从最初的教育科研网络逐步发展成为商业网络计算机网络与传统网络的区别核心不同点计算机网络的终端设备是功能强大且具有智能的计算机而传统电话网和有线电视网的终端功能单一网络应用与服务计算机网络不仅提供数据通信服务还通过各种应用程序电子邮件浏览即时通信网络游戏等提供丰富多彩的应用计算机网络提供的平台功能浏览信息和发布信息的平台通信和交流的平台休闲和娱乐的平台资源共享的平台电子商务的平台远程协作的平台网上办公的平台计算机网络最核心的功能核心功能连通性作用为计算机之间的信息交互提供连通性使得不同计算机上的应用程序之间可以交换信息计算机网络的定义与分类计算机网络的定义通用定义利用通信线路和通信设备将地理上分散的具有独立功能的多个计算机系统连接起来以功能完善的网络软件及通信协议实现资源共享和信息传递的系统简化定义以传输信息为基本目的用通信线路和通信设备将多个计算机连接起来的计算机系统的集合基本组成最简单的计算机网络由两个结点和一条链路组成计算机网络的分类从网络的作用范围进行分类广域网作用范围通常为几十到几千公里城域网作用距离约为到公里局域网局限在较小的范围如公里左右个人区域网范围很小大约在米以内从网络的使用者进行分类公用网由电信公司出资建造任何按规定交费的用户都可以使用也称公众网专用网由特定部门为满足本单位特殊业务需求而建造的网络不向外提供服务例如军队铁路电力系统的专用网互联网概述网络与互连网络网络定义由若干结点和连接这些结点的链路组成别称也称为物理网络互连网络定义即网络的网络通过连接多个网络而构成的逻辑网络实现不仅需要在物理上连接还必须在计算机上安装相应的软件协议以实现信息交换主机定义连接在网络上的任何计算机都称为主机或端系统和的区别互连网络定义以小写开头是一个通用名词泛指由多个计算机网络互连而成的网络互联网因特网定义以大写开头是一个专用名词指当前全球最大的开放的由众多网络相互连接而成的特定计算机网络核心协议采用协议族作为通信规则前身美国的互联网的边缘与核心边缘部分组成由所有连接在互联网上的主机端系统组成功能用户直接使用的部分用于运行各种网络应用核心部分组成由大量网络和连接这些网络的路由器组成功能为边缘部分提供服务核心是连通性和数据交换互联网结构发展的三个阶段第一阶段从单个网络向互连网络发展年美国国防部创建第一个分组交换网年协议成为上的标准协议标志着互联网的诞生第二阶段逐步建成了三级结构的互联网结构分为主干网地区网和校园网企业网第三阶段逐渐形成了多层次结构的互联网核心概念出现了互联网服务提供方工作模式任何机构和个人向交费即可获取地址使用权并接入互联网之间也存在层级关系例如本地第二层第一层互联网的标准化工作组织结构互联网协会一个国际性组织负责推动互联网的发展和标准化互联网体系结构委员会负责管理互联网标准的制定互联网工程部负责研究和制定互联网标准是主要的工作机构互联网研究部负责对互联网相关的长期性问题进行研究文档定义即请求评论所有的互联网标准都以文档的形式在互联网上发表成为互联网标准的四个阶段互联网草案非文档建议标准成为文档的开始草案标准已于年月取消此阶段互联网标准最高级别的标准电路交换基本概念定义在数据传输前通信双方之间必须先建立一条专用的物理通信路径电路该路径在整个通信期间被双方独占典型应用传统电话网工作流程三个阶段建立连接通过拨号等方式在通信双方之间建立一条端到端的专用电路通信双方在已建立的电路上进行数据传输该电路被持续占用释放连接通信结束后挂机释放电路资源被归还核心特点面向连接资源独占通信线路资源在通信期间被完全独占即使线路上没有数据传输缺点线路利用率低计算机通信具有突发性大量时间信道是空闲的造成资源浪费因此电路交换不适合计算机通信分组交换基本概念定义一种将用户报文划分成若干个较小的数据块即分组然后将这些分组逐个地在网络中通过存储转发方式传输的交换技术分组结构首部包含地址序号等控制信息数据原始报文的一个数据段核心原理存储转发发送方将长报文分割成多个分组网络中的交换机路由器接收到一个完整的分组后先将其存储在缓冲区交换机检查分组的首部根据其中的目的地址查找转发表决定下一个要转发的交换机将该分组发送给下一个交换机如此重复直至到达目的主机主要特点独立路由每个分组携带地址信息独立选择路由链路共享通信链路是动态共享的并非被某对通信方独占提高了线路利用率可靠性高如果某个节点或链路故障分组可以绕道传输适合突发数据非常适合具有突发性特点的计算机通信带来的问题分组排队当分组到达速率超过输出链路发送速率时分组需要在交换机的输出队列中排队等待分组丢失如果分组到达时队列已满则该分组将被丢弃网络拥塞当网络中大量分组的到达速率持续超出网络处理能力时会导致大范围的排队延迟和分组丢失失序由于每个分组独立路由可能走不同路径导致到达目的端的顺序与发送顺序不一致三种交换方式的对比对比维度电路交换报文交换分组交换数据单位比特流报文分组核心原理建立专用物理通道数据直达存储转发整个报文存储转发小数据分组连接性面向连接必须先建立连接无连接无连接每个分组独立路由信道占用独占整个通信期间共享动态分配共享动态分配实时性强时延固定且小差存储转发时延大较好时延不固定但因分组小而流水线式传输平均时延通常小于报文交换可靠性高连接建立后较高高可绕过故障节点优点传输时延小实时性好无失序问题无需建立连接线路利用率高线路利用率极高灵活可靠适合突发数据缺点线路利用率低建立连接时间长存储转发时延大对交换节点缓存容量要求高存在排队时延失序分组丢失拥塞等问题协议开销首部较大适用场景实时语音视频通话等对时延和抖动要求高的业务早期的电报通信互联网数据通信几乎所有现代计算机网络网络性能指标速率定义指数据的传输速率也称数据率或比特率单位比特每秒比特二进制数字中的一个或是数据量的基本单位带宽通信领域原意信号的频带宽度单位是赫兹计算机网络中的含义指数字信道的最高数据率单位是两者成正比吞吐量定义表示在单位时间内通过某个网络或信道接口的实际数据量限制受网络的带宽或额定速率的限制时延定义指数据从网络的一端传送到另一端所需要的时间总时延发送时延传播时延处理时延排队时延各部分时延发送时延将分组的所有比特推向链路所需的时间公式发送时延分组长度发送速率传播时延电磁波在信道中传播一定距离所需的时间公式传播时延信道长度信号传播速率处理时延交换节点路由器进行存储转发等处理所花费的时间排队时延分组在输入或输出队列中排队等待处理或转发所经历的时间重要概念区分提高链路带宽减小的是发送时延而不是传播时延丢包率定义在一定时间内传输过程中丢失的分组数量与总分组数量的比率主要原因网络拥塞导致路由器缓存溢出用户感受通常表现为网络延时变大或网速变慢因为网络软件会进行重传利用率信道利用率指信道有百分之几的时间是被利用的网络利用率全网络的信道利用率的加权平均值时延与利用率的关系根据排队论当信道利用率增大时该信道引起的时延会急剧增加公式其中是当前时延是空闲时延是利用率结论信道利用率并非越高越好过高的利用率会导致网络性能严重下降计算机网络体系结构网络协议定义为进行网络中的数据交换而建立的规则标准或约定作用规范数据格式时序和在收发数据时所采取的动作确保通信双方能够正确协调工作网络协议的三要素语法数据与控制信息的结构或格式例如地址字段的长度和位置语义各个控制信息的具体含义规定了需要发出何种控制信息完成何种动作以及做出何种响应同步事件实现的顺序和时间的详细说明规定了数据发送的时机和速率协议的分层模型目的将庞大而复杂的网络问题转化为若干个较小的易于处理的局部问题好处各层独立某一层实现技术的改变不影响其他层灵活性好易于更新和扩展结构上可分割便于分工和模块化设计易于实现和维护有利于功能复用能促进标准化工作计算机网络的体系结构体系结构定义计算机网络的各层及其协议的集合是抽象的功能定义实现定义遵循体系结构用具体的硬件或软件来完成这些功能是具体的两种重要的体系结构模型参考模型国际标准化组织提出共七层应用层表示层会话层运输层网络层数据链路层物理层理论完整但复杂不实用参考模型互联网事实上的国际标准共四层应用层运输层网际层网络接口层教学用的五层原理体系结构结构结合了和的优点在学习中常用层次应用层运输层网络层数据链路层物理层各层协议的主要功能应用层通过应用进程间的交互来完成特定网络应用定义应用进程间的通信和交互规则运输层负责向两台主机中进程之间的通信提供通用的数据传输服务网络层负责为分组交换网上的不同主机提供通信服务核心是路由和转发数据链路层将网络层交下来的分组组装成帧在相邻节点间的链路上实现可靠传输物理层在传输媒体上传送比特流协议的层次关系与数据封装服务关系下层为上层提供服务上层使用下层的服务协议栈各层协议的集合数据封装与解封装过程发送方封装应用层应用程序数据被加上应用层首部运输层将上层数据加上运输层首部形成报文段用户数据报网络层将上层数据加上网络层首部形成分组数据报数据链路层将上层数据加上链路层首部和尾部形成帧物理层将帧转换为比特流在物理媒介上传输接收方解封装过程与封装相反逐层剥去首部和尾部最终将数据交给应用进程中间设备的工作层次路由器在转发分组时最高只用到网络层交换机主要工作在数据链路层集线器工作在物理层实体协议和服务实体任何可发送或接收信息的硬件或软件进程是某一层中的活动元素协议定义控制两个对等实体进行通信的规则的集合方向协议是水平的服务定义由下层向上层通过层间接口提供的功能方向服务是垂直的服务访问点上层使用下层服务的逻辑接口透明性下层的协议对上层的服务用户是透明的上层只能看到服务而看不到实现服务的协议新兴网络技术简介云计算定义一种将计算任务分布在由大量计算机构成的资源池上的商业计算模型通过网络向用户提供按需可扩展的计算存储和软件服务云的含义指可以自我维护和管理的虚拟计算资源集合如大型服务器集群云计算服务类型基础设施即服务提供计算存储网络等基础资源平台即服务提供应用程序开发和部署平台软件即服务提供可直接使用的应用程序物联网定义通过各种信息传感设备如传感器等按约定的协议把任何物体与互联网连接起来进行信息交换和通信以实现对物体的智能化识别定位跟踪管理和控制的一种网络目标实现人与物物与物之间的沟通和对话三种基本的应用模式对象的智能识别通过或二维码识别特定对象环境监控和对象跟踪利用传感器网络实时获取对象状态和行为对象的智能控制基于获取的数据进行分析决策并实施有效控制如智能交通灯计算机网络核心备考笔记第章物理层物理层的基本概念物理层的作用核心功能在连接各种计算机的传输媒体上传输原始的数据比特流和关注点物理层关注的是怎样传输比特流而不是具体的传输媒体本身核心目标屏蔽掉不同硬件设备传输媒体和通信方式的差异使得上层数据链路层感觉不到这些差异只需关注数据的逻辑传输物理层需要考虑的问题传输媒体的类型规定信号传输所使用的物理媒介如铜线光纤或无线电频段位的表示定义如何用物理信号如电压光脉冲来表示二进制的和这涉及到编码机制数据速率规定每秒钟能够发送的比特数量单位是或位同步确保发送方和接收方的时钟保持一致使接收方能准确地在每个比特的中间时刻进行采样正确识别和链路配置点到点配置两个设备通过一条专用链路连接多点配置多个设备共享同一条链路物理拓扑结构规定设备如何物理连接成网络常见类型星型拓扑总线型拓扑环型拓扑网状结构等传输方式串行传输并行传输传输方向单工半双工全双工接口特性规定传输设备与传输媒体之间接口的详细特性与传输媒体的接口特性物理层协议的一个核心任务是精确定义接口的四个特性机械特性定义指明接口所用接线器的物理规格具体内容形状尺寸引脚引线数目引脚排列方式固定和锁定装置等示例接口的个引脚及其排列电气特性定义指明接口电缆的各条线上出现的电压电流等电气参数的范围具体内容电压范围阻抗匹配传输速率与距离的限制等示例规定某引脚上表示逻辑表示逻辑功能特性定义指明某条线上出现的某一电平的电压所代表的意义具体内容定义各条信号线的功能如数据线控制线时钟线等示例接口中引脚和引脚用于发送数据规程特性定义指明对于不同功能的各种可能事件的出现顺序即定义了使用接口进行数据传输的协议和时序具体内容描述了信号变化的顺序和时间关系规定了控制和响应的流程示例电话通信中摘机拨号振铃通话挂机的事件顺序物理层规程用于物理层的协议也常称为物理层规程规程是协议这个名词出现之前使用的旧称二者本质上是同义词数据通信的基础知识数据通信系统的模型一个完整的数据通信系统包含三个主要部分源系统数据的发送方源点产生原始信息如键盘输入发送器将原始信息转换为适合在传输系统上传输的信号如调制解调器进行调制传输系统连接源系统和目的系统的物理通路如公用电话网目的系统数据的接收方接收器将接收到的信号转换回原始信息如调制解调器进行解调终点接收并处理信息如计算机屏幕显示几个常用术语数据运送消息的实体是信息的载体信号数据的电气或电磁表现形式模拟信号代表消息的参数如电压频率取值是连续的数字信号代表消息的参数取值是离散的通常只有两种状态码元在使用时域波形表示数字信号时代表不同离散数值的基本波形一个码元可以携带位或多位信息编码与调制编码将数字数据转换为数字信号的过程调制将数字数据转换为模拟信号的过程常用编码方式不归零制用正电平代表负电平代表或反之缺点是难以同步归零制用正脉冲代表负脉冲代表每个码元传输结束后信号都回归到零电平曼彻斯特编码原理在每一位的中心处都有一个电平跳变规则位周期中心的下跳变高到低代表上跳变低到高代表特点具有自同步能力因为每个比特中间都有跳变接收方可以据此校准时钟差分曼彻斯特编码原理位开始边界的跳变情况决定了比特值规则位开始边界有跳变代表位开始边界没有跳变代表每个比特中间仍然有跳变用于同步特点具有自同步能力且比曼彻斯特编码抗干扰性更好基本调制方法通过改变载波信号的参数振幅频率相位来承载基带数字信号调幅幅移键控载波的振幅随基带数字信号变化调频频移键控载波的频率随基带数字信号变化调相相移键控载波的初始相位随基带数字信号变化调制解调器实现调制和解调功能的设备基带传输与频带传输基带信号原始的数字信号如矩形脉冲频率从直流开始基带传输在数字信道上直接传输基带信号频带信号带通信号经过载波调制后的信号频率被搬移到较高频段频带传输在模拟信道上通过调制来传输信号信道的极限容量实际信道存在失真和干扰限制了数据传输速率主要受两大因素制约信道带宽信噪比奈氏准则背景带宽有限的信道会导致信号高频分量衰减波形前后沿变缓产生码间串扰码元之间界限不清准则内容在理想的无噪声低通信道中最高码元传输速率为波特信道带宽单位波特码元传输速率的单位即码元秒推论码元传输速率存在上限超过上限会出现严重码间串扰信道带宽越宽可用的最高码元传输速率越高要提高信息传输速率可以在不改变码元速率的前提下让每个码元携带更多的比特信息采用多元制信息传输速率公式信息速率码元速率其中是码元所取的离散值个数如表示进制调制香农公式背景奈氏准则只考虑了带宽未考虑噪声香农公式给出了在有噪声信道中的极限信息传输速率公式信道的极限信息传输速率单位信道带宽单位信噪比即信号的平均功率与信道内高斯噪声功率的比值注意是无单位的比值不是分贝推论信道带宽或信噪比越大信息的极限传输速率就越高只要信息传输速率低于信道的极限速率理论上就能找到一种方法来实现无差错的传输它揭示了为了提高信息速率必须同时提高带宽和信噪比传输方式对比维度并行传输串行传输原理一次同时发送个比特一次只发送个比特逐位发送线路数需要条传输线路只需要条传输线路优点速度快成本低适用于远距离传输缺点成本高线路间易受干扰不适用于远距离速度相对较慢对比维度异步传输同步传输传输单位字节比特流同步方式每个字节有起始位和停止位用于同步通过外部时钟或自同步编码如曼彻斯特保持收发双方时钟同步时间间隔字节之间的时间间隔不固定比特之间的时间间隔固定效率较低有额外开销较高无额外开销适用场景低速通信如键盘鼠标高速数据传输对比维度单工通信半双工通信全双工通信通信方向只能单向通信双向交替通信双向同时通信信道数量条条条或条信道通过技术划分能否同时只能一方发送另一方接收不能同时发送和接收可以同时发送和接收示例广播电视对讲机电话物理层下面的传输媒体传输媒体发送器和接收器之间的物理通路分类对比类别导引型传输媒体非导引型传输媒体传播方式电磁波被导引沿着固体媒体传播电磁波在自由空间中传播无线传输特点信号稳定不易受干扰保密性好无需敷设缆线便捷但易受干扰保密性差示例双绞线同轴电缆光纤无线电波微波红外线可见光导引型传输媒体双绞线特点最常用的传输媒体将两根绝缘铜导线相互绞合以减小电磁干扰分类无屏蔽双绞线无金属屏蔽层价格便宜是局域网中最常用的线缆屏蔽双绞线有金属屏蔽层抗干扰能力更强但价格更贵标准类别带宽典型应用类超类类短距离超类米类以上类短距离同轴电缆结构内导体绝缘层外导体屏蔽层保护外层特点比双绞线带宽高抗干扰性好应用目前主要用于有线电视网的居民小区部分光纤原理利用全反射原理让光脉冲在光导纤维中传输分类多模光纤纤芯较粗光线以多种角度入射和反射易产生色散适用于短距离传输单模光纤纤芯极细光线沿直线传播衰耗小适用于高速长距离传输优点通信容量巨大频率高带宽极宽传输损耗小中继距离长远距离传输经济抗电磁干扰光信号不受电磁影响保密性好无串音干扰不易被窃听体积小重量轻非导引型传输媒体微波特点频率高容量大主要沿直线传播通信方式地面微波接力通信因地球曲率和障碍物需建立中继站接力传输站间需直视卫星通信利用人造地球卫星作为中继站覆盖范围广通信距离远但传播时延大无线局域网使用的频段工科医频段无需许可证即可使用常见频段其他无线电波短波靠电离层反射通信用于远距离通信超短波靠空间直射传播用于近距离无线电通信红外线与可见光特点直线传播不能穿透障碍物不受电磁干扰带宽很高应用红外遥控器可见光通信等信道复用技术复用将多个独立的低速信道合并通过一条高速的物理线路进行传输的技术可以共享传输媒体带宽节省成本频分复用原理将传输线路的总频带资源划分成多个互不重叠的子频带每个用户分配一个固定的子频带特点所有用户在同一时间占用不同的频率带宽类比多条并行的车道每辆车占用一条车道时分复用原理将传输时间划分为一段段等长的时分复用帧帧每个用户在每个帧中占用一个固定序号的时隙特点所有用户在不同时间占用相同的频率带宽问题当某个用户无数据发送时其对应的时隙会被浪费导致信道利用率不高类比一个十字路口的红绿灯不同方向的车辆分时通过统计时分复用原理动态地按需分配时隙只有需要发送数据的用户才会被分配时隙特点帧中的时隙数小于用户总数时隙不固定分配给某个用户因此每个时隙中必须包含用户的地址信息显著提高了信道利用率波分复用原理光的频分复用在一根光纤中同时传输多个不同波长即不同频率的光信号设备在发送端使用光复用器合波器在接收端使用光分用器分光器特点极大地提高了光纤的传输容量码分复用码分多址原理所有用户在同一时间使用相同的频带进行通信但每个用户被分配一个唯一的相互正交的码片序列来区分工作流程码片将每个比特时间再划分为个短的间隔每个间隔称为一个码片编码发送比特发送该用户唯一的码片序列发送比特发送该码片序列的二进制反码正交性为每个用户分配的码片序列向量必须两两正交任意两个不同用户的码片序列向量和其规格化内积为任何码片序列向量与自身的规格化内积为任何码片序列向量与自身反码的规格化内积为接收与解码接收站收到的是所有发送站信号的叠加要接收特定站的信号接收站用站的码片序列与收到的叠加信号进行内积运算根据正交性所有其他站的信号分量在内积运算后都为被过滤掉运算结果为则判定站发送的是比特结果为则判定站发送的是比特特点扩频通信抗干扰能力强频谱类似白噪声保密性好数字传输系统速率体制用途将模拟电话信号转换为的数字信号复用通过将多路信号汇集成帧进行传输两大标准北美体制复用路话音欧洲体制复用路话音问题速率标准不统一且采用准同步方式不利于国际高速互联同步光纤网与同步数字系列背景为解决体制的缺点而提出的国际标准美国标准国际标准以为基础核心特点所有网元时钟都来自一个精确的主时钟实现了真正的同步传输速率等级速率符号符号常用近似值光网络全光网用光网络结点代替电子设备实现端到端全光传输避免光电转换瓶颈光传送网基于技术在光域上实现信号交换和复用是向演进的过渡技术自动交换光网络在基础上引入智能控制实现光通路的动态建立和拆除按需分配网络资源互联网接入技术最后一公里接入网连接用户设备到边缘路由器的物理链路及相关设备电话网拨号接入方式通过调制解调器和电话线拨号连接特点非宽带速率最高不能同时打电话和上网数字用户线接入原理利用现有电话用户线的高频部分进行数字传输非对称数字用户线目前最常用的技术非对称下行速率到用户远大于上行速率用户到技术采用低频段用于传统电话高频段用于数据传输设备用户端安装局端设备为数字用户线接入复用器光纤同轴混合网接入原理在有线电视网基础上改造实现双向数据传输结构主干线路使用光纤到用户小区后转为同轴电缆特点共享介质小区内所有用户共享同一段同轴电缆的带宽实际速率受同时上网用户数影响设备用户端安装电缆调制解调器头端设备为电缆调制解调器端接系统光纤接入定义光纤到代表光网络单元的位置光纤到户最理想的接入方式光纤到大楼光纤到路边无源光网络主流技术从局端到用户之间只有无源光器件如光分路器可靠性高成本低下行局端采用广播方式向所有发送数据上行各采用时分多址方式共享上行信道以太网接入应用主要用于机构企业校园内部也可用于住宅接入特点在原有以太网技术上增加控制隔离计费等功能无线接入无线局域接入通过无线局域网接入典型技术是无线广域接入通过蜂窝移动通信系统接入典型技术是计算机网络核心备考笔记第章数据链路层数据链路层的基本概念数据链路层所处的地位层次位置数据链路层位于网络层与物理层之间数据流动模型当主机向发送数据时数据需要经过多个路由器在主机和路由器内部数据包会从上到下应用层物理层进行封装或从下到上物理层应用层网络层进行解封装路由器是网络层设备它只处理到网络层数据帧到达路由器后数据链路层和物理层的封装会被解开路由器根据地址决定下一跳然后重新封装成新的数据链路层帧再通过物理层发送出去逐跳传输数据链路层的通信是在相邻节点主机到路由器路由器到路由器路由器到主机之间逐段进行的数据链路层使用的两种信道类型点对点信道定义使用一对一的点对点通信方式特点通信过程相对简单广播信道定义使用一对多的广播通信方式特点过程比较复杂连接的主机很多必须使用专用的共享信道协议来协调数据发送以避免冲突链路和数据链路的区别对比维度链路数据链路定义从一个结点到相邻结点的一段物理线路中间无任何交换结点在物理线路的基础上增加了实现通信协议的硬件和软件本质物理通路逻辑通路实现物理介质如电缆光纤通过适配器即网卡实现协议网卡通常包含了数据链路层和物理层的功能数据链路层传送的是帧协议数据单元数据链路层的协议数据单元称为帧封装过程数据链路层从网络层接收数据报将数据报封装在帧的数据部分添加帧首部和帧尾部构成一个完整的帧将帧交付给物理层转换成比特流进行传输解封装过程接收方的数据链路层从物理层接收比特流重组成帧然后从中提取出数据报并交给网络层封装成帧定义封装成帧就是在一段数据的前后分别添加首部和尾部构成一个帧核心作用帧定界首部和尾部的重要作用是让接收方能够准确地从比特流中识别出一个帧的开始和结束最大传送单元定义每一种链路层协议都规定了帧的数据部分长度的上限结构帧首部数据报帧的数据部分帧尾部透明传输定义指数据链路层对上层网络层交付的传输数据没有任何限制就好像数据链路层不存在一样数据部分出现的任何比特组合都不会被错误地解释为帧定界的控制字符问题如果数据部分包含了与帧定界符如完全相同的比特组合接收端会错误地判断帧的结束导致数据接收不完整解决方案字节填充法字符填充法应用场景面向字符的物理链路工作原理在发送端在数据中出现的帧定界符或转义字符前面插入一个转义字符在接收端将数据送往网络层之前删除插入的转义字符零比特填充法应用场景面向比特的物理链路如协议工作原理发送端对数据部分进行扫描只要发现个连续的就立即在其后填入一个接收端对数据部分进行扫描每当发现个连续的时就将其后的一个删除差错检测需求原因物理链路并非完全可靠传输过程中可能会产生比特差错变或变误码率传输错误的比特占所传输比特总数的比率基本原理在发送端根据要发送的数据通过函数计算出差错检测码将附加在数据后面一起发送这个通常被称为帧检验序列在接收端对收到的数据和进行校验如果与不匹配则判定帧有差错并丢弃注意差错检测并非可靠但可以使漏检概率降到极低循环冗余检验特点检错性能高易于硬件实现是数据链路层广泛使用的检错技术计算流程收发双方事先商定一个位的二进制数称为生成多项式发送端在原始数据位后面添加个得到位的数用这个新数对生成多项式做模除法得到的位余数就是校验码即将附加在原始数据后面发送出去接收端将接收到的数据包含校验码用同一个生成多项式做模除法如果余数为则判定帧没有差错接受如果余数不为则判定帧有差错丢弃纠错机制只能检错不能纠错纠错通常由上层协议负责或数据链路层采用确认重传机制可靠传输协议停止等待协议核心思想发送方每发送一帧后就停止发送等待接收方的确认收到确认后再发送下一帧解决的问题与机制比特差错通过等差错检测码发现错误帧接收方直接丢弃发送方因收不到确认而超时重传确认丢失发送方等待超时后会重传同一数据帧接收方需要能识别这是重复帧解决方案为数据帧增加序号如和交替接收方根据序号判断是否为重复帧这种协议也称为比特交替协议确认迟到迟到的可能被发送方误认为是对新帧的确认解决方案为确认帧也增加序号如发送方根据的序号判断其有效性自动重传请求采用确认和超时重传机制来实现可靠传输的协议统称信道利用率当往返时延远大于帧发送时延时信道利用率极低信道利用率为发送时间可忽略流水线传输与滑动窗口协议流水线方式为提高利用率允许发送方在未收到确认的情况下连续发送多个分组即连续协议滑动窗口协议发送窗口发送方维护一个允许连续发送的帧序号范围只有落在发送窗口内的帧才能被发送窗口滑动当收到对窗口内最早帧的确认后发送窗口向前滑动作用在保证可靠传输的前提下通过连续发送提高信道利用率同时通过窗口大小控制发送速率回退帧协议发送方发送窗口大小可连续发送窗口内的所有帧采用超时机制若某个帧超时则重传该帧及其之后所有已发送的帧接收方接收窗口大小只按序接收帧任何失序到达的帧都会被丢弃每正确接收一个按序的帧就发送一个累积确认表示序号及之前的所有帧都已正确接收选择重传协议目的克服协议因单个错误导致大量重传的低效问题发送方发送窗口大小只重传那些超时或收到否定确认的帧接收方接收窗口大小可以接收并缓存失序到达但未出错的帧当所缺的帧到达后将一批连续的帧交付给上层采用选择确认只确认已正确收到的帧点对点协议定义目前使用最广泛的点对点数据链路层协议常用于用户计算机与之间的通信主要特点简单不提供复杂的可靠传输服务如编号确认由上层协议保证封装成帧使用作为帧定界符透明性使用字节填充或比特填充实现透明传输多种网络层协议能在同一链路上支持多种网络层协议如多种类型链路能在多种点对点链路上运行差错检测能检测并丢弃有差错的帧网络层地址协商提供协议来协商网络层地址如动态分配地址组成部分封装方法将数据报等上层数据封装到串行链路的方法链路控制协议用于建立配置和测试数据链路连接网络控制协议一套协议用于支持不同的网络层协议帧格式协议信息标志帧定界符地址固定为控制固定为协议指明信息字段的数据类型表示数据报表示数据字节的校验工作状态建立物理连接如拨号发送分组进行链路建立和配置协商进行鉴别可选发送分组进行网络层配置如分配地址进入打开状态进行数据通信通信结束释放网络层连接释放数据链路层连接最后释放物理连接使用广播信道的数据链路层媒体接入控制问题在广播信道共享媒体上如何协调多个站点的数据发送以解决冲突问题分类静态划分信道预先分配好信道资源频分多址时分多址码分多址缺点对于突发性业务信道利用率低动态接入控制随机接入站点通过竞争随机地在信道上发送数据核心如何减少冲突冲突后如何尽快恢复应用共享式以太网和无线局域网局域网特点网络为一个单位所拥有地理范围和站点数目有限数据链路层拆分标准逻辑链路控制子层与传输媒体无关为网络层提供服务媒体接入控制子层与接入传输媒体有关负责解决冲突适配器网卡功能连接计算机与局域网实现数据链路层和物理层协议地址固化在适配器中的地址地址硬件地址定义一个位的全球唯一地址用于在局域网中唯一标识一个网络接口格式通常表示为个十六进制数如地址类型单播一对一广播一对全体地址为多播一对多共享式以太网与协议以太网当今最主流的局域网技术最初采用总线型拓扑和共享媒体工作方式无连接不可靠对差错帧直接丢弃重传由高层决定载波监听多址接入冲突检测英文全称核心思想先听后发边发边听冲突停发随机重发工作流程载波监听发送前先监听信道如果信道空闲则发送数据如果信道忙则持续监听直到信道空闲冲突检测在发送数据的同时持续检测信道上的信号电压如果检测到电压摆动异常说明发生了冲突冲突处理一旦检测到冲突立即停止发送数据并发送一个简短的干扰信号以确保所有站点都知道发生了冲突退避重传冲突后等待一段随机时间再重新尝试发送等待时间由二进制指数退避算法决定算法重传退避时间争用期是从中随机选取的一个整数为重传次数但不超过重要概念争用期值为即总线端到端传播时延的两倍这是站点能够检测到冲突的最长时间最短帧长字节为了确保在帧发送完毕前能够检测到可能发生的最远距离的冲突帧的发送时间必须不小于争用期信道利用率参数越小信道利用率越高使用集线器的星形拓扑集线器工作层次物理层设备工作原理将从一个接口收到的信号放大后向所有其他接口转发特点逻辑上仍是总线型结构所有连接的设备共享带宽所有设备处于同一个碰撞域和同一个广播域使用集线器扩展网络会增大碰撞域可能降低网络性能以太网的帧格式目的地址源地址类型数据目的源地址位的地址类型指明上层协议的类型如表示数据长度不足字节时需要填充字节的校验码在数据链路层扩展局域网网桥工作层次数据链路层功能连接不同的局域网段根据帧的目的地址对帧进行转发和过滤核心作用隔离碰撞域每个接口连接一个独立的碰撞域但所有接口仍属于同一个广播域透明网桥特点即插即用对站点透明自学习算法网桥维护一张转发表地址表记录地址接口时间学习过程每当收到一个帧检查其源地址如果该地址不在表中就将其与接收该帧的接口一起记录到表中如果该地址已在表中就更新其时间戳转发过滤过程检查帧的目的地址如果在表中找不到该地址则向除源接口外的所有接口转发泛洪如果在表中找到该地址若对应的接口不是源接口则向该指定接口转发若对应的接口就是源接口则丢弃该帧过滤因为目的站点在同一网段生成树协议问题当网桥之间形成环路时广播帧和未知单播帧会无限循环导致广播风暴解决方案协议在逻辑上阻塞某些冗余链路使得网络拓扑形成一棵无环路的树从而避免循环当主链路故障时可以自动启用被阻塞的备用链路对比维度集线器网桥交换机工作层次物理层数据链路层数据单元比特帧转发方式广播向所有接口转发存储转发根据地址表选择性转发碰撞域所有接口在同一个碰撞域每个接口是一个独立的碰撞域广播域所有接口在同一个广播域所有接口在同一个广播域速率不能连接不同速率的网段可以连接不同速率的网段智能性无智能傻瓜设备智能设备具有自学习能力以太网交换机定义实质上是一种多接口的网桥也称为二层交换机特点每个接口连接一个设备或一个集线器形成一个独立的碰撞域能够同时连通多对接口实现并发通信通常工作在全双工方式无冲突不使用协议交换式以太网取代了共享式以太网极大地提高了局域网性能缺点所有接口仍处于同一个广播域无法隔离广播风暴虚拟局域网定义一种将局域网内的设备从逻辑上划分成多个不同网段广播域的技术而这些设备在物理上可能连接在同一个交换机上核心作用隔离广播域每个都是一个独立的广播域优点控制广播风暴将大的广播域分割成多个小的广播域增强网络安全不同间的通信默认被隔离简化网络管理网络重构无需改变物理布线只需修改配置间通信不同间的通信必须经过三层设备如路由器或三层交换机的实现帧格式在以太网帧的源地址和类型字段之间插入一个字节的标记链路能够承载多个流量的链路通常用于交换机之间的连接在链路上帧都带有标记接口通常用于连接终端设备只属于一个处理的帧不带标记无线局域网标准系列通常称为组成有基础设施的网络由接入点和多个无线站组成基本服务集一个和其覆盖范围内的所有无线站扩展服务集多个通过有线网络连接起来无线站之间的通信必须通过进行转发无基础设施的网络没有所有无线站地位平等直接通信组成一个临时的自组网络协议载波监听多址接入冲突避免英文全称使用原因冲突检测困难无线信道中接收信号远小于发送信号硬件上难以实现冲突检测隐蔽站问题和都在的通信范围内但和互相听不到对方当和同时向发送数据时会在处发生冲突但和无法检测到核心思想通过预约信道和随机退避等机制尽量避免冲突的发生工作机制确认机制规定所有数据帧和管理帧都必须使用停止等待协议进行确认以实现可靠传输冲突避免预约信道为解决隐蔽站问题源站可以先发送一个短的请求发送帧目的站收到后广播一个清除发送帧周围所有听到的站点在指定时间内都不能发送数据随机退避当站点要发送数据时先监听信道若信道空闲则等待一段帧间间隔时间后发送若信道忙则启动一个随机退避计时器计时器归零后才能发送帧格式特点具有个地址字段以适应不同的网络结构如地址到地址分别用于表示接收者发送者源地址目的地址等不同角色具体含义由帧控制字段中的和位决定蜂窝移动通信系统概念将服务区域划分为多个小区每个小区设置一个基站实现大范围的无线覆盖演进模拟通信只能提供话音业务数字通信提供数字话音和短信服务如支持更高的数据传输速率引入技术支持数据业务采用和技术全网络结构提供高速数据服务三大应用场景增强型移动宽带超高可靠超低时延通信大规模机器类型通信备考建议重点掌握和的工作原理及区别网桥交换机的自学习和转发过程停止等待和三种可靠传输协议的机制与对比的概念和作用熟记数据链路层的主要功能名称帧和以太网的帧格式理解透明传输的两种实现方法字节填充和零比特填充检错原理计算机网络核心备考笔记第章网络层网络层概述分组转发和路由选择核心任务网络层的主要任务是将分组从源主机传送到目的主机两大核心功能分组转发定义当一个分组到达路由器的输入链路时路由器必须将该分组移动到适当的输出链路的过程依据路由器内部的转发表原理分组首部包含一个转发标识路由器根据此标识查询转发表以确定输出接口所属平面数据平面直接作用于数据流路由选择定义决定分组从源到目的地所经过的路径或路由的过程实现通过运行路由选择协议来计算和生成路由表进而生成转发表所属平面控制平面负责进行转发决策的逻辑控制网络层提供的两种服务网络层向运输层提供两种服务模型但一个具体的网络体系结构如通常只选择其中一种虚电路网络提供面向连接的服务数据报网络提供无连接的服务采用此模型虚电路服务核心思想在数据传输前先在源主机和目的主机之间建立一条逻辑上的连接即虚电路特点所有分组都沿着同一条虚电路传送分组首部只需携带一个短的虚电路编号而不需要完整的目的地址这是一种逻辑连接而非物理连接分组依然采用存储转发方式与电路交换类似但非完全相同电路交换是物理连接数据报服务核心思想网络层对每个分组都独立地进行路由选择和转发分组之间无任何关联特点每个分组都必须携带完整的目的主机地址路由器根据每个分组的目的地址独立选择路径不同分组可能沿着不同路径传输可能出现失序到达或丢失网络尽最大努力交付不保证可靠性虚电路服务与数据报服务的对比对比方面虚电路服务数据报服务基本设计思想可靠通信由网络来保证可靠通信由用户主机来保证端到端原则连接的建立必须有连接建立数据传输连接拆除三个阶段不需要建立连接直接发送数据终点地址仅在连接建立阶段使用每个分组使用短的虚电路号每个分组都带有终点的完整地址分组的转发属于同一虚电路的分组按同一路由进行转发每个分组独立选择路由进行转发当结点出故障时所有通过该故障结点的虚电路均不能工作故障结点可能会丢失分组路由会自动更新绕开故障点分组的顺序总是按发送顺序到达终点到达终点时不一定按发送顺序服务质量保证容易实现可在连接建立时预留资源较难实现虚电路网络详解典型协议帧中继虚电路的组成路径从源到目的的一条路径虚电路号号路径上每段链路都有一个号用于标识该虚电路同一条虚电路在不同链路上可以有不同的号转发表路径上每个路由器都为该虚电路维护一个表项工作流程虚电路建立确定路径并为路径上的每条链路分配号在路由器中建立转发表项数据传送分组携带号沿已建立的虚电路传输路由器收到分组后根据入接口入号查询转发表得到出接口出号替换号后转发虚电路拆除释放连接删除路由器中的转发表项异构网络互连互连的复杂性异构网络在寻址方案最大分组长度接入机制路由技术等方面存在巨大差异网络互连的中间设备物理层转发器扩大网络物理范围数据链路层网桥连接同构或异构的局域网网络层路由器连接异构网络是实现网络互连最核心的设备网络层以上网关进行高层协议转换较复杂使用较少路由器的作用路由器工作在网络层用于连接多个异构的物理网络所有主机和路由器在网络层使用统一的协议和地址屏蔽了底层物理网络的差异虚拟互连网络网定义利用协议将客观存在的各种异构物理网络在逻辑上互连成一个统一的网络意义用户在使用网通信时感觉就像在一个单一的网络上无需关心底层网络的具体细节地址及编址方式地址连接在因特网上的主机或路由器的全球唯一的位标识符点分十进制记法为便于阅读将位二进制地址每位一组转换为十进制数并用点号分隔如地址的编址方法发展历程分类编址最早的编址方法划分子网对分类编址的改进无分类编址目前使用的方法分类编址结构地址网络号主机号地址类别类开头位网络号位主机号类开头位网络号位主机号类开头位网络号位主机号类开头用于多播类开头保留备用划分子网目的解决类和类地址中主机号过多造成的地址浪费问题原理从主机号部分借用若干位作为子网号三级结构地址网络号子网号主机号无分类编址核心思想消除了类的概念和划分子网的概念使用任意长度的网络前缀来标识网络地址回到两级结构地址网络前缀主机号子网掩码作用与地址进行按位与运算以提取出其网络前缀表示位二进制数网络前缀对应的位全为主机号对应的位全为记法斜线记法格式地址网络前缀位数例如表示网络前缀为位地址块表示一个地址块网络前缀为位主机号为位地址数量个最小地址网络地址最大地址广播地址注意主机号全网络地址和全广播地址通常不分配给主机地址与物理地址物理地址地址数据链路层使用的地址固化在网卡中用于局域网内部通信关系网络层及以上使用地址数据链路层使用物理地址地址一个数据报在传输过程中其源地址和目的地址始终不变但数据报每经过一个网络如一个局域网都需要被封装在帧中其源地址和目的地址在每一跳都会改变地址解析协议功能在同一个局域网内根据已知的地址解析出对应的物理地址地址表每个主机或路由器都维护一个高速缓存存储本局域网上地址到物理地址的映射工作流程检查缓存主机要向主机发送数据首先检查自己的表中是否有的地址对应的地址发送请求如果缓存中没有主机就在本局域网内广播一个请求分组内容为我的是是谁的是请告诉我你的地址接收与响应局域网内所有主机都收到该请求但只有地址匹配的主机会做出响应同时其他主机包括可以将的与映射关系存入自己的表发送响应主机向主机单播一个响应分组内容为我的是我的地址是更新缓存主机收到响应后将的与映射关系存入自己的表然后就可以封装帧进行通信了要点仅用于解决同一局域网内的地址解析问题若目的主机不在同一局域网源主机会使用解析出默认网关路由器的地址并将数据包发给网关数据报的格式一个数据报由首部和数据两部分组成首部包含一个字节的固定部分和一个可选的可变部分首部固定部分字段详解版本位指协议版本为首部长度位单位是字节最小值为字节最大值为字节总长度位指首部和数据的总长度单位是字节最大长度为字节标识标志片偏移这三个字段用于数据报分片当数据报长度超过链路的最大传送单元时需要分片标识唯一标识一个数据报同一数据报的所有分片具有相同的标识标志位表示后面还有分片表示这是最后一个分片表示禁止分片片偏移位指出该分片在原始数据报中的相对位置以字节为单位生存时间位数据报在网络中可通过的路由器数的最大值每经过一个路由器减若减为则丢弃该数据报防止无限循环协议位指出此数据报携带的数据部分使用了何种协议如以便目的主机的层将数据上交首部检验和位只检验首部不检验数据部分每经过一个路由器都要重新计算源地址位目的地址位数据报的转发转发算法提取目的从收到的数据报首部提取目的主机的地址判断是否直连判断是否在本路由器直连的某个网络上如果是则直接交付给目的主机通常需要解析地址查找路由表如果不是直连则查找路由表路由器将与路由表中每条路由的子网掩码进行按位与运算将结果与该路由的目的网络地址进行比较如果匹配则将数据报从该路由指定的下一跳地址或接口转发出去默认路由如果在路由表中找不到匹配的特定路由则使用默认路由进行转发丢弃与报告如果没有匹配的路由且没有默认路由则丢弃该数据报并向源主机发送一个目的网络不可达差错报文互联网控制报文协议功能允许主机或路由器报告差错情况和提供有关异常情况的报告它弥补了协议尽最大努力交付服务的不足地位是层的协议其报文作为数据报的数据部分进行传输报文类型差错报告报文终点不可达当路由器或主机不能交付数据报时源点抑制当路由器或主机因拥塞而丢弃数据报时已废弃超时当减为时参数问题当首部字段值不正确时路由重定向让主机知道到某个目的网络有更好的第一跳路由器询问报文回送请求和回送应答用于测试目的主机是否可达命令时间戳请求和时间戳应答用于时钟同步和测量时间应用使用回送请求应答报文测试主机间的连通性利用超时报文和终点不可达报文探测分组从源到终点的路径路由选择协议概述对比维度静态路由选择策略非自适应动态路由选择策略自适应特点简单开销小复杂开销大适应性不能及时适应网络状态的变化能较好地适应网络状态的变化适用场景小型拓扑稳定的网络大中型拓扑可能变化的网络自治系统在单一技术管理下的一组路由器使用一种内部路由协议和共同的度量来决定内的路由两大类路由协议内部网关协议在一个内部使用的路由协议例如外部网关协议在不同之间传递路由信息的协议例如路由信息协议类型基于距离向量算法核心思想每个路由器维护一张路由表记录自己到内所有其他网络的距离和下一跳路由器距离度量跳数直连网络距离为每经过一个路由器跳数加特点最大跳数为表示不可达因此只适用于小型网络仅和相邻路由器交换信息交换的信息是完整的路由表按固定时间间隔如秒交换路由信息距离向量算法收到邻居发来的路由更新报文对报文中每个条目目的网络距离将下一跳改为距离改为对于更新后的每个条目与自己路由表中的现有条目比较如果原表中没有则添加该新路由如果原表中有且下一跳也是则用新路由替换旧路由如果原表中有但下一跳不是比较距离如果新路由距离更短则更新缺点坏消息传得慢慢收敛问题当网络出现故障时可能出现路由环路和计数到无穷问题开放最短路径优先类型基于链路状态算法核心思想每个路由器都了解整个网络的拓扑结构然后使用算法计算出到所有其他网络的最短路径链路状态算法工作流程每个路由器主动发现其相邻路由器并测量到邻居的链路代价如时延带宽将这些信息我与谁相邻链路代价是多少打包成链路状态通告通过洪泛法向内的所有其他路由器广播自己的每个路由器都收集所有其他路由器发来的构建一个链路状态数据库即完整的网络拓扑图以自己为根节点使用算法计算出到所有目的网络的最短路径树生成路由表特点收敛速度快无路由环路问题支持可变长度子网掩码和使用数据报直接传输分组并提供可靠传输支持层次化区域划分将划分为多个区域的洪泛被限制在区域内减小了开销适用于大规模网络边界网关协议类型是当前互联网之间唯一的路由协议核心思想力求寻找一条能够到达目的网络且符合策略如不经过某个跳数较少的路径而非寻找最佳物理路径协议基础在两个发言人之间通过连接交换路由信息保证了可靠性算法路径向量算法在通告可达性信息时会附带上到达该网络所经过的路径序列例如向通告要到达网络可以经过路径收到后若要向通告则会说要到达网络可以经过路径通过检查路径序列可以非常容易地检测和避免路由环路如果收到的路径中包含自己的号则丢弃会话类型不同的发言人之间的会话同一内部的发言人之间的会话路由器的工作原理对比方面路由器二层交换机工作层次网络层数据链路层转发依据地址逻辑地址地址物理地址核心功能路由选择和分组转发过滤和转发帧连接对象连接不同的子网或异构网络连接同一局域网内的设备广播域隔离广播域每个接口是一个广播域不隔离广播域所有端口在一个广播域配置需要配置地址等不是即插即用即插即用速度传统上处理速度较慢需要解析首部转发速度快硬件实现三层交换机是一种特殊的路由器它在硬件层面实现了数据报的高速转发逻辑上等同于一个路由器一个二层交换机通常用于间路由或局域网核心虚拟专用网定义利用公用的因特网作为本机构各专用网之间的通信载体在逻辑上构成的专用网络专用地址规定了三块仅用于机构内部的私有地址段路由器不转发目的地址为这些地址的数据报实现技术隧道技术原理将一个使用私有地址的数据报内部数据报作为数据部分封装到另一个使用全球地址的数据报外部数据报中过程部门的路由器收到一个发往部门的内部数据报将其封装成一个新的数据报源地址为的公网目的地址为部门路由器的公网数据报在公网上像普通数据报一样传输收到后解封装取出内部数据报并转发给最终目的主机安全性为保证数据机密性通常在封装前对原始数据报进行加密处理网络地址转换目的极大地缓解地址耗尽问题原理允许在一个专用网络内部使用私有地址当内部主机要与外部互联网通信时在路由器上将其私有地址转换为一个或多个全球地址网络地址与端口号转换是最常见的实现方式也常被直接称为在进行地址转换时不仅转换地址还转换的端口号路由器维护一张转换表记录私有私有端口到公有公有端口的映射这样多个内部主机可以共享同一个全球地址通过不同的端口号来区分优点节省地址易于管理隐藏内部网络结构增强安全性缺点破坏了端到端的通信模型外部主机无法主动发起对内部主机的连接对某些应用造成困难多播定义在层实现的一对多通信一个源主机可以向一个多播组发送数据报所有加入该组的主机都能收到多播地址使用类地址范围到所需协议互联网组管理协议功能让本地局域网上的多播路由器知道本局域网上是否有主机加入了某个多播组工作范围仅在本地局域网内部主机通过向本地路由器报告自己要加入或离开某个多播组多播路由选择协议功能在多播路由器之间为每个多播组构建一棵多播转发树以高效地将多播数据报分发到所有有组成员的网络移动目标允许移动设备在不同网络间漫游时保持其地址不变从而保证上层应用连接的连续性关键术语移动主机具有漫游能力的主机归属网络移动主机的永久居所网络归属地址永久地址移动主机在归属网络中分配的固定地址归属代理位于归属网络中负责截获发往移动主机的分组并通过隧道转发给移动主机的路由器外地网络被访网络移动主机当前漫游所在的网络外地代理位于外地网络中为移动主机提供服务的路由器转交地址外地代理为移动主机在外地网络中分配的临时地址工作流程间接路由通信主机向移动主机的归属地址发送数据报该数据报被路由到的归属网络并被归属代理截获归属代理将该数据报封装隧道在一个新的数据报中目的地址为的转交地址然后发送出去数据报被路由到所在的外地网络由外地代理接收外地代理解封装取出原始数据报并将其交付给移动主机下一代网际协议主要特点巨大的地址空间地址从位增加到位灵活的首部格式采用固定的字节基本首部和可选的多个扩展首部提高了路由器处理效率支持即插即用支持无状态地址自动配置主机可以自动配置地址更好的支持增加了流量类型和流标号字段内置的安全性通过扩展首部原生支持地址表示冒号十六进制记法组位的十六进制数用冒号分隔如零压缩一连串连续的可以用一对冒号代替但每个地址中只能使用一次地址类型单播标识一个唯一的接口多播标识一组接口任播标识一组接口但数据报只会被发送给其中最近的一个是的配套协议整合了中和的功能邻居发现使用邻居请求通告报文多播来完成地址解析取代了的广播无状态地址自动配置主机通过路由器请求通告报文获取网络前缀并结合自己的接口标识符通常由地址生成自动生成全球单播地址从向过渡的技术双协议栈主机或路由器同时运行和两个协议栈可以处理两种协议的分组隧道技术将分组作为数据封装在数据报中以便在网络中传输软件定义网络核心思想控制平面与数据平面的分离数据平面由简单的分组交换机组成负责根据流表进行匹配动作的通用转发控制平面逻辑上集中在一个控制器网络操作系统上控制器拥有全局网络视野通过编程方式计算和下发转发表项给交换机体系结构网络控制应用程序实现路由选择负载均衡访问控制等具体网络功能的上层应用控制器系统的核心通过北向接口为上层应用提供网络抽象和编程接口通过南向接口控制底层交换机交换机数据平面的执行者南向接口协议是目前最主流的南向接口协议定义了控制器与交换机之间的通信方式以及流表的格式三大特征控制与转发分离硬件数据平面和软件控制平面解耦网络开放可编程通过开放的北向接口用户可以像开发软件一样开发网络功能逻辑上的集中控制控制器拥有全局视图可以进行全局优化和快速故障响应计算机网络核心备考笔记第章运输层运输层协议概述运输层协议的位置层次定位从通信和信息处理角度看运输层是面向通信部分的最高层同时也是用户功能中的最低层它位于应用层之下网络层之上运输层为相互通信的应用进程提供了逻辑通信核心功能为不同主机上的应用进程之间提供逻辑通信逻辑通信指运输层之间的通信看似是水平方向直接传送数据但实际上并无物理连接而是通过下层网络层数据链路层物理层服务实现的通信实体运输层的通信实体是端系统中的应用进程端到端的通信应用进程之间的通信也称为端到端通信重要功能复用与分用复用在发送方多个不同的应用进程可使用同一个运输层协议如或将数据封装后通过一个网络层协议如发送出去分用在接收方运输层能根据首部信息如端口号将接收到的数据正确交付给目的主机上相应的应用进程客户服务器通信模式定义一种网络通信模型其中一个进程主动发起通信另一个进程被动等待通信请求客户主动发起通信的应用进程服务器被动等待并接受通信请求的应用进程互联网的运输层协议主要协议互联网的运输层包含两个核心协议用户数据报协议传输控制协议运输协议数据单元传送的称为报文段传送的称为用户数据报与对比这是一个极其重要的考点必须熟练掌握特性用户数据报协议传输控制协议连接性无连接面向连接可靠性不可靠传输提供尽最大努力交付服务可靠传输确保数据无差错不丢失不重复按序到达传输模式支持单播多播广播仅支持点对点单播拥塞控制不提供提供流量控制不提供提供通过滑动窗口首部开销小固定的字节大固定的字节可选字段协议复杂度简单复杂适用场景实时应用电话视频会议等对实时性要求高允许少量丢包的应用要求高可靠性的应用万维网电子邮件文件传输等运输层的复用与分用实现机制在体系中通过软件端口来实现复用和分用端口是应用层与运输层之间接口的抽象用于标识主机中的特定应用进程它使得单个主机能够同时支持多个网络应用运输层端口的概念作用应用层进程通过端口将数据向下交付给运输层运输层通过端口将接收到的数据向上交付给相应的应用进程进程与端口需要通信的进程都必须与一个端口关联端口号用于标识与应用进程关联的端口相当于应用进程的运输层地址端口号通信要素两台计算机中的进程要通信必须知道对方的地址定位主机和端口号定位主机中的进程格式和的端口号都是位整数独立性端口号只具有本地意义不同计算机的相同端口号无直接关联和的端口号空间是相互独立的端口号分类熟知端口号范围分配由互联网赋号管理局分配给常用的服务如登记端口号范围分配不被严格控制但可注册以防重复动态端口号范围分配客户端进程临时使用的端口号通信结束后释放用户数据报协议概述定义是一个简单的无连接的运输层协议功能它在协议的数据报服务之上仅增加了两个最基本的功能端口功能实现复用和分用差错检测功能通过检验和字段提供有限的差错检测的主要特点无连接发送数据前无需建立连接减少了开销和时延尽最大努力交付不保证可靠交付不进行流量控制和拥塞控制无拥塞控制网络拥塞时源主机的发送速率不会自动降低这对于速率恒定的实时应用如视频会议很重要但可能加剧网络拥塞面向报文应用层交给多大的报文就原封不动地发送对上层报文既不合并也不拆分应用层程序必须选择大小合适的报文支持多种交互通信支持一对一一对多多对一和多对多的通信首部开销小首部仅有个字节比的字节小得多的问题拥塞风险大量使用的高速率应用可能导致网络严重拥塞可靠性需要可靠传输的应用必须在应用层自行实现相关机制的多路分用模型定位进程使用二元组目的地址目的端口号来唯一确定一个接收方的应用进程队列机制根据报文中的目的端口号将到达的报文放入相应的端口队列中等待应用进程读取队列溢出由于没有流量控制如果报文到达速率持续高于应用进程处理速率将导致队列溢出和报文丢失队列特点同一个目的端口队列中的报文其源和源端口可以不同的首部格式结构用户数据报由首部和数据两部分组成首部固定为字节包含个字段每个字段字节字段说明源端口发送方进程的端口号可选不使用时全为目的端口接收方进程的端口号长度用户数据报的总长度首部数据单位为字节检验和用于检测用户数据报在传输中是否出错可选不使用时全为伪首部作用在计算检验和时临时添加到用户数据报前的字节信息仅用于计算不随数据报向下传送组成源地址字节目的地址字节字节协议号字节为长度字节概述的主要特点定义传输控制协议是一种面向连接的可靠的基于字节流的运输层协议面向连接通信前必须先建立连接通信结束后释放连接点对点通信每一条连接只能有两个端点是一对一的通信可靠交付通过序号确认重传等机制保证数据传输的可靠性全双工通信连接双方的应用进程可以在任何时候既发送数据也接收数据面向字节流将应用层交付的数据看作是一个无结构的连续的字节序列不保留应用层报文的边界它会根据网络状况将字节流分割成大小合适的报文段进行发送连接与面向字节流的概念发送缓存与接收缓存连接的两端都设有发送缓存和接收缓存用于临时存放数据面向字节流的表现发送方应用进程写入的数据块大小与发送的报文段大小没有必然联系接收方接收方的应用进程从接收缓存中读取的数据块大小也与发送方写入的数据块大小无关保证保证接收方应用进程读取到的字节流与发送方应用进程发出的字节流完全一样顺序一致字节流管道连接就像一条连接两端缓存的字节流管道的连接虚连接连接是逻辑上的连接而非物理连接网络核心的路由器对此连接无感知连接状态连接的状态信息如缓存变量仅保存在通信的两个端系统中连接的唯一标识一条连接由其两端的套接字唯一确定连接这个四元组唯一标识了网络中的一条连接与复用的区别发往同一目的目的端口的数据报无论其源自何处都会进入同一个端口队列不同的连接即使目的和目的端口相同有各自独立的接收缓存通常一个服务器进程会为每个建立的连接创建一个子进程来处理报文段的格式概述组成报文段由首部和数据两部分组成首部长度固定首部为字节后面可以跟最多字节的选项字段因此首部最小长度为字节最大为字节固定首部字段字节源端口和目的端口各占字节用于分用序号占字节在一个连接中传送的字节流中每一个字节都按序编号此字段的值是本报文段所发送数据的第一个字节的序号确认号占字节是期望收到对方下一个报文段的第一个数据字节的序号它表示在此序号之前的所有数据都已正确接收是一种累积确认数据偏移占位指出报文段的数据起始处距离报文段起始处的偏移量实际上就是首部长度单位是字节所以最大值为字节保留占位目前置为控制位共个非常重要紧急标志位时表示报文段中有紧急数据应优先传送确认标志位时确认号字段才有效连接建立后所有传送的报文段都必须把置推送标志位时接收方应尽快将数据交付给应用进程不再等待缓存填满复位标志位时表明连接出现严重差错必须释放连接然后重新建立同步标志位时表示这是一个连接请求或连接接受报文终止标志位时表明发送方数据已发送完毕并要求释放运输连接窗口占字节指的是发送本报文段的一方的接收窗口大小用于告知对方自己还能接收多少字节的数据实现流量控制单位为字节检验和占字节检验范围包括首部数据和伪首部紧急指针占字节仅在时有效指出本报文段中紧急数据的字节数选项与填充字段选项长度可变最长字节常用选项包括最大报文段长度连接建立时双方协商的每个报文段所能承载的数据字段的最大长度填充为了使整个首部长度是字节的整数倍的可靠传输基础在不可靠的网络服务基础上通过多种机制实现了可靠的数据传输服务核心机制差错检测序号确认超时重传滑动窗口的序号与确认序号标识报文段中数据部分的第一个字节在整个字节流中的位置确认号期望收到的下一个字节的序号表示对该序号之前所有字节的累积确认延迟确认接收方收到数据后可以不立即发送确认而是等待一小段时间如果此时自己也有数据要发给对方就可以将确认信息捎带在数据报文段中节省开销的滑动窗口目的提高传输效率实现流水线式的数据传输单位滑动窗口的大小单位是字节发送窗口位于发送缓存中表示在未收到对方确认的情况下发送方最多可以连续发送的数据量发送窗口后沿的移动收到新的确认后后沿向前移动发送窗口前沿的移动由接收方窗口和网络拥塞状况决定接收窗口位于接收缓存中表示当前愿意接收的数据量接收方只对按序到达的数据进行确认对于未按序到达的数据通常会暂存于接收缓存中等待缺失的数据到达后再一起确认并交付上层应用收到接收窗口之外的数据直接丢弃可靠传输基本要点序号与窗口以字节为单位采用累积确认机制可使用捎带确认提高效率对失序数据先缓存等待按序后再确认丢弃窗口外的数据的重传机制的超时重传机制每发送一个报文段就启动一个超时计时器如果在计时器到期前未收到对该报文段的确认就认为该报文段已丢失或损坏并进行重传关键问题超时重传时间应该设置多大太短可能导致不必要的重传浪费网络资源太长降低传输效率挑战互联网中端到端的往返时延变化很大的测量与估计方法使用指数加权移动平均算法来估计加权平均往返时间新的旧的新的样本是平滑因子推荐值为偏差的加权平均值为了考虑的波动新的旧的新的样本推荐值为超时重传时间计算公式这个公式保证了比平均要大并且考虑了时延的抖动重传时的算法当报文段被重传时不采用其往返时间样本来更新和因为无法判断收到的确认是针对原始报文段还是重传报文段的即确认二义性超时退避报文段每重传一次就将增大一倍指数退避的选择确认问题传统的累积确认机制无法告知发送方哪些失序的数据块已被接收这可能导致发送方重传一些接收方已经收到但未确认的数据选择确认功能允许接收方在确认报文段中明确告知发送方哪些不连续的数据块已经被正确接收实现通过首部中的选项字段来实现工作方式连接建立时双方通过选项协商是否支持当接收方收到失序数据时它会发送一个选项该选项包含了已收到的不连续数据块的边界信息如发送方根据信息可以精确地只重传那些真正丢失的数据段避免了不必要的重传注意是对累积确认的补充首部中的确认号字段的意义和功能不变的缓存与流量控制的缓存发送缓存临时存放应用程序已发送但尚未发送的数据已发送但尚未收到确认的数据接收缓存临时存放按序到达但尚未被应用程序读取的数据未按序到达的数据的流量控制目的防止发送方发送数据过快导致接收方缓存溢出机制利用滑动窗口机制实现接收方在其发送的报文段首部的窗口字段中通告自己当前的接收窗口大小接收窗口大小等于接收缓存的空余空间发送方收到后会调整自己的发送窗口确保其大小不超过对方通告的接收窗口大小总结接收方通过通告自己的接收窗口大小来控制发送方的发送速率窗口探测报文段问题如果接收方通告窗口为发送方会停止发送数据若之后接收方窗口变大但它发送的更新窗口的报文段丢失了双方就会陷入死锁解决方案当发送方收到窗口为的通知后会启动一个持续计时器计时器到期后发送一个只包含字节数据的窗口探测报文段强制接收方返回一个包含当前窗口大小的确认从而打破死锁的连接管理三个阶段是面向连接的其生命周期包括连接建立数据传送连接释放三个阶段连接的建立三次握手目的同步双方的初始序号交换窗口大小等参数为数据传输分配资源过程假设为客户端为服务器端第一次握手客户端服务器客户端发送一个连接请求报文段是客户端随机选择的初始序号进入状态第二次握手服务器客户端服务器收到请求后如果同意连接则发送一个连接接受报文段是服务器随机选择的初始序号对的序号进行确认进入状态第三次握手客户端服务器客户端收到的确认后再发送一个确认报文段对的序号进行确认此报文段可以携带数据进入状态收到后也进入状态连接建立成功连接的释放四次挥手特点连接是全双工的释放过程需要双方各自关闭自己的发送方向过程假设主动释放连接第一次挥手的应用进程完成数据发送向发送一个连接释放报文段进入状态第二次挥手收到后发送一个确认报文段到方向的连接关闭进入状态此时仍然可以向发送数据半关闭状态收到确认后进入状态第三次挥手的数据也发送完毕后向发送一个连接释放报文段进入状态第四次挥手收到的后发送一个确认报文段进入状态等待时间后连接才真正关闭收到的确认后立即进入状态的拥塞控制概念拥塞当网络中注入的数据量超过网络处理能力时导致网络性能如吞吐量下降时延增大急剧恶化的现象拥塞控制防止过多的数据注入到网络中使网络中的路由器或链路不致过载它是一个全局性的过程流量控制拥塞控制流量控制是点对点问题抑制发送方速率以匹配接收方速率拥塞控制是全局问题抑制发送方速率以匹配网络处理能力拥塞控制机制拥塞窗口发送方维护的一个状态变量用于动态调整发送速率发送窗口上限发送窗口上限同时受流量控制和拥塞控制的限制拥塞控制算法四个核心部分慢启动目的连接刚建立时以较小的速率开始探测网络可用带宽算法初始每收到一个对新报文段的确认就增加效果是每经过一个就翻倍指数增长结束当达到慢启动门限时进入拥塞避免阶段拥塞避免目的在探测到接近网络容量时减缓的增长速度避免拥塞算法当时每经过一个只增加线性增长拥塞发生时的处理判断拥塞通过分组丢失事件来判断网络拥塞超时或收到个重复处理策略基于超时认为网络发生严重拥塞设置为当前的一半重置为重新执行慢启动处理策略基于个重复快速重传发送方在收到个重复后不等超时计时器到期立即重传丢失的报文段快速恢复认为网络发生轻度拥塞设置为当前的一半也设置为的值而不是直接进入拥塞避免阶段拥塞控制基本要点总结通过拥塞窗口控制发送速率初始执行慢启动指数增长达到慢启动门限后执行拥塞避免线性增长发生超时减半归重新慢启动严重拥塞收到个重复执行快速重传和快速恢复和均减半直接进入拥塞避免轻度拥塞计算机网络核心备考笔记第章应用层应用层概述地位计算机网络体系结构的最上层是设计和建立网络的最终目的特点计算机网络中发展最快的部分网络应用层出不穷开发简便性网络应用程序只运行在端系统中运输层已为应用提供了端到端的进程间逻辑通信服务开发者无需关心网络核心的复杂设备如路由器交换机网络应用程序体系结构定义指网络应用程序在各种端系统上的组织方式和它们之间的关系主要体系结构客户服务器体系结构对等体系结构客户服务器体系结构核心关系进程之间服务和被服务的关系客户服务的请求方服务器服务的提供方通信特点客户之间不直接通信所有通信都通过服务器进行服务器特点具有固定的地址和端口号总是处于运行状态等待客户的服务请求通常是高性能计算机全天开机应用模式服务集中型服务器是服务中心数量相对客户计算机少得多别称运行客户程序的计算机称为客户机运行服务器程序的计算机称为服务器对等体系结构核心关系没有固定的服务请求者和服务提供者应用进程是对等的通信特点对等方之间直接通信每个对等方既是服务的请求者又是服务的提供者特点可扩展性强每增加一个对等方既增加了请求者也增加了提供者系统性能不会因规模增大而明显降低服务分散型服务不集中在少数服务器而是分散在大量对等方计算机中应用实例文件下载软件与体系结构对比对比维度客户服务器体系结构对等体系结构核心思想服务集中管理与提供对等实体间直接通信与共享角色划分角色固定客户机请求服务服务器提供服务角色对等每个节点既是客户机也是服务器通信模式客户机之间不直接通信必须通过服务器对等方之间直接通信服务器依赖强依赖服务器是性能瓶颈和单点故障源弱依赖无依赖无中心服务器鲁棒性高可扩展性较差服务器负载随客户数量线性增长极好系统总能力随节点数量增加而增强服务模式服务集中型服务分散型典型应用服务电子邮件文件传输早期版本混合结构许多实际网络应用采用和的混合体系结构应用层协议定义为实现某种网络应用通信双方进程或对等方必须遵循的通信协议分类公开协议由文档定义如专用协议非公开的私有协议如许多应用选择运输层协议应用应用层协议运输层协议主要考虑电子邮件可靠性要求高数据不能出错远程终端访问可靠的命令与响应传输万维网网页内容必须完整可靠地传输文件传送文件完整性至关重要域名系统通常速度要求高单次查询响应可靠性由应用层保证电话专用协议通常用实时性要求高允许少量丢包低延迟比可靠性更重要流式多媒体专用协议或用于实时流用于要求无差错的场景域名系统核心功能实现主机名域名到地址的转换解析存在原因人喜欢使用易于记忆的字符串名字域名计算机使用高效的二进制数地址互联网的域名结构结构采用层次树状的等级结构命名方法格式三级域名二级域名顶级域名优点便于分级管理和维护名字的唯一性顶级域名国家顶级域名如中国美国英国通用顶级域名如公司网络服务非营利组织教育政府反向域用于反向域名解析地址到域名域名服务器背景单一服务器存储所有映射存在负载过大和单点故障问题解决方案采用分布式的域名服务器体系区域名服务器直接管辖的范围不是以域为单位而是以区为单位一个区是域名空间中的一部分可以等于一个域也可以小于一个域域名服务器类型根域名服务器最高层次是域名解析的核心不直接解析域名但存储所有顶级域名服务器的域名和地址全球共有个公开地址的根域名服务器集群顶级域名服务器负责管理该顶级域名下注册的所有二级域名存储其下属权威域名服务器的地址权威域名服务器负责一个区的管理直接负责维护该区中所有主机的域名到地址的映射关系本地域名服务器也称默认域名服务器不属于上述层次结构当主机发起查询时请求首先发往本地域名服务器作为主机的代理完成后续的域名解析过程通常由大学或企业配置域名解析的过程查询方式递归查询过程向查询如果不知道答案会代替向其他服务器查询直到找到答案再返回给特点被查询的服务器负担较重典型场景主机向本地域名服务器的查询迭代查询过程向查询如果不知道答案会告诉下一个应该去问谁然后再去问特点查询方客户端负担较重典型场景本地域名服务器向根顶级权威域名服务器的查询标准解析流程主机查询的地址主机向其本地域名服务器发起递归查询请求本地域名服务器开始迭代查询首先向根域名服务器发起请求根域名服务器响应告知负责域的顶级域名服务器的地址本地域名服务器向该顶级域名服务器发起请求顶级域名服务器响应告知负责域的权威域名服务器的地址本地域名服务器向的权威域名服务器发起请求的权威域名服务器查询到的地址并将其响应给本地域名服务器本地域名服务器将查询结果返回给主机并缓存该映射关系协议模式模式报文查询报文和响应报文运输层协议主要使用端口号缓存目的提高查询效率减轻上级服务器特别是根服务器的负荷减少网络流量机制主机和各级域名服务器都可以维护一个缓存缓存中存放最近查询过的域名及其地址每项缓存内容都设置一个计时器超时后删除以保证内容准确性提供的其它服务主机别名为一个规范主机名设置多个别名记录负载分配将同一个主机名映射到一个地址集合当收到解析请求时服务器轮询或随机返回集合中的一个地址从而将访问流量分配到多个服务器上反向域名解析通过反向域将地址转换为域名万维网一万维网概述定义一个运行在互联网上的网络应用是一个由无数文档和资源组成的通过超链接互相连接的巨大信息系统简称核心概念超文本包含指向其他文档超链接的文本工作方式采用客户服务器方式浏览器用户计算机上的客户程序服务器运行服务器程序驻留文档的计算机万维网解决的四个核心问题如何标志文档使用统一资源定位符如何传送文档使用超文本传送协议如何编写文档使用超文本标记语言如何查找信息使用搜索引擎二统一资源定位符作用唯一地标志一个资源在互联网上的位置是一种应用层地址一般形式协议主机端口路径协议如等主机资源的域名或地址端口服务器监听的端口号默认端口为通常可省略路径资源在服务器上的路径若省略则指向默认网页主页三超文本传送协议定义浏览器向服务器请求网页时所使用的应用层协议特点运行在之上实现可靠的文件交换工作过程浏览器客户端与服务器建立连接浏览器向服务器发送请求报文服务器收到请求后向浏览器发送响应报文释放连接连接方式对比连接方式协议版本过程优点缺点非持续连接每个请求响应都建立一个新的连接完成后关闭简单效率低连接建立开销大持续连接服务器在发送响应后在一段时间内保持连接允许在同一连接上传送多个请求响应效率高减少了连接建立开销报文格式面向文本的字段为码串请求报文请求行方法协议版本例如首部行包含请求的各种属性例如空行表示首部行结束实体主体请求的数据如方法提交的表单数据响应报文状态行协议版本状态码状态短语例如首部行包含响应的各种属性例如空行表示首部行结束数据响应的实体内容如文件四万维网的文档超文本标记语言定义制作网页的标准语言通过标签定义文档结构和内容文件格式码文件后缀为或静态文档动态文档活动文档文档类型定义与特点生成位置技术实例交互性静态文档内容固定不变创建完毕后存储在服务器上每次访问结果相同服务器端预先创建纯低动态文档内容由应用程序在浏览器访问时动态创建每次访问结果可能不同服务器端实时生成中需要与服务器交互活动文档服务器返回一段程序副本如脚本在浏览器端运行可连续改变页面显示而无需不断请求服务器客户端由服务器发来的程序执行高客户端本地交互浏览器服务器方式一种特殊的方式利用动态和活动网页技术通过通用浏览器为用户提供交互界面电子邮件工作原理将邮件发送到收件人使用的邮件服务器存放在其邮箱中收件人可随时上网读取电子邮件系统的基本组成核心组件用户代理电子邮件客户端软件用户与邮件系统的接口如负责撰写收发阅读邮件邮件服务器电子邮件系统的基础设施负责收发邮件并维护用户邮箱核心协议简单邮件传送协议用于发送邮件从到服务器从服务器到服务器是推协议邮件读取协议用于读取邮件从服务器到是拉协议电子邮件地址格式收件人邮箱名邮箱所在服务器的域名简单邮件传送协议作用用于发件人向发送方邮件服务器以及邮件服务器之间发送邮件模式客户服务器方式传输层使用连接进行可靠传输交互方式通过码的命令和应答信息进行交互电子邮件的信息格式结构由信封和内容两部分组成内容结构首部包含关键字和对应信息收件人地址邮件主题抄送地址发件人地址发信日期主体用户自由撰写的邮件正文邮件读取协议和对比维度核心思想简单将邮件从服务器下载到本地进行管理联机协议在服务器上直接操纵邮箱工作模式下载并删除或下载并保留用户始终在与服务器交互邮件主体默认不下载状态管理在不同计算机上管理邮件不便方便在不同设备上管理邮件状态在服务器同步功能功能有限只能进行简单的邮件读取操作功能强大可创建删除重命名邮箱按条件搜索邮件资源占用对服务器资源占用少需要与服务器保持较长时间连接占用服务器资源部分读取不支持必须下载整个邮件支持只读取邮件的某一部分如正文不下载附件基于万维网的电子邮件模式用户通过浏览器访问邮件服务商提供的网站来收发邮件模式协议流程用户浏览器邮件服务器的网站使用协议邮件服务器其他邮件服务器使用协议通用因特网邮件扩充解决的问题协议的局限性只能传送位的码无法传送非英语文字如中文不能传送二进制文件如可执行文件图片音视频的作用是一个辅助协议并未改动或取代在发送端将非数据编码成位码格式在接收端进行解码还原通过在邮件首部增加新的字段来定义邮件内容的格式和编码方式文件传送协议作用在互联网上提供交互式的文件传送服务屏蔽各计算机系统的细节差异工作原理采用模式基于可靠传输核心特点使用两个并行的连接控制连接在整个会话期间保持打开用于传送命令和应答如用户登录目录切换文件操作指令服务器端口号为数据连接每当需要传输一个文件或目录列表时就临时创建一个数据连接传输完成后该数据连接立即关闭是非持续的状态维护服务器是有状态的必须在整个会话期间控制连接期间保留用户的状态信息如当前目录登录状态远程终端作用一个简单的远程终端协议允许用户通过网络远程登录到另一台主机上并在其上执行命令工作原理采用模式将用户的击键传到远程主机并将主机的输出返回到用户屏幕实现透明操作网络虚拟终端为解决不同操作系统和终端类型的不兼容问题定义了一个统一的格式客户端将本地终端的输入转换为格式发送给服务器服务器将输出转换为格式发送给客户端客户端再转换为本地终端格式显示现状由于安全性问题明文传输现在多被取代但仍用于网络设备路由器交换机的调试和管理动态主机配置协议作用允许一台计算机加入新网络时自动获取网络配置信息无需手动配置可自动配置的项目地址子网掩码默认路由器默认网关的地址本地域名服务器的地址工作过程发现客户机刚接入网络的主机以广播方式发送发现报文寻找网络中的服务器提供所有收到发现报文的服务器各自从地址池中选择一个可用的地址并通过单播或广播方式向客户机发送提供报文包含地址租用期等信息请求客户机从收到的一个或多个提供报文中选择一个通常是第一个收到的然后以广播方式发送请求报文该报文包含了它所选择的服务器地址和希望获得的地址确认被选择的服务器发送确认报文正式将该地址分配给客户机其他未被选择的服务器则收回预分配的地址中继代理由于发现报文是广播无法跨越路由器在没有服务器的网段可以在路由器上配置中继代理功能中继代理收到客户机的广播发现报文后会以单播方式将其转发给指定网段的服务器从而实现多个局域网共享一个服务器租用期服务器分配给客户机的地址是临时的有使用期限客户机在租用期过半时会尝试续租文件共享基本问题如何查找到需要的文件如何从拥有该文件的主机下载该文件一文件分发对比方式服务器依次向每个客户发送文件分发时间随客户数量线性增长每个下载文件的对等方也同时作为上传者协助分发文件分发时间随对等方数量对数增长效率极高核心技术文件分片将大文件分割成许多等长的小数据块对等方可以从多个其他对等方同时下载不同的数据块一个对等方下载完一个数据块后可以立即将其上传给其他需要的对等方特点下载的人越多下载速度越快策略优先下载稀有数据块以保证所有数据块在网络中都有副本二在对等方中搜索对象集中式目录架构存在一个中心目录服务器记录了每个对等方共享的文件信息及其地址流程查询者向中心服务器查询服务器返回持有文件的对等方地址查询者再直接与该对等方建立连接下载缺点存在单点故障服务器是性能瓶颈查询洪泛架构非结构化的覆盖网络无中心服务器流程查询者向其所有相邻的对等方发送查询请求收到请求的对等方再继续向其邻居转发洪泛直到找到文件或达到转发跳数限制范围受限的查询洪泛缺点产生大量查询流量可扩展性差分布式散列表架构结构化的覆盖网络节点间有特定的数学关系核心思想将对象名如文件名和节点如地址通过同一个散列函数映射到一个巨大的空间中规定每个对象存储在网络中与其对象最接近的节点上提供高效的路由算法能够在对数时间内找到负责存储特定对象的节点经典算法将节点沿顺时针排列成一个环形覆盖网络对象存储在其的后继节点上每个节点维护一个索引表存储指向环上特定距离节点的弦用于加速查找过程优点查询效率高可扩展性好缺点结构维护复杂不支持模糊查询案例是一个文件分发协议追踪器一个中心服务器负责维护参与同一个文件分发的所有对等方的信息列表群参与一个特定文件分发的所有对等方构成的覆盖网络无服务器网络新版本使用技术代替集中的追踪器实现去中心化多媒体网络应用特点数据量大要求高带宽对端到端时延和时延抖动高度敏感可容忍少量数据丢失三类应用流式存储音频视频音视频点播流式实况音频视频网络直播实时交互音频视频网络电话视频会议挑战及应用层措施音视频压缩原因原始多媒体信息量巨大必须压缩才能在网络上传输技术话音压缩音乐压缩视频压缩时延抖动消除问题分组在网络中经历的时延不同导致到达接收端的时间间隔不均匀非等时解决方案在接收端设置播放缓存将到达的分组先存入缓存等待缓存中的分组数量达到一定阈值后再以恒定速率从缓存中取出并播放这种延迟播放机制以增加初始播放时延为代价有效消除了时延抖动丢失分组恢复背景的重传机制会导致巨大时延不适用于实时应用技术前向纠错发送方在原始分组流中添加冗余信息如校验分组接收方可以利用这些冗余信息重建少量丢失的分组无需重传接收方数据恢复利用媒体流的自相似性用相邻数据来估算丢失数据如用前一个分组代替丢失分组或使用内插法交织思想将原始数据单元的顺序打乱把连续的数据分散到不同的分组中发送效果当一个分组丢失时只会造成恢复后媒体流中多个不连续的小间隙而不是一个连续的大间隙小间隙更容易通过数据恢复技术修复从而提高播放质量实时运输协议定位在之上为实时多媒体应用提供端到端的传输服务它本身不保证实时性或服务质量而是提供实现这些功能所需的信息封装分组被封装在用户数据报中首部关键字段有效载荷类型位指明音频视频的编码类型如接收方据此选择正确的解码器序号位每个分组序号递增用于检测分组丢失和恢复分组顺序时间戳位反映分组中第一个字节的采样时刻用于消除时延抖动和实现媒体同步如音视频同步同步源标识符位唯一标识一个流的来源实时运输控制协议与配合使用在另一个端口上传输主要功能服务质量的监视与反馈定期向所有会话参与者报告接收质量如丢包率时延抖动媒体间的同步实现不同流如音频和视频之间的同步网络应用编程接口定义操作系统为应用程序提供的用于进行网络操作的接口即套接字最著名的网络应用编程接口最初由伯克利开发定义一个复杂的数据结构包含了进行网络操作所需的各种资源如缓存地址端口协议类型等应用程序通过调用套接字来创建和操作套接字从而实现网络通信套接字编程的基本流程服务器端创建一个监听套接字将监听套接字与服务器的地址和端口号绑定使服务器进入监听状态准备接收客户端连接阻塞等待直到有客户端连接请求到达一旦接受连接会返回一个新的连接套接字专门用于与该客户端通信使用连接套接字与客户端进行数据收发通信结束后关闭连接套接字和监听套接字客户端创建一个客户套接字向服务器的地址和端口号发起连接请求连接建立后使用客户套接字与服务器进行数据收发通信结束后关闭客户套接字套接字编程的基本流程是无连接的流程更简单服务器端创建套接字将套接字与服务器的地址和端口号绑定阻塞等待接收数据该函数会返回数据以及发送方的地址信息使用接收到的地址信息向客户端发送数据关闭套接字客户端创建套接字直接向指定的服务器地址和端口发送数据接收服务器的响应关闭套接字计算机网络核心备考笔记精华摘要网络体系结构总览宏观框架三大体系结构模型对比模型层级主要功能典型协议设备七层模型应用层表示层会话层为用户应用程序提供网络服务数据格式化会话管理五层原理体系结构本课程使用应用层为应用进程提供通信规则四层模型应用层五层运输层提供进程到进程的端到端逻辑通信可靠不可靠传输复用分用五层网络层提供主机到主机的通信路由选择分组转发路由器五层数据链路层提供相邻节点间的数据传输封装成帧差错检测交换机网桥五层物理层在物理媒体上传输比特流无协议集线器中继器网线光纤数据封装与解封装封装过程自顶向下发送方应用层的数据在向下经过每一层时都会被该层加上一个控制信息的首部数据链路层还可能加尾部然后交给下一层解封装过程自底向上接收方从物理层收到比特流每向上一层该层协议就剥掉对应的首部并根据首部信息进行处理最终将原始数据交付给应用层协议数据单元名称应用层报文运输层报文段用户数据报网络层分组或数据报数据链路层帧物理层比特流各层核心协议与机制串讲聚焦章考点应用层为用户应用程序提供网络通信服务定义了进程间通信的规则运输层核心对比对比维度传输控制协议用户数据报协议连接性面向连接无连接可靠性可靠传输不丢不重按序到达不可靠尽最大努力交付首部开销大字节小固定字节流量控制有滑动窗口无拥塞控制有无应用场景文件邮件实时音视频可靠传输核心机制序号对字节流中的每个字节进行编号确保有序性确认接收方发送确认号告知发送方已正确收到哪些数据累积确认超时重传发送方为每个报文段设置计时器超时未收到确认则重传滑动窗口实现流量控制和流水线式传输提高效率连接管理三次握手连接建立客户端服务器服务器客户端客户端服务器四次挥手连接释放主动方被动方请求关闭发送通道被动方主动方同意关闭被动方主动方数据发送完毕请求关闭主动方被动方同意关闭拥塞控制四算法慢启动初始阶段拥塞窗口指数增长快速探测网络容量拥塞避免达到门限后改为线性增长缓慢探测快重传收到个重复后不等超时立即重传丢失报文段快恢复快重传后减半而非归直接进入拥塞避免阶段网络层核心功能分组转发路由器根据转发表将分组从输入端口移到正确输出端口的局部动作路由选择通过路由协议计算并生成路由表转发表的全局过程协议编址地址网络前缀位数如地址分为网络前缀和主机号两部分子网掩码与地址按位与用于提取网络前缀数据报关键首部生存时间每经过一个路由器减为时丢弃防止路由环路协议字段指明上层运输层协议是还是等标识标志片偏移用于数据报的分片与重组地址解析协议功能在同一局域网内通过地址找到对应的地址原理广播请求谁有这个单播响应我是这是我的路由协议对比协议算法类型距离向量链路状态路径向量度量跳数开销带宽时延等路径及策略适用范围内部小型网络内部大中型网络之间协议主要功能是进行差错报告如目的不可达和网络探询如命令的回送请求应答数据链路层核心功能封装成帧添加帧头帧尾实现帧定界透明传输通过字节填充或零比特填充防止数据部分被误判为帧定界符差错检测使用循环冗余检验检测传输中的比特差错地址位的全球唯一硬件地址用于在局域网中标识一个网络接口协议共享式以太网载波侦听先听发送前监听信道是否空闲冲突检测边发边听发送时持续检测信道若有冲突立即停止发送随机退避等待冲突后等待一个随机时间再尝试二进制指数退避重传次数越多随机等待时间的上限翻倍网络设备对比集线器物理层设备简单地广播信号所有端口在同一个冲突域和广播域交换机数据链路层设备根据地址表进行智能转发和过滤每个端口是一个独立的冲突域但所有端口仍在同一个广播域路由器网络层设备根据地址和路由表转发分组每个端口是一个独立的冲突域和广播域物理层核心任务在传输媒体如双绞线光纤无线电波上传输原始的比特流信道复用技术频分复用同时不同频时分复用同频不同时波分复用光的频分复用码分复用同时同频用码片区分信道容量限制奈氏准则限制了在无噪声带宽有限的信道中最高码元传输速率为香公式限制了在有噪声带宽有限的信道中极限信息传输速率为关键流程贯通综合应用场景主机向不同局域网的主机发送一个数据报默认网关为路由器接口接口完整生命周期描述发送方决策网络层主机将自己的地址子网掩码与主机的地址进行比较发现两者不在同一个子网因此决定必须将数据报发送给其默认网关路由器获取网关地址主机查询自己的缓存表查找默认网关的地址对应的地址如果找不到会在其所在的局域网内广播一个请求谁是请告诉我你的地址路由器收到请求后单播一个响应给我是我的地址是将存入缓存第一次封装与发送数据链路层将数据报源目的交给数据链路层数据链路层将其封装成一个以太网帧关键在于地址源地址目的地址网关的地址该帧通过物理层发送到所在的局域网路由器处理网络层核心交换机将帧转发到路由器的对应接口路由器接收到该帧检查目的地址是自己于是接收并解封装将数据报提取出来交给网络层路由器网络层查看数据报的目的地址路由器查询自己的路由表根据找到一条匹配的路由确定该数据报应从另一个接口转发出去获取目的主机地址现在路由器需要将数据报发送到所在的局域网它需要知道的地址查询其缓存表查找对应的地址如果找不到会从其接口广播一个请求谁是请告诉我你的地址主机收到请求后单播一个响应给我是我的地址是将存入缓存第二次封装与发送数据链路层路由器将原始的数据报源和目的始终不变交给其出接口的数据链路层数据链路层将其封装成一个新的以太网帧源地址路由器出接口的地址目的地址该新帧通过物理层发送到所在的局域网最终接收解封装主机接收到该帧检查目的地址是自己接收并解封装逐层上传最终将数据报中的数据交给正确的应用进程流程总结地址源目在整个传输过程中保持不变而地址源目在每一跳都会发生改变协议是连接网络层地址和数据链路层地址的关键胶水',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-11-04 17:21:01',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/img/xiao.svg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.233909.xyz/" title="博客"><img class="back-menu-item-icon" src="/img/xiao.svg" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/Kur1oR3iko/Project-ESPNow" title="远程画板[贡献1.0.6版本]"><img class="back-menu-item-icon" src="https://s21.ax1x.com/2025/03/28/pEr2lWQ.webp" alt="远程画板[贡献1.0.6版本]"/><span class="back-menu-item-text">远程画板[贡献1.0.6版本]</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">233-909!</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/nav/"><i class="xiaohj-icon xiaohj-icon-compass faa-tada"></i><span> 导航</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" alt="微信" src="/null"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="/null"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 1.05rem;">C语言<sup>3</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>1</sup></a><a href="/tags/%E3%80%8A%E5%A4%A7%E6%98%8E%E5%AF%B0%E5%AE%87%E3%80%8B/" style="font-size: 1.05rem;">《大明寰宇》<sup>1</sup></a><a href="/tags/%E4%B8%8A%E6%B5%B7%E4%B8%93%E5%8D%87%E6%9C%AC/" style="font-size: 1.05rem;">上海专升本<sup>1</sup></a><a href="/tags/%E4%BA%94%E5%B9%B4%E4%B8%80%E8%B4%AF%E5%88%B6/" style="font-size: 1.05rem;">五年一贯制<sup>1</sup></a><a href="/tags/%E4%BA%A4%E6%B5%81/" style="font-size: 1.05rem;">交流<sup>1</sup></a><a href="/tags/%E4%BA%BA%E5%B7%A5%E6%92%B0%E5%86%99/" style="font-size: 1.05rem;">人工撰写<sup>2</sup></a><a href="/tags/%E5%8D%87%E5%AD%A6%E8%A7%84%E5%88%92/" style="font-size: 1.05rem;">升学规划<sup>1</sup></a><a href="/tags/%E5%90%90%E6%A7%BD/" style="font-size: 1.05rem;">吐槽<sup>4</sup></a><a href="/tags/%E5%93%B2%E5%AD%A6/" style="font-size: 1.05rem;">哲学<sup>1</sup></a><a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">学习<sup>5</sup></a><a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 1.05rem;">小说<sup>1</sup></a><a href="/tags/%E5%B7%A5%E4%B8%9A%E4%BA%92%E8%81%94%E7%BD%91/" style="font-size: 1.05rem;">工业互联网<sup>1</sup></a><a href="/tags/%E5%B9%95%E5%90%8E/" style="font-size: 1.05rem;">幕后<sup>1</sup></a><a href="/tags/%E5%B9%BD%E9%BB%98/" style="font-size: 1.05rem;">幽默<sup>2</sup></a><a href="/tags/%E6%84%9F%E6%83%B3/" style="font-size: 1.05rem;">感想<sup>1</sup></a><a href="/tags/%E6%9B%B4%E6%96%B0/" style="font-size: 1.05rem;">更新<sup>2</sup></a><a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 1.05rem;">视频<sup>2</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%93%E4%B8%9A/" style="font-size: 1.05rem;">计算机专业<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">十二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">十一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"></span></div></div><h1 class="post-title" itemprop="name headline">网络基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-11-02T02:28:21.000Z" title="发表于 2025-11-02 10:28:21">2025-11-02</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-11-04T09:21:01.199Z" title="更新于 2025-11-04 17:21:01">2025-11-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span id="" data-flag-title="网络基础"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="twikoo_visitors" title="访问量"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为上海"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>上海</span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/91149a63/#post-comment" tabindex="-1"><span id="twikoo-count"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://bu.dusays.com/2025/04/28/680f628873f0e.webp"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://www.233909.xyz/posts/91149a63/"><header><h1 id="CrawlerTitle" itemprop="name headline">网络基础</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">晓嘿君</span><time itemprop="dateCreated datePublished" datetime="2025-11-02T02:28:21.000Z" title="发表于 2025-11-02 10:28:21">2025-11-02</time><time itemprop="dateCreated datePublished" datetime="2025-11-04T09:21:01.199Z" title="更新于 2025-11-04 17:21:01">2025-11-04</time></header><h3 id="计算机网络核心备考笔记：第1章-计算机网络概述"><a href="#计算机网络核心备考笔记：第1章-计算机网络概述" class="headerlink" title="计算机网络核心备考笔记：第1章 计算机网络概述"></a><strong>计算机网络核心备考笔记：第1章 计算机网络概述</strong></h3><h4 id="计算机网络与信息时代"><a href="#计算机网络与信息时代" class="headerlink" title="计算机网络与信息时代"></a><strong>计算机网络与信息时代</strong></h4><ul>
<li><strong>时代特征</strong><ul>
<li>21世纪的重要特征是<strong>数字化</strong>、<strong>网络化</strong>和<strong>信息化</strong>。</li>
<li>网络已成为信息社会的命脉和发展知识经济的重要基础。</li>
</ul>
</li>
<li><strong>互联网的发展</strong><ul>
<li><strong>定义</strong>：以<strong>互联网 (Internet&#x2F;因特网)</strong> 为代表的计算机网络是人类自印刷术发明以来在通信方面的最大变革，已发展成为全球性的信息服务基础设施。</li>
<li><strong>演进</strong>：从最初的教育科研网络逐步发展成为商业网络。</li>
</ul>
</li>
<li><strong>计算机网络与传统网络的区别</strong><ul>
<li><strong>核心不同点</strong>：计算机网络的终端设备是功能强大且具有智能的<strong>计算机</strong>，而传统电话网和有线电视网的终端功能单一。</li>
</ul>
</li>
<li><strong>网络应用与服务</strong><ul>
<li>计算机网络不仅提供数据通信服务，还通过各种应用程序（电子邮件、Web浏览、即时通信、网络游戏等）提供丰富多彩的应用。</li>
<li><strong>计算机网络提供的平台功能</strong>：<ul>
<li>浏览信息和发布信息的平台</li>
<li>通信和交流的平台</li>
<li>休闲和娱乐的平台</li>
<li>资源共享的平台</li>
<li>电子商务的平台</li>
<li>远程协作的平台</li>
<li>网上办公的平台</li>
</ul>
</li>
</ul>
</li>
<li><strong>计算机网络最核心的功能</strong><ul>
<li><strong>核心功能</strong>：<strong>连通性 (Connectivity)</strong>。</li>
<li><strong>作用</strong>：为计算机之间的信息交互提供连通性，使得不同计算机上的应用程序之间可以交换信息。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="计算机网络的定义与分类"><a href="#计算机网络的定义与分类" class="headerlink" title="计算机网络的定义与分类"></a><strong>计算机网络的定义与分类</strong></h4><h5 id="计算机网络的定义"><a href="#计算机网络的定义" class="headerlink" title="计算机网络的定义"></a><strong>计算机网络的定义</strong></h5><ul>
<li><strong>通用定义</strong>：利用<strong>通信线路</strong>和<strong>通信设备</strong>将地理上分散的、具有独立功能的多个计算机系统连接起来，以功能完善的<strong>网络软件</strong>及<strong>通信协议</strong>实现<strong>资源共享</strong>和<strong>信息传递</strong>的系统。</li>
<li><strong>简化定义</strong>：以传输信息为基本目的，用通信线路和通信设备将多个计算机连接起来的计算机系统的集合。</li>
<li><strong>基本组成</strong>：最简单的计算机网络由两个<strong>结点 (node)</strong> 和一条<strong>链路 (link)</strong> 组成。</li>
</ul>
<h5 id="计算机网络的分类"><a href="#计算机网络的分类" class="headerlink" title="计算机网络的分类"></a><strong>计算机网络的分类</strong></h5><ul>
<li><strong>从网络的作用范围进行分类</strong><ul>
<li><strong>广域网 (WAN, Wide Area Network)</strong>：作用范围通常为几十到几千公里。</li>
<li><strong>城域网 (MAN, Metropolitan Area Network)</strong>：作用距离约为5到50公里。</li>
<li><strong>局域网 (LAN, Local Area Network)</strong>：局限在较小的范围，如1公里左右。</li>
<li><strong>个人区域网 (PAN, Personal Area Network)</strong>：范围很小，大约在10米以内。</li>
</ul>
</li>
<li><strong>从网络的使用者进行分类</strong><ul>
<li><strong>公用网 (Public Network)</strong>：由电信公司出资建造，任何按规定交费的用户都可以使用。也称<strong>公众网</strong>。</li>
<li><strong>专用网 (Private Network)</strong>：由特定部门为满足本单位特殊业务需求而建造的网络，不向外提供服务。例如：军队、铁路、电力系统的专用网。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="互联网概述"><a href="#互联网概述" class="headerlink" title="互联网概述"></a><strong>互联网概述</strong></h4><h5 id="网络与互连网络"><a href="#网络与互连网络" class="headerlink" title="网络与互连网络"></a><strong>网络与互连网络</strong></h5><ul>
<li><strong>网络 (Network)</strong><ul>
<li><strong>定义</strong>：由若干<strong>结点 (node)</strong> 和连接这些结点的<strong>链路 (link)</strong> 组成。</li>
<li><strong>别称</strong>：也称为<strong>物理网络</strong>。</li>
</ul>
</li>
<li><strong>互连网络 (Internetwork)</strong><ul>
<li><strong>定义</strong>：即“网络的网络”，通过连接多个网络而构成的<strong>逻辑网络</strong>。</li>
<li><strong>实现</strong>：不仅需要在物理上连接，还必须在计算机上安装相应的<strong>软件</strong>（协议）以实现信息交换。</li>
</ul>
</li>
<li><strong>主机 (Host)</strong><ul>
<li><strong>定义</strong>：连接在网络上的任何计算机都称为<strong>主机</strong>或<strong>端系统 (End System)</strong>。</li>
</ul>
</li>
</ul>
<h5 id="internet-和-Internet-的区别"><a href="#internet-和-Internet-的区别" class="headerlink" title="internet 和 Internet 的区别"></a><strong>internet 和 Internet 的区别</strong></h5><ul>
<li><strong>internet (互连网络)</strong><ul>
<li><strong>定义</strong>：以小写 “i” 开头，是一个通用名词，泛指由多个计算机网络互连而成的网络。</li>
</ul>
</li>
<li><strong>Internet (互联网&#x2F;因特网)</strong><ul>
<li><strong>定义</strong>：以大写 “I” 开头，是一个专用名词，指当前全球最大的、开放的、由众多网络相互连接而成的特定计算机网络。</li>
<li><strong>核心协议</strong>：采用 <strong>TCP&#x2F;IP协议族</strong>作为通信规则。</li>
<li><strong>前身</strong>：美国的 <strong>ARPANET</strong>。</li>
</ul>
</li>
</ul>
<h5 id="互联网的边缘与核心"><a href="#互联网的边缘与核心" class="headerlink" title="互联网的边缘与核心"></a><strong>互联网的边缘与核心</strong></h5><ul>
<li><strong>边缘部分 (Edge Part)</strong><ul>
<li><strong>组成</strong>：由所有连接在互联网上的<strong>主机 (端系统)</strong> 组成。</li>
<li><strong>功能</strong>：用户直接使用的部分，用于运行各种网络应用。</li>
</ul>
</li>
<li><strong>核心部分 (Core Part)</strong><ul>
<li><strong>组成</strong>：由大量网络和连接这些网络的<strong>路由器 (Router)</strong> 组成。</li>
<li><strong>功能</strong>：为边缘部分提供服务，核心是<strong>连通性</strong>和<strong>数据交换</strong>。</li>
</ul>
</li>
</ul>
<h5 id="互联网结构发展的三个阶段"><a href="#互联网结构发展的三个阶段" class="headerlink" title="互联网结构发展的三个阶段"></a><strong>互联网结构发展的三个阶段</strong></h5><ol>
<li><strong>第一阶段：从单个网络ARPANET向互连网络发展</strong><ul>
<li>1969年，美国国防部创建第一个分组交换网 <strong>ARPANET</strong>。</li>
<li>1983年，<strong>TCP&#x2F;IP协议</strong>成为 <strong>ARPANET</strong> 上的标准协议，标志着<strong>互联网的诞生</strong>。</li>
</ul>
</li>
<li><strong>第二阶段：逐步建成了三级结构的互联网</strong><ul>
<li><strong>结构</strong>：分为<strong>主干网</strong>、<strong>地区网</strong>和<strong>校园网&#x2F;企业网</strong>。</li>
</ul>
</li>
<li><strong>第三阶段：逐渐形成了多层次ISP结构的互联网</strong><ul>
<li><strong>核心概念</strong>：出现了<strong>互联网服务提供方 (ISP, Internet Service Provider)</strong>。</li>
<li><strong>工作模式</strong>：任何机构和个人向 <strong>ISP</strong> 交费，即可获取 <strong>IP地址</strong> 使用权并接入互联网。<strong>ISP</strong> 之间也存在层级关系（例如：本地ISP、第二层ISP、第一层ISP）。</li>
</ul>
</li>
</ol>
<h5 id="互联网的标准化工作"><a href="#互联网的标准化工作" class="headerlink" title="互联网的标准化工作"></a><strong>互联网的标准化工作</strong></h5><ul>
<li><strong>组织结构</strong><ul>
<li><strong>互联网协会 (ISOC, Internet Society)</strong>：一个国际性组织，负责推动互联网的发展和标准化。<ul>
<li><strong>互联网体系结构委员会 (IAB, Internet Architecture Board)</strong>：负责管理互联网标准的制定。<ul>
<li><strong>互联网工程部 (IETF, Internet Engineering Task Force)</strong>：负责研究和制定互联网标准，是主要的工作机构。</li>
<li><strong>互联网研究部 (IRTF, Internet Research Task Force)</strong>：负责对互联网相关的长期性问题进行研究。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="RFC-文档"><a href="#RFC-文档" class="headerlink" title="RFC 文档"></a><strong>RFC 文档</strong></h5><ul>
<li><strong>定义</strong>：<strong>RFC (Request For Comments)</strong>，即“请求评论”，所有的互联网标准都以 <strong>RFC</strong> 文档的形式在互联网上发表。</li>
<li><strong>成为互联网标准的四个阶段</strong>：<ol>
<li><strong>互联网草案 (Internet Draft)</strong>：非RFC文档。</li>
<li><strong>建议标准 (Proposed Standard)</strong>：成为RFC文档的开始。</li>
<li><strong>草案标准 (Draft Standard)</strong>：（已于2011年10月取消此阶段）。</li>
<li><strong>互联网标准 (Internet Standard)</strong>：最高级别的标准。</li>
</ol>
</li>
</ul>
<hr>
<h4 id="电路交换-Circuit-Switching"><a href="#电路交换-Circuit-Switching" class="headerlink" title="电路交换 (Circuit Switching)"></a><strong>电路交换 (Circuit Switching)</strong></h4><ul>
<li><strong>基本概念</strong><ul>
<li><strong>定义</strong>：在数据传输前，通信双方之间必须先建立一条专用的物理通信路径（电路），该路径在整个通信期间被双方独占。</li>
<li><strong>典型应用</strong>：传统电话网。</li>
</ul>
</li>
<li><strong>工作流程（三个阶段）</strong><ol>
<li><strong>建立连接</strong>：通过拨号等方式，在通信双方之间建立一条端到端的专用电路。</li>
<li><strong>通信</strong>：双方在已建立的电路上进行数据传输，该电路被持续占用。</li>
<li><strong>释放连接</strong>：通信结束后，挂机释放电路，资源被归还。</li>
</ol>
</li>
<li><strong>核心特点</strong><ul>
<li><strong>面向连接 (Connection-Oriented)</strong>。</li>
<li><strong>资源独占</strong>：通信线路资源在通信期间被完全独占，即使线路上没有数据传输。</li>
</ul>
</li>
<li><strong>缺点</strong><ul>
<li><strong>线路利用率低</strong>：计算机通信具有<strong>突发性</strong>，大量时间信道是空闲的，造成资源浪费。因此，<strong>电路交换不适合计算机通信</strong>。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="分组交换-Packet-Switching"><a href="#分组交换-Packet-Switching" class="headerlink" title="分组交换 (Packet Switching)"></a><strong>分组交换 (Packet Switching)</strong></h4><ul>
<li><strong>基本概念</strong><ul>
<li><strong>定义</strong>：一种将用户报文划分成若干个较小的数据块（即<strong>分组</strong>），然后将这些分组逐个地在网络中通过<strong>存储转发</strong>方式传输的交换技术。</li>
<li><strong>分组 (Packet) 结构</strong>：<ul>
<li><strong>首部 (Header)</strong>：包含地址、序号等控制信息。</li>
<li><strong>数据 (Data)</strong>：原始报文的一个数据段。</li>
</ul>
</li>
</ul>
</li>
<li><strong>核心原理：存储转发 (Store-and-Forward)</strong><ol>
<li>发送方将长报文分割成多个<strong>分组 (Packet)</strong>。</li>
<li>网络中的<strong>交换机（路由器）<strong>接收到一个完整的</strong>分组</strong>后，先将其<strong>存储</strong>在缓冲区。</li>
<li>交换机检查<strong>分组</strong>的<strong>首部</strong>，根据其中的目的地址查找转发表，决定下一个要<strong>转发</strong>的交换机。</li>
<li>将该<strong>分组</strong>发送给下一个交换机，如此重复，直至到达目的主机。</li>
</ol>
</li>
<li><strong>主要特点</strong><ul>
<li><strong>独立路由</strong>：每个分组携带地址信息，独立选择路由。</li>
<li><strong>链路共享</strong>：通信链路是动态共享的，并非被某对通信方独占，提高了线路利用率。</li>
<li><strong>可靠性高</strong>：如果某个节点或链路故障，分组可以绕道传输。</li>
<li><strong>适合突发数据</strong>：非常适合具有突发性特点的计算机通信。</li>
</ul>
</li>
<li><strong>带来的问题</strong><ul>
<li><strong>分组排队 (Packet Queuing)</strong>：当分组到达速率超过输出链路发送速率时，分组需要在交换机的输出队列中排队等待。</li>
<li><strong>分组丢失 (Packet Loss)</strong>：如果分组到达时，队列已满，则该分组将被丢弃。</li>
<li><strong>网络拥塞 (Network Congestion)</strong>：当网络中大量分组的到达速率持续超出网络处理能力时，会导致大范围的排队延迟和分组丢失。</li>
<li><strong>失序</strong>：由于每个分组独立路由，可能走不同路径，导致到达目的端的顺序与发送顺序不一致。</li>
</ul>
</li>
</ul>
<h4 id="三种交换方式的对比"><a href="#三种交换方式的对比" class="headerlink" title="三种交换方式的对比"></a><strong>三种交换方式的对比</strong></h4><table>
<thead>
<tr>
<th>对比维度</th>
<th><strong>电路交换 (Circuit Switching)</strong></th>
<th><strong>报文交换 (Message Switching)</strong></th>
<th><strong>分组交换 (Packet Switching)</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>数据单位</strong></td>
<td>比特流 (Bit Stream)</td>
<td>报文 (Message)</td>
<td>分组 (Packet)</td>
</tr>
<tr>
<td><strong>核心原理</strong></td>
<td>建立专用物理通道，数据直达</td>
<td>存储转发（整个报文）</td>
<td>存储转发（小数据分组）</td>
</tr>
<tr>
<td><strong>连接性</strong></td>
<td><strong>面向连接</strong> (必须先建立连接)</td>
<td><strong>无连接</strong></td>
<td><strong>无连接</strong> (每个分组独立路由)</td>
</tr>
<tr>
<td><strong>信道占用</strong></td>
<td><strong>独占</strong> (整个通信期间)</td>
<td><strong>共享</strong> (动态分配)</td>
<td><strong>共享</strong> (动态分配)</td>
</tr>
<tr>
<td><strong>实时性</strong></td>
<td><strong>强</strong>，时延固定且小</td>
<td><strong>差</strong>，存储转发时延大</td>
<td><strong>较好</strong>，时延不固定，但因分组小而流水线式传输，平均时延通常小于报文交换</td>
</tr>
<tr>
<td><strong>可靠性</strong></td>
<td><strong>高</strong> (连接建立后)</td>
<td><strong>较高</strong></td>
<td><strong>高</strong> (可绕过故障节点)</td>
</tr>
<tr>
<td><strong>优点</strong></td>
<td>传输时延小，实时性好，无失序问题</td>
<td>无需建立连接，线路利用率高</td>
<td>线路利用率极高，灵活，可靠，适合突发数据</td>
</tr>
<tr>
<td><strong>缺点</strong></td>
<td>线路利用率低，建立连接时间长</td>
<td>存储转发时延大，对交换节点缓存容量要求高</td>
<td>存在排队时延、失序、分组丢失、拥塞等问题，协议开销（首部）较大</td>
</tr>
<tr>
<td><strong>适用场景</strong></td>
<td>实时语音、视频通话等对时延和抖动要求高的业务</td>
<td>早期的电报通信</td>
<td><strong>互联网数据通信</strong>（几乎所有现代计算机网络）</td>
</tr>
</tbody></table>
<hr>
<h4 id="网络性能指标"><a href="#网络性能指标" class="headerlink" title="网络性能指标"></a><strong>网络性能指标</strong></h4><ol>
<li><p><strong>速率 (Rate)</strong></p>
<ul>
<li><strong>定义</strong>：指数据的传输速率，也称<strong>数据率 (Data Rate)</strong> 或<strong>比特率 (Bit Rate)</strong>。</li>
<li><strong>单位</strong>：b&#x2F;s (比特每秒)，kb&#x2F;s, Mb&#x2F;s, Gb&#x2F;s。</li>
<li><strong>比特 (bit)</strong>：二进制数字中的一个1或0，是数据量的基本单位。</li>
</ul>
</li>
<li><p><strong>带宽 (Bandwidth)</strong></p>
<ul>
<li><strong>通信领域原意</strong>：信号的频带宽度，单位是赫兹 (Hz)。</li>
<li><strong>计算机网络中的含义</strong>：指数字信道的“<strong>最高数据率</strong>”，单位是 b&#x2F;s。两者成正比。</li>
</ul>
</li>
<li><p><strong>吞吐量 (Throughput)</strong></p>
<ul>
<li><strong>定义</strong>：表示在单位时间内通过某个网络（或信道、接口）的<strong>实际</strong>数据量。</li>
<li><strong>限制</strong>：受网络的<strong>带宽</strong>或额定速率的限制。</li>
</ul>
</li>
<li><p><strong>时延 (Delay&#x2F;Latency)</strong></p>
<ul>
<li><strong>定义</strong>：指数据从网络的一端传送到另一端所需要的时间。</li>
<li><strong>总时延 &#x3D; 发送时延 + 传播时延 + 处理时延 + 排队时延</strong></li>
<li><strong>各部分时延</strong>：<ul>
<li><strong>发送时延 (Transmission Delay)</strong>：将分组的所有比特推向链路所需的时间。<ul>
<li><strong>公式</strong>：<code>发送时延 = 分组长度 (bit) / 发送速率 (b/s)</code></li>
</ul>
</li>
<li><strong>传播时延 (Propagation Delay)</strong>：电磁波在信道中传播一定距离所需的时间。<ul>
<li><strong>公式</strong>：<code>传播时延 = 信道长度 (m) / 信号传播速率 (m/s)</code></li>
</ul>
</li>
<li><strong>处理时延 (Processing Delay)</strong>：交换节点（路由器）进行存储转发等处理所花费的时间。</li>
<li><strong>排队时延 (Queuing Delay)</strong>：分组在输入或输出队列中排队等待处理或转发所经历的时间。</li>
</ul>
</li>
<li><strong>重要概念区分</strong>：提高链路<strong>带宽</strong>减小的是<strong>发送时延</strong>，而不是<strong>传播时延</strong>。</li>
</ul>
</li>
<li><p><strong>丢包率 (Packet Loss Rate)</strong></p>
<ul>
<li><strong>定义</strong>：在一定时间内，传输过程中丢失的分组数量与总分组数量的比率。</li>
<li><strong>主要原因</strong>：<strong>网络拥塞</strong>导致路由器缓存溢出。</li>
<li><strong>用户感受</strong>：通常表现为网络延时变大或“网速”变慢，因为网络软件会进行重传。</li>
</ul>
</li>
<li><p><strong>利用率 (Utilization)</strong></p>
<ul>
<li><strong>信道利用率</strong>：指信道有百分之几的时间是被利用的。</li>
<li><strong>网络利用率</strong>：全网络的信道利用率的加权平均值。</li>
<li><strong>时延与利用率的关系</strong>：<ul>
<li>根据排队论，当信道利用率增大时，该信道引起的<strong>时延</strong>会<strong>急剧增加</strong>。</li>
<li>公式：<code>D = D0 / (1 - U)</code> (其中D是当前时延，D0是空闲时延，U是利用率)</li>
<li>结论：<strong>信道利用率并非越高越好</strong>，过高的利用率会导致网络性能严重下降。</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h4 id="计算机网络体系结构"><a href="#计算机网络体系结构" class="headerlink" title="计算机网络体系结构"></a><strong>计算机网络体系结构</strong></h4><h5 id="网络协议-Network-Protocol"><a href="#网络协议-Network-Protocol" class="headerlink" title="网络协议 (Network Protocol)"></a><strong>网络协议 (Network Protocol)</strong></h5><ul>
<li><strong>定义</strong>：为进行网络中的数据交换而建立的<strong>规则</strong>、<strong>标准</strong>或<strong>约定</strong>。</li>
<li><strong>作用</strong>：规范数据格式、时序和在收发数据时所采取的动作，确保通信双方能够正确协调工作。</li>
</ul>
<h5 id="网络协议的三要素"><a href="#网络协议的三要素" class="headerlink" title="网络协议的三要素"></a><strong>网络协议的三要素</strong></h5><ol>
<li><strong>语法 (Syntax)</strong>：数据与控制信息的结构或格式。例如，IP地址字段的长度和位置。</li>
<li><strong>语义 (Semantics)</strong>：各个控制信息的具体含义，规定了需要发出何种控制信息，完成何种动作以及做出何种响应。</li>
<li><strong>同步 (Synchronization&#x2F;Timing)</strong>：事件实现的顺序和时间的详细说明，规定了数据发送的时机和速率。</li>
</ol>
<h5 id="协议的分层模型"><a href="#协议的分层模型" class="headerlink" title="协议的分层模型"></a><strong>协议的分层模型</strong></h5><ul>
<li><strong>目的</strong>：将庞大而复杂的网络问题，转化为若干个较小的、易于处理的局部问题。</li>
<li><strong>好处</strong>：<ul>
<li><strong>各层独立</strong>：某一层实现技术的改变不影响其他层。</li>
<li><strong>灵活性好</strong>：易于更新和扩展。</li>
<li><strong>结构上可分割</strong>：便于分工和模块化设计。</li>
<li><strong>易于实现和维护</strong>。</li>
<li><strong>有利于功能复用</strong>。</li>
<li><strong>能促进标准化工作</strong>。</li>
</ul>
</li>
</ul>
<h5 id="计算机网络的体系结构"><a href="#计算机网络的体系结构" class="headerlink" title="计算机网络的体系结构"></a><strong>计算机网络的体系结构</strong></h5><ul>
<li><strong>体系结构 (Architecture)</strong><ul>
<li><strong>定义</strong>：计算机网络的各层及其协议的集合。是抽象的功能定义。</li>
</ul>
</li>
<li><strong>实现 (Implementation)</strong><ul>
<li><strong>定义</strong>：遵循体系结构，用具体的硬件或软件来完成这些功能。是具体的。</li>
</ul>
</li>
<li><strong>两种重要的体系结构模型</strong><ul>
<li><strong>OSI参考模型 (OSI&#x2F;RM)</strong>：国际标准化组织提出，共<strong>七层</strong>（应用层、表示层、会话层、运输层、网络层、数据链路层、物理层）。理论完整但复杂不实用。</li>
<li><strong>TCP&#x2F;IP参考模型</strong>：互联网事实上的国际标准，共<strong>四层</strong>（应用层、运输层、网际层、网络接口层）。</li>
</ul>
</li>
<li><strong>教学用的五层原理体系结构</strong><ul>
<li><strong>结构</strong>：结合了OSI和TCP&#x2F;IP的优点，在学习中常用。</li>
<li><strong>层次</strong>：<strong>应用层</strong>、<strong>运输层</strong>、<strong>网络层</strong>、<strong>数据链路层</strong>、<strong>物理层</strong>。</li>
</ul>
</li>
</ul>
<h5 id="各层协议的主要功能"><a href="#各层协议的主要功能" class="headerlink" title="各层协议的主要功能"></a><strong>各层协议的主要功能</strong></h5><ul>
<li><strong>应用层</strong>：通过应用进程间的交互来完成特定网络应用，定义应用进程间的通信和交互规则。</li>
<li><strong>运输层</strong>：负责向两台主机中<strong>进程</strong>之间的通信提供通用的数据传输服务。</li>
<li><strong>网络层</strong>：负责为分组交换网上的不同<strong>主机</strong>提供通信服务，核心是路由和转发。</li>
<li><strong>数据链路层</strong>：将网络层交下来的分组组装成<strong>帧</strong>，在相邻节点间的链路上实现可靠传输。</li>
<li><strong>物理层</strong>：在传输媒体上传送<strong>比特流</strong>。</li>
</ul>
<h5 id="协议的层次关系与数据封装"><a href="#协议的层次关系与数据封装" class="headerlink" title="协议的层次关系与数据封装"></a><strong>协议的层次关系与数据封装</strong></h5><ul>
<li><strong>服务关系</strong>：下层为上层提供服务，上层使用下层的服务。</li>
<li><strong>协议栈 (Protocol Stack)</strong>：各层协议的集合。</li>
<li><strong>数据封装与解封装过程</strong>：<ol>
<li><strong>发送方（封装）</strong>：<ul>
<li><strong>应用层</strong>：应用程序数据被加上<strong>应用层首部 (H5)</strong>。</li>
<li><strong>运输层</strong>：将上层数据加上<strong>运输层首部 (H4)</strong>，形成<strong>报文段&#x2F;用户数据报</strong>。</li>
<li><strong>网络层</strong>：将上层数据加上<strong>网络层首部 (H3)</strong>，形成<strong>分组&#x2F;IP数据报</strong>。</li>
<li><strong>数据链路层</strong>：将上层数据加上<strong>链路层首部 (H2)</strong> 和<strong>尾部 (T2)</strong>，形成<strong>帧</strong>。</li>
<li><strong>物理层</strong>：将帧转换为<strong>比特流</strong>在物理媒介上传输。</li>
</ul>
</li>
<li><strong>接收方（解封装）</strong>：过程与封装相反，逐层剥去首部和尾部，最终将数据交给应用进程。</li>
</ol>
</li>
<li><strong>中间设备的工作层次</strong><ul>
<li><strong>路由器 (Router)</strong> 在转发分组时最高只用到<strong>网络层</strong>。</li>
<li><strong>交换机 (Switch)</strong> 主要工作在<strong>数据链路层</strong>。</li>
<li><strong>集线器 (Hub)</strong> 工作在<strong>物理层</strong>。</li>
</ul>
</li>
</ul>
<h5 id="实体、协议和服务"><a href="#实体、协议和服务" class="headerlink" title="实体、协议和服务"></a><strong>实体、协议和服务</strong></h5><ul>
<li><strong>实体 (Entity)</strong>：任何可发送或接收信息的硬件或软件进程，是某一层中的活动元素。</li>
<li><strong>协议 (Protocol)</strong><ul>
<li><strong>定义</strong>：控制两个<strong>对等实体 (Peer Entity)</strong> 进行通信的规则的集合。</li>
<li><strong>方向</strong>：协议是“<strong>水平的</strong>”。</li>
</ul>
</li>
<li><strong>服务 (Service)</strong><ul>
<li><strong>定义</strong>：由下层向上层通过层间<strong>接口</strong>提供的功能。</li>
<li><strong>方向</strong>：服务是“<strong>垂直的</strong>”。</li>
<li><strong>服务访问点 (SAP, Service Access Point)</strong>：上层使用下层服务的逻辑接口。</li>
<li><strong>透明性</strong>：下层的协议对上层的服务用户是透明的，上层只能看到服务而看不到实现服务的协议。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="新兴网络技术简介"><a href="#新兴网络技术简介" class="headerlink" title="新兴网络技术简介"></a><strong>新兴网络技术简介</strong></h4><h5 id="云计算-Cloud-Computing"><a href="#云计算-Cloud-Computing" class="headerlink" title="云计算 (Cloud Computing)"></a><strong>云计算 (Cloud Computing)</strong></h5><ul>
<li><strong>定义</strong>：一种将计算任务分布在由大量计算机构成的资源池上的商业计算模型，通过网络向用户提供按需、可扩展的计算、存储和软件服务。</li>
<li><strong>“云”的含义</strong>：指可以自我维护和管理的虚拟计算资源集合（如大型服务器集群）。</li>
<li><strong>云计算服务类型</strong><ol>
<li><strong>基础设施即服务 (IaaS, Infrastructure as a Service)</strong>：提供计算、存储、网络等基础资源。</li>
<li><strong>平台即服务 (PaaS, Platform as a Service)</strong>：提供应用程序开发和部署平台。</li>
<li><strong>软件即服务 (SaaS, Software as a Service)</strong>：提供可直接使用的应用程序。</li>
</ol>
</li>
</ul>
<h5 id="物联网-Internet-of-Things-IoT"><a href="#物联网-Internet-of-Things-IoT" class="headerlink" title="物联网 (Internet of Things, IoT)"></a><strong>物联网 (Internet of Things, IoT)</strong></h5><ul>
<li><strong>定义</strong>：通过各种信息传感设备（如 <strong>RFID</strong>、<strong>GPS</strong>、传感器等），按约定的协议，把任何物体与互联网连接起来，进行信息交换和通信，以实现对物体的智能化识别、定位、跟踪、管理和控制的一种网络。</li>
<li><strong>目标</strong>：实现人与物、物与物之间的沟通和对话。</li>
<li><strong>三种基本的应用模式</strong><ol>
<li><strong>对象的智能识别</strong>：通过 <strong>RFID</strong> 或二维码识别特定对象。</li>
<li><strong>环境监控和对象跟踪</strong>：利用传感器网络实时获取对象状态和行为。</li>
<li><strong>对象的智能控制</strong>：基于获取的数据进行分析决策，并实施有效控制（如智能交通灯）。</li>
</ol>
</li>
</ul>
<h3 id="计算机网络核心备考笔记：第2章-物理层"><a href="#计算机网络核心备考笔记：第2章-物理层" class="headerlink" title="计算机网络核心备考笔记：第2章 物理层"></a><strong>计算机网络核心备考笔记：第2章 物理层</strong></h3><h4 id="l-物理层的基本概念"><a href="#l-物理层的基本概念" class="headerlink" title="l 物理层的基本概念"></a><strong>l 物理层的基本概念</strong></h4><ul>
<li><p><strong>物理层的作用</strong></p>
<ul>
<li><strong>核心功能</strong>：在连接各种计算机的<strong>传输媒体</strong>上传输原始的<strong>数据比特流</strong>（0和1）。</li>
<li><strong>关注点</strong>：物理层关注的是<strong>怎样传输</strong>比特流，而不是具体的传输媒体本身。</li>
<li><strong>核心目标</strong>：屏蔽掉不同硬件设备、传输媒体和通信方式的差异，使得上层（<strong>数据链路层</strong>）感觉不到这些差异，只需关注数据的逻辑传输。</li>
</ul>
</li>
<li><p><strong>物理层需要考虑的问题</strong></p>
<ul>
<li><strong>传输媒体的类型</strong>：规定信号传输所使用的物理媒介，如铜线、光纤或无线电频段。</li>
<li><strong>位的表示</strong>：定义如何用物理信号（如电压、光脉冲）来表示二进制的“1”和“0”。这涉及到**编码（Coding）**机制。</li>
<li><strong>数据速率 (Data Rate)</strong>：规定每秒钟能够发送的比特数量，单位是 <strong>bit&#x2F;s</strong> 或 <strong>bps</strong>。</li>
<li><strong>位同步 (Bit Synchronization)</strong>：确保发送方和接收方的时钟保持一致，使接收方能准确地在每个比特的中间时刻进行采样，正确识别“1”和“0”。</li>
<li><strong>链路配置 (Link Configuration)</strong>：<ul>
<li><strong>点到点配置</strong>：两个设备通过一条专用链路连接。</li>
<li><strong>多点配置</strong>：多个设备共享同一条链路。</li>
</ul>
</li>
<li><strong>物理拓扑结构 (Physical Topology)</strong>：规定设备如何物理连接成网络。<ul>
<li>常见类型：<strong>星型拓扑</strong>、<strong>总线型拓扑</strong>、<strong>环型拓扑</strong>、<strong>网状结构</strong>等。</li>
</ul>
</li>
<li><strong>传输方式 (Transmission Mode)</strong>：<ul>
<li><strong>串行传输 vs. 并行传输</strong>。</li>
<li>传输方向：<strong>单工</strong>、<strong>半双工</strong>、<strong>全双工</strong>。</li>
</ul>
</li>
<li><strong>接口特性</strong>：规定传输设备与传输媒体之间接口的详细特性。</li>
</ul>
</li>
<li><p><strong>与传输媒体的接口特性</strong></p>
<ul>
<li>物理层协议的一个核心任务是精确定义接口的四个特性：</li>
<li><strong>01. 机械特性 (Mechanical Characteristics)</strong><ul>
<li><strong>定义</strong>：指明接口所用接线器的物理规格。</li>
<li><strong>具体内容</strong>：形状、尺寸、引脚（引线）数目、引脚排列方式、固定和锁定装置等。</li>
<li><strong>示例</strong>：RJ-45接口的8个引脚及其排列。</li>
</ul>
</li>
<li><strong>02. 电气特性 (Electrical Characteristics)</strong><ul>
<li><strong>定义</strong>：指明接口电缆的各条线上出现的电压、电流等电气参数的范围。</li>
<li><strong>具体内容</strong>：电压范围、阻抗匹配、传输速率与距离的限制等。</li>
<li><strong>示例</strong>：规定某引脚上+5V表示逻辑“1”，-5V表示逻辑“0”。</li>
</ul>
</li>
<li><strong>03. 功能特性 (Functional Characteristics)</strong><ul>
<li><strong>定义</strong>：指明某条线上出现的某一电平的电压所代表的意义。</li>
<li><strong>具体内容</strong>：定义各条信号线的功能（如数据线、控制线、时钟线等）。</li>
<li><strong>示例</strong>：RJ-45接口中，引脚1（TD+）和引脚2（TD-）用于发送数据。</li>
</ul>
</li>
<li><strong>04. 规程特性 (Procedural Characteristics)</strong><ul>
<li><strong>定义</strong>：指明对于不同功能的各种可能事件的出现顺序，即定义了使用接口进行数据传输的<strong>协议和时序</strong>。</li>
<li><strong>具体内容</strong>：描述了信号变化的顺序和时间关系，规定了控制和响应的流程。</li>
<li><strong>示例</strong>：电话通信中“摘机 -&gt; 拨号 -&gt; 振铃 -&gt; 通话 -&gt; 挂机”的事件顺序。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>物理层规程</strong></p>
<ul>
<li>用于物理层的协议也常称为<strong>物理层规程 (Procedure)</strong>。</li>
<li><strong>规程</strong>是“协议”这个名词出现之前使用的旧称，二者本质上是同义词。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="l-数据通信的基础知识"><a href="#l-数据通信的基础知识" class="headerlink" title="l 数据通信的基础知识"></a><strong>l 数据通信的基础知识</strong></h4><ul>
<li><p><strong>1. 数据通信系统的模型</strong></p>
<ul>
<li>一个完整的数据通信系统包含三个主要部分：<ul>
<li><strong>源系统 (Source System)</strong>：数据的发送方。<ul>
<li><strong>源点 (Source)</strong>：产生原始信息（如键盘输入）。</li>
<li><strong>发送器 (Transmitter)</strong>：将原始信息转换为适合在传输系统上传输的信号（如<strong>调制解调器</strong>进行调制）。</li>
</ul>
</li>
<li><strong>传输系统 (Transmission System)</strong>：连接源系统和目的系统的物理通路（如公用电话网）。</li>
<li><strong>目的系统 (Destination System)</strong>：数据的接收方。<ul>
<li><strong>接收器 (Receiver)</strong>：将接收到的信号转换回原始信息（如<strong>调制解调器</strong>进行解调）。</li>
<li><strong>终点 (Destination)</strong>：接收并处理信息（如计算机屏幕显示）。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>几个常用术语</strong></p>
<ul>
<li><strong>数据 (Data)</strong>：运送消息的实体，是信息的载体。</li>
<li><strong>信号 (Signal)</strong>：数据的电气或电磁表现形式。</li>
<li><strong>模拟信号 (Analogous Signal)</strong>：代表消息的参数（如电压、频率）取值是<strong>连续的</strong>。</li>
<li><strong>数字信号 (Digital Signal)</strong>：代表消息的参数取值是<strong>离散的</strong>（通常只有两种状态）。</li>
<li><strong>码元 (Code)</strong>：在使用时域波形表示数字信号时，代表不同离散数值的<strong>基本波形</strong>。一个码元可以携带1位或多位信息。</li>
</ul>
</li>
<li><p><strong>2. 编码与调制</strong></p>
<ul>
<li><p><strong>编码 (Coding)</strong>：将<strong>数字数据</strong>转换为<strong>数字信号</strong>的过程。</p>
</li>
<li><p><strong>调制 (Modulation)</strong>：将<strong>数字数据</strong>转换为<strong>模拟信号</strong>的过程。</p>
</li>
<li><p><strong>(1) 常用编码方式</strong></p>
<ul>
<li><strong>不归零制 (NRZ)</strong>：用正电平代表“1”，负电平代表“0”（或反之）。缺点是难以同步。</li>
<li><strong>归零制 (RZ)</strong>：用正脉冲代表“1”，负脉冲代表“0”，每个码元传输结束后信号都回归到零电平。</li>
<li><strong>曼彻斯特编码 (Manchester Encoding)</strong><ul>
<li><strong>原理</strong>：在每一位的中心处都有一个电平跳变。</li>
<li><strong>规则</strong>：位周期中心的<strong>下跳变</strong>（高到低）代表“1”，<strong>上跳变</strong>（低到高）代表“0”。</li>
<li><strong>特点</strong>：<strong>具有自同步能力</strong>，因为每个比特中间都有跳变，接收方可以据此校准时钟。</li>
</ul>
</li>
<li><strong>差分曼彻斯特编码 (Differential Manchester Encoding)</strong><ul>
<li><strong>原理</strong>：位开始边界的跳变情况决定了比特值。</li>
<li><strong>规则</strong>：位开始边界<strong>有跳变</strong>代表“0”，位开始边界<strong>没有跳变</strong>代表“1”。每个比特中间仍然有跳变用于同步。</li>
<li><strong>特点</strong>：<strong>具有自同步能力</strong>，且比曼彻斯特编码抗干扰性更好。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>(2) 基本调制方法</strong></p>
<ul>
<li>通过改变<strong>载波信号</strong>的参数（振幅、频率、相位）来承载基带数字信号。</li>
<li><strong>调幅 (AM) &#x2F; 幅移键控 (ASK)</strong>：载波的<strong>振幅</strong>随基带数字信号变化。</li>
<li><strong>调频 (FM) &#x2F; 频移键控 (FSK)</strong>：载波的<strong>频率</strong>随基带数字信号变化。</li>
<li><strong>调相 (PM) &#x2F; 相移键控 (PSK)</strong>：载波的<strong>初始相位</strong>随基带数字信号变化。</li>
<li><strong>调制解调器 (Modem)</strong>：实现<strong>调制 (Modulation)</strong> 和 <strong>解调 (Demodulation)</strong> 功能的设备。</li>
</ul>
</li>
<li><p><strong>基带传输与频带传输</strong></p>
<ul>
<li><strong>基带信号</strong>：原始的数字信号（如矩形脉冲），频率从直流开始。</li>
<li><strong>基带传输</strong>：在<strong>数字信道</strong>上直接传输<strong>基带信号</strong>。</li>
<li><strong>频带信号 (带通信号)</strong>：经过载波调制后的信号，频率被搬移到较高频段。</li>
<li><strong>频带传输</strong>：在<strong>模拟信道</strong>上通过<strong>调制</strong>来传输信号。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>3. 信道的极限容量</strong></p>
<ul>
<li><p>实际信道存在<strong>失真</strong>和<strong>干扰</strong>，限制了数据传输速率。主要受两大因素制约：</p>
<ol>
<li><strong>信道带宽 (Bandwidth)</strong></li>
<li><strong>信噪比 (Signal-to-Noise Ratio, S&#x2F;N)</strong></li>
</ol>
</li>
<li><p><strong>(1) 奈氏准则 (Nyquist Theorem)</strong></p>
<ul>
<li><strong>背景</strong>：带宽有限的信道会导致信号高频分量衰减，波形前后沿变缓，产生<strong>码间串扰</strong>（码元之间界限不清）。</li>
<li><strong>准则内容</strong>：在理想的无噪声低通信道中，最高<strong>码元传输速率</strong>为 <strong>2W 波特</strong>。<ul>
<li><code>C_max_baud = 2 * W</code></li>
<li><strong>W</strong>：信道带宽 (单位: Hz)。</li>
<li><strong>波特 (Baud)</strong>：码元传输速率的单位，即 码元&#x2F;秒。</li>
</ul>
</li>
<li><strong>推论</strong>：<ol>
<li>码元传输速率存在上限，超过上限会出现严重码间串扰。</li>
<li>信道带宽越宽，可用的最高码元传输速率越高。</li>
<li>要提高<strong>信息传输速率 (bit&#x2F;s)</strong>，可以在不改变码元速率的前提下，让每个<strong>码元</strong>携带更多的比特信息（采用多元制）。</li>
</ol>
</li>
<li><strong>信息传输速率公式</strong>：<code>信息速率 = 码元速率 * log₂(M)</code>，其中M是码元所取的离散值个数（如M&#x3D;8表示8进制调制）。</li>
</ul>
</li>
<li><p><strong>(2) 香农公式 (Shannon’s Formula)</strong></p>
<ul>
<li><strong>背景</strong>：奈氏准则只考虑了带宽，未考虑噪声。香农公式给出了在<strong>有噪声</strong>信道中的极限<strong>信息传输速率</strong>。</li>
<li><strong>公式</strong>：<code>C = W * log₂(1 + S/N)</code><ul>
<li><strong>C</strong>：信道的极限信息传输速率 (单位: bit&#x2F;s)。</li>
<li><strong>W</strong>：信道带宽 (单位: Hz)。</li>
<li><strong>S&#x2F;N</strong>：信噪比，即信号的平均功率 (S) 与信道内高斯噪声功率 (N) 的比值（注意：S&#x2F;N是无单位的比值，不是分贝dB）。</li>
</ul>
</li>
<li><strong>推论</strong>：<ol>
<li>信道带宽或信噪比越大，信息的极限传输速率就越高。</li>
<li>只要信息传输速率低于信道的极限速率C，理论上就能找到一种方法来实现无差错的传输。</li>
<li>它揭示了，为了提高信息速率，必须同时提高带宽和信噪比。</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>4. 传输方式</strong></p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left"><strong>并行传输</strong></th>
<th align="left"><strong>串行传输</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>原理</strong></td>
<td align="left">一次同时发送n个比特</td>
<td align="left">一次只发送1个比特，逐位发送</td>
</tr>
<tr>
<td align="left"><strong>线路数</strong></td>
<td align="left">需要n条传输线路</td>
<td align="left">只需要1条传输线路</td>
</tr>
<tr>
<td align="left"><strong>优点</strong></td>
<td align="left">速度快</td>
<td align="left">成本低，适用于远距离传输</td>
</tr>
<tr>
<td align="left"><strong>缺点</strong></td>
<td align="left">成本高，线路间易受干扰，不适用于远距离</td>
<td align="left">速度相对较慢</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left"><strong>异步传输</strong></th>
<th align="left"><strong>同步传输</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>传输单位</strong></td>
<td align="left">字节 (Byte)</td>
<td align="left">比特流 (Bit Stream)</td>
</tr>
<tr>
<td align="left"><strong>同步方式</strong></td>
<td align="left">每个字节有起始位和停止位用于同步</td>
<td align="left">通过外部时钟或自同步编码（如曼彻斯特）保持收发双方时钟同步</td>
</tr>
<tr>
<td align="left"><strong>时间间隔</strong></td>
<td align="left">字节之间的时间间隔不固定</td>
<td align="left">比特之间的时间间隔固定</td>
</tr>
<tr>
<td align="left"><strong>效率</strong></td>
<td align="left">较低（有额外开销）</td>
<td align="left">较高（无额外开销）</td>
</tr>
<tr>
<td align="left"><strong>适用场景</strong></td>
<td align="left">低速通信（如键盘、鼠标）</td>
<td align="left">高速数据传输</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left"><strong>单工通信 (Simplex)</strong></th>
<th align="left"><strong>半双工通信 (Half-duplex)</strong></th>
<th align="left"><strong>全双工通信 (Full-duplex)</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>通信方向</strong></td>
<td align="left">只能单向通信</td>
<td align="left">双向交替通信</td>
<td align="left">双向同时通信</td>
</tr>
<tr>
<td align="left"><strong>信道数量</strong></td>
<td align="left">1条</td>
<td align="left">1条</td>
<td align="left">2条（或1条信道通过技术划分）</td>
</tr>
<tr>
<td align="left"><strong>能否同时</strong></td>
<td align="left">只能一方发送，另一方接收</td>
<td align="left">不能同时发送和接收</td>
<td align="left">可以同时发送和接收</td>
</tr>
<tr>
<td align="left"><strong>示例</strong></td>
<td align="left">广播、电视</td>
<td align="left">对讲机</td>
<td align="left">电话</td>
</tr>
</tbody></table>
<hr>
<h4 id="l-物理层下面的传输媒体"><a href="#l-物理层下面的传输媒体" class="headerlink" title="l 物理层下面的传输媒体"></a><strong>l 物理层下面的传输媒体</strong></h4><ul>
<li><strong>传输媒体 (Transmission Medium)</strong>：发送器和接收器之间的物理通路。</li>
<li><strong>分类对比</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="left">类别</th>
<th align="left"><strong>导引型传输媒体 (Guided Media)</strong></th>
<th align="left"><strong>非导引型传输媒体 (Unguided Media)</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>传播方式</strong></td>
<td align="left">电磁波被导引沿着固体媒体传播</td>
<td align="left">电磁波在自由空间中传播（无线传输）</td>
</tr>
<tr>
<td align="left"><strong>特点</strong></td>
<td align="left">信号稳定，不易受干扰，保密性好</td>
<td align="left">无需敷设缆线，便捷，但易受干扰，保密性差</td>
</tr>
<tr>
<td align="left"><strong>示例</strong></td>
<td align="left"><strong>双绞线</strong>、<strong>同轴电缆</strong>、<strong>光纤</strong></td>
<td align="left">无线电波、微波、红外线、可见光</td>
</tr>
</tbody></table>
<ul>
<li><strong>1. 导引型传输媒体</strong><ul>
<li><strong>双绞线 (Twisted Pair)</strong><ul>
<li><strong>特点</strong>：最常用的传输媒体，将两根绝缘铜导线相互绞合以减小电磁干扰。</li>
<li><strong>分类</strong>：<ul>
<li><strong>无屏蔽双绞线 (UTP)</strong>：无金属屏蔽层，价格便宜，是局域网中最常用的线缆。</li>
<li><strong>屏蔽双绞线 (STP)</strong>：有金属屏蔽层，抗干扰能力更强，但价格更贵。</li>
</ul>
</li>
<li><strong>标准 (EIA&#x2F;TIA-568)</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">类别</th>
<th align="left">带宽</th>
<th align="left">典型应用</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>5类 (Cat 5)</strong></td>
<td align="left">100 MHz</td>
<td align="left">100 Mbit&#x2F;s</td>
</tr>
<tr>
<td align="left"><strong>超5类 (Cat 5E)</strong></td>
<td align="left">125 MHz</td>
<td align="left">1 Gbit&#x2F;s</td>
</tr>
<tr>
<td align="left"><strong>6类 (Cat 6)</strong></td>
<td align="left">250 MHz</td>
<td align="left">10 Gbit&#x2F;s (短距离)</td>
</tr>
<tr>
<td align="left"><strong>超6类 (Cat 6A)</strong></td>
<td align="left">500 MHz</td>
<td align="left">10 Gbit&#x2F;s (100米)</td>
</tr>
<tr>
<td align="left"><strong>7类 (Cat 7)</strong></td>
<td align="left">600 MHz</td>
<td align="left">10 Gbit&#x2F;s 以上</td>
</tr>
<tr>
<td align="left"><strong>8类 (Cat 8)</strong></td>
<td align="left">2000 MHz</td>
<td align="left">25&#x2F;40 Gbit&#x2F;s (短距离)</td>
</tr>
</tbody></table>
<ul>
<li><strong>同轴电缆 (Coaxial Cable)</strong><ul>
<li><strong>结构</strong>：内导体、绝缘层、外导体屏蔽层、保护外层。</li>
<li><strong>特点</strong>：比双绞线带宽高、抗干扰性好。</li>
<li><strong>应用</strong>：目前主要用于有线电视网（CATV）的居民小区部分。</li>
</ul>
</li>
<li><strong>光纤 (Optical Fiber)</strong><ul>
<li><strong>原理</strong>：利用<strong>全反射</strong>原理，让光脉冲在光导纤维中传输。</li>
<li><strong>分类</strong>：<ul>
<li><strong>多模光纤 (Multi-mode Fiber)</strong>：纤芯较粗，光线以多种角度入射和反射，易产生色散，适用于短距离传输。</li>
<li><strong>单模光纤 (Single-mode Fiber)</strong>：纤芯极细，光线沿直线传播，衰耗小，适用于高速、长距离传输。</li>
</ul>
</li>
<li><strong>优点</strong>：<ol>
<li><strong>通信容量巨大</strong>：频率高，带宽极宽。</li>
<li><strong>传输损耗小</strong>：中继距离长，远距离传输经济。</li>
<li><strong>抗电磁干扰</strong>：光信号不受电磁影响。</li>
<li><strong>保密性好</strong>：无串音干扰，不易被窃听。</li>
<li><strong>体积小，重量轻</strong>。</li>
</ol>
</li>
</ul>
</li>
<li><strong>2. 非导引型传输媒体</strong><ul>
<li><strong>微波 (Microwave)</strong><ul>
<li><strong>特点</strong>：频率高、容量大，主要沿直线传播。</li>
<li><strong>通信方式</strong>：<ul>
<li><strong>地面微波接力通信</strong>：因地球曲率和障碍物，需建立中继站“接力”传输，站间需直视。</li>
<li><strong>卫星通信</strong>：利用人造地球卫星作为中继站，覆盖范围广，通信距离远，但传播时延大。</li>
</ul>
</li>
</ul>
</li>
<li><strong>无线局域网使用的 ISM 频段</strong><ul>
<li><strong>ISM (Industrial, Scientific, and Medical)</strong>：工、科、医频段，无需许可证即可使用。</li>
<li><strong>常见频段</strong>：900MHz, 2.4GHz, 5.8GHz。</li>
</ul>
</li>
<li><strong>其他无线电波</strong><ul>
<li><strong>短波 (HF)</strong>：靠电离层反射通信，用于远距离通信。</li>
<li><strong>超短波 (VHF)</strong>：靠空间直射传播，用于近距离无线电通信。</li>
</ul>
</li>
<li><strong>红外线与可见光</strong><ul>
<li><strong>特点</strong>：直线传播，不能穿透障碍物，不受电磁干扰，带宽很高。</li>
<li><strong>应用</strong>：红外遥控器、可见光通信（Li-Fi）等。</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="l-信道复用技术"><a href="#l-信道复用技术" class="headerlink" title="l 信道复用技术"></a><strong>l 信道复用技术</strong></h4><ul>
<li><p><strong>复用 (Multiplexing)</strong>：将多个独立的低速信道合并，通过一条高速的物理线路进行传输的技术。可以共享传输媒体带宽，节省成本。</p>
</li>
<li><p><strong>1. 频分复用 (FDM - Frequency Division Multiplexing)</strong></p>
<ul>
<li><strong>原理</strong>：将传输线路的总频带资源，划分成多个互不重叠的子频带，每个用户分配一个固定的子频带。</li>
<li><strong>特点</strong>：<strong>所有用户在同一时间占用不同的频率带宽</strong>。</li>
<li><strong>类比</strong>：多条并行的车道，每辆车占用一条车道。</li>
</ul>
</li>
<li><p><strong>2. 时分复用 (TDM - Time Division Multiplexing)</strong></p>
<ul>
<li><strong>原理</strong>：将传输时间划分为一段段等长的<strong>时分复用帧 (TDM帧)</strong>，每个用户在每个TDM帧中占用一个<strong>固定序号</strong>的<strong>时隙 (Time Slot)</strong>。</li>
<li><strong>特点</strong>：<strong>所有用户在不同时间占用相同的频率带宽</strong>。</li>
<li><strong>问题</strong>：当某个用户无数据发送时，其对应的时隙会被浪费，导致信道利用率不高。</li>
<li><strong>类比</strong>：一个十字路口的红绿灯，不同方向的车辆分时通过。</li>
<li><strong>统计时分复用 (STDM - Statistical TDM)</strong><ul>
<li><strong>原理</strong>：<strong>动态地按需分配时隙</strong>，只有需要发送数据的用户才会被分配时隙。</li>
<li><strong>特点</strong>：STDM帧中的时隙数小于用户总数，时隙不固定分配给某个用户，因此每个时隙中<strong>必须包含用户的地址信息</strong>。显著提高了信道利用率。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>3. 波分复用 (WDM - Wavelength Division Multiplexing)</strong></p>
<ul>
<li><strong>原理</strong>：光的频分复用。在一根光纤中同时传输多个不同波长（即不同频率）的光信号。</li>
<li><strong>设备</strong>：在发送端使用<strong>光复用器（合波器）</strong>，在接收端使用<strong>光分用器（分光器）</strong>。</li>
<li><strong>特点</strong>：极大地提高了光纤的传输容量。</li>
</ul>
</li>
<li><p><strong>4. 码分复用 (CDM - Code Division Multiplexing) &#x2F; 码分多址 (CDMA)</strong></p>
<ul>
<li><strong>原理</strong>：所有用户在<strong>同一时间、使用相同的频带</strong>进行通信，但每个用户被分配一个唯一的、<strong>相互正交</strong>的<strong>码片序列 (Chip Sequence)</strong> 来区分。</li>
<li><strong>工作流程</strong>：<ol>
<li><strong>码片</strong>：将每个比特时间再划分为m个短的间隔，每个间隔称为一个<strong>码片</strong>。</li>
<li><strong>编码</strong>：<ul>
<li>发送比特“1”：发送该用户唯一的m bit码片序列。</li>
<li>发送比特“0”：发送该码片序列的<strong>二进制反码</strong>。</li>
</ul>
</li>
<li><strong>正交性</strong>：为每个用户分配的码片序列向量必须两两<strong>正交</strong>。<ul>
<li>任意两个不同用户的码片序列向量 <strong>S</strong> 和 <strong>T</strong>，其规格化内积为0 (<code>S · T = 0</code>)。</li>
<li>任何码片序列向量与自身的规格化内积为1 (<code>S · S = 1</code>)。</li>
<li>任何码片序列向量与自身反码的规格化内积为-1。</li>
</ul>
</li>
<li><strong>接收与解码</strong>：<ul>
<li>接收站收到的是所有发送站信号的叠加。</li>
<li>要接收特定S站的信号，接收站用S站的码片序列与收到的叠加信号进行内积运算。</li>
<li>根据正交性，所有其他站的信号分量在内积运算后都为0，被“过滤”掉。</li>
<li>运算结果为 <code>+1</code>，则判定S站发送的是比特“1”；结果为 <code>-1</code>，则判定S站发送的是比特“0”。</li>
</ul>
</li>
</ol>
</li>
<li><strong>特点</strong>：<strong>扩频通信</strong>，抗干扰能力强，频谱类似白噪声，保密性好。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="l-数字传输系统"><a href="#l-数字传输系统" class="headerlink" title="l 数字传输系统"></a><strong>l 数字传输系统</strong></h4><ul>
<li><p><strong>PCM (Pulse Code Modulation) 速率体制</strong></p>
<ul>
<li><strong>用途</strong>：将模拟电话信号转换为 64 kbit&#x2F;s 的数字信号。</li>
<li><strong>复用</strong>：通过 <strong>TDM</strong> 将多路PCM信号汇集成帧进行传输。</li>
<li><strong>两大标准</strong>：<ul>
<li><strong>北美体制 (T1)</strong>：<code>1.544 Mbit/s</code>，复用24路话音。</li>
<li><strong>欧洲体制 (E1)</strong>：<code>2.048 Mbit/s</code>，复用30路话音。</li>
</ul>
</li>
<li><strong>问题</strong>：速率标准不统一，且采用准同步方式，不利于国际高速互联。</li>
</ul>
</li>
<li><p><strong>同步光纤网 (SONET) 与 同步数字系列 (SDH)</strong></p>
<ul>
<li><strong>背景</strong>：为解决PCM体制的缺点而提出的国际标准。</li>
<li><strong>SONET (Synchronous Optical Network)</strong>：美国标准。</li>
<li><strong>SDH (Synchronous Digital Hierarchy)</strong>：国际标准，以SONET为基础。</li>
<li><strong>核心特点</strong>：所有网元时钟都来自一个<strong>精确的主时钟</strong>，实现了真正的<strong>同步传输</strong>。</li>
<li><strong>速率等级</strong>：</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">速率 (Mb&#x2F;s)</th>
<th align="left">SONET 符号</th>
<th align="left">SDH 符号</th>
<th align="left">常用近似值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">51.840</td>
<td align="left"><strong>OC-1</strong> &#x2F; STS-1</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">155.520</td>
<td align="left"><strong>OC-3</strong> &#x2F; STS-3</td>
<td align="left"><strong>STM-1</strong></td>
<td align="left">155 Mb&#x2F;s</td>
</tr>
<tr>
<td align="left">622.080</td>
<td align="left"><strong>OC-12</strong> &#x2F; STS-12</td>
<td align="left"><strong>STM-4</strong></td>
<td align="left">622 Mb&#x2F;s</td>
</tr>
<tr>
<td align="left">2488.320</td>
<td align="left"><strong>OC-48</strong> &#x2F; STS-48</td>
<td align="left"><strong>STM-16</strong></td>
<td align="left">2.5 Gb&#x2F;s</td>
</tr>
<tr>
<td align="left">9953.280</td>
<td align="left"><strong>OC-192</strong> &#x2F; STS-192</td>
<td align="left"><strong>STM-64</strong></td>
<td align="left">10 Gb&#x2F;s</td>
</tr>
</tbody></table>
<ul>
<li><strong>光网络</strong><ul>
<li><strong>全光网 (AON)</strong>：用光网络结点代替电子设备，实现端到端全光传输，避免光电转换瓶颈。</li>
<li><strong>光传送网 (OTN)</strong>：基于 <strong>WDM</strong> 技术，在光域上实现信号交换和复用，是向AON演进的过渡技术。</li>
<li><strong>自动交换光网络 (ASON)</strong>：在OTN基础上引入智能控制，实现光通路的动态建立和拆除，按需分配网络资源。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="l-互联网接入技术-“最后一公里”"><a href="#l-互联网接入技术-“最后一公里”" class="headerlink" title="l 互联网接入技术 (“最后一公里”)"></a><strong>l 互联网接入技术 (“最后一公里”)</strong></h4><ul>
<li><p><strong>接入网 (AN - Access Network)</strong>：连接用户设备到ISP边缘路由器的物理链路及相关设备。</p>
</li>
<li><p><strong>1. 电话网拨号接入</strong></p>
<ul>
<li><strong>方式</strong>：通过<strong>调制解调器 (Modem)</strong> 和电话线拨号连接ISP。</li>
<li><strong>特点</strong>：非宽带，速率最高<strong>56Kbps</strong>，不能同时打电话和上网。</li>
</ul>
</li>
<li><p><strong>2. 数字用户线 (DSL) 接入</strong></p>
<ul>
<li><strong>原理</strong>：利用现有电话用户线的高频部分进行数字传输。</li>
<li><strong>ADSL (Asymmetric DSL)</strong>：<strong>非对称数字用户线</strong>，目前最常用的DSL技术。<ul>
<li><strong>非对称</strong>：<strong>下行速率</strong>（ISP到用户）远大于<strong>上行速率</strong>（用户到ISP）。</li>
<li><strong>技术</strong>：采用 <strong>FDM</strong>，低频段(0-4kHz)用于传统电话，高频段用于数据传输。</li>
<li><strong>设备</strong>：用户端安装<strong>ATU-R (ADSL Modem)</strong>，局端设备为<strong>DSLAM</strong>（数字用户线接入复用器）。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>3. 光纤同轴混合网 (HFC) 接入</strong></p>
<ul>
<li><strong>原理</strong>：在有线电视网（CATV）基础上改造，实现双向数据传输。</li>
<li><strong>结构</strong>：主干线路使用光纤，到用户小区后转为同轴电缆。</li>
<li><strong>特点</strong>：<strong>共享介质</strong>，小区内所有用户共享同一段同轴电缆的带宽，实际速率受同时上网用户数影响。</li>
<li><strong>设备</strong>：用户端安装<strong>电缆调制解调器 (Cable Modem)</strong>，头端设备为<strong>CMTS</strong>（电缆调制解调器端接系统）。</li>
</ul>
</li>
<li><p><strong>4. 光纤接入 (FTTx)</strong></p>
<ul>
<li><strong>定义</strong>：光纤到……，x代表光网络单元（ONU）的位置。<ul>
<li><strong>FTTH (Fiber To The Home)</strong>：光纤到户，最理想的接入方式。</li>
<li><strong>FTTB (Fiber To The Building)</strong>：光纤到大楼。</li>
<li><strong>FTTC (Fiber To The Curb)</strong>：光纤到路边。</li>
</ul>
</li>
<li><strong>无源光网络 (PON - Passive Optical Network)</strong>：主流技术，从局端到用户之间只有无源光器件（如<strong>光分路器</strong>），可靠性高，成本低。<ul>
<li><strong>下行</strong>：局端 <strong>OLT</strong> 采用<strong>广播</strong>方式向所有 <strong>ONU</strong> 发送数据。</li>
<li><strong>上行</strong>：各 <strong>ONU</strong> 采用 <strong>TDMA</strong> (时分多址) 方式共享上行信道。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>5. 以太网接入</strong></p>
<ul>
<li><strong>应用</strong>：主要用于机构、企业、校园内部，也可用于住宅接入。</li>
<li><strong>特点</strong>：在原有以太网技术上增加控制、隔离、计费等功能。</li>
</ul>
</li>
<li><p><strong>6. 无线接入</strong></p>
<ul>
<li><strong>无线局域接入</strong>：通过<strong>无线局域网 (WLAN)</strong> 接入，典型技术是 <strong>Wi-Fi</strong>。</li>
<li><strong>无线广域接入</strong>：通过<strong>蜂窝移动通信系统</strong>接入，典型技术是 <strong>3G、4G、5G</strong>。</li>
</ul>
</li>
</ul>
<h3 id="计算机网络核心备考笔记：第3章-数据链路层"><a href="#计算机网络核心备考笔记：第3章-数据链路层" class="headerlink" title="计算机网络核心备考笔记：第3章 - 数据链路层"></a><strong>计算机网络核心备考笔记：第3章 - 数据链路层</strong></h3><h4 id="1-数据链路层的基本概念"><a href="#1-数据链路层的基本概念" class="headerlink" title="1. 数据链路层的基本概念"></a><strong>1. 数据链路层的基本概念</strong></h4><h5 id="1-1-数据链路层所处的地位"><a href="#1-1-数据链路层所处的地位" class="headerlink" title="1.1 数据链路层所处的地位"></a><strong>1.1 数据链路层所处的地位</strong></h5><ul>
<li><strong>层次位置</strong>：<strong>数据链路层</strong>位于<strong>网络层</strong>与<strong>物理层</strong>之间。</li>
<li><strong>数据流动模型</strong>：当主机H1向H2发送数据时，数据需要经过多个路由器。<ul>
<li>在<strong>主机</strong>和<strong>路由器</strong>内部，数据包会从上到下（应用层 -&gt; … -&gt; 物理层）进行封装，或从下到上（物理层 -&gt; … -&gt; 应用层&#x2F;网络层）进行解封装。</li>
<li><strong>路由器</strong>是网络层设备，它只处理到<strong>网络层</strong>。数据帧到达路由器后，数据链路层和物理层的封装会被解开，路由器根据IP地址决定下一跳，然后重新封装成新的数据链路层帧，再通过物理层发送出去。</li>
<li><strong>逐跳传输</strong>：数据链路层的通信是在<strong>相邻节点</strong>（主机到路由器，路由器到路由器，路由器到主机）之间逐段进行的。</li>
</ul>
</li>
</ul>
<h5 id="1-2-数据链路层使用的两种信道类型"><a href="#1-2-数据链路层使用的两种信道类型" class="headerlink" title="1.2 数据链路层使用的两种信道类型"></a><strong>1.2 数据链路层使用的两种信道类型</strong></h5><ul>
<li><strong>点对点信道 (Point-to-Point Channel)</strong><ul>
<li><strong>定义</strong>：使用一对一的点对点通信方式。</li>
<li><strong>特点</strong>：通信过程相对简单。</li>
</ul>
</li>
<li><strong>广播信道 (Broadcast Channel)</strong><ul>
<li><strong>定义</strong>：使用一对多的广播通信方式。</li>
<li><strong>特点</strong>：过程比较复杂，连接的主机很多，必须使用专用的<strong>共享信道协议</strong>来协调数据发送，以避免冲突。</li>
</ul>
</li>
</ul>
<h5 id="1-3-链路和数据链路的区别"><a href="#1-3-链路和数据链路的区别" class="headerlink" title="1.3 链路和数据链路的区别"></a><strong>1.3 链路和数据链路的区别</strong></h5><table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left"><strong>链路 (link)</strong></th>
<th align="left"><strong>数据链路 (data link)</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>定义</strong></td>
<td align="left">从一个结点到相邻结点的一段<strong>物理线路</strong>，中间无任何交换结点。</td>
<td align="left">在物理线路的基础上，增加了实现通信协议的<strong>硬件和软件</strong>。</td>
</tr>
<tr>
<td align="left"><strong>本质</strong></td>
<td align="left">物理通路。</td>
<td align="left">逻辑通路。</td>
</tr>
<tr>
<td align="left"><strong>实现</strong></td>
<td align="left">物理介质（如电缆、光纤）。</td>
<td align="left">通过<strong>适配器</strong>（即<strong>网卡, NIC</strong>）实现协议，网卡通常包含了数据链路层和物理层的功能。</td>
</tr>
</tbody></table>
<h5 id="1-4-数据链路层传送的是帧（Frame）"><a href="#1-4-数据链路层传送的是帧（Frame）" class="headerlink" title="1.4 数据链路层传送的是帧（Frame）"></a><strong>1.4 数据链路层传送的是帧（Frame）</strong></h5><ul>
<li><strong>协议数据单元 (PDU)</strong>：<strong>数据链路层</strong>的协议数据单元称为<strong>帧 (Frame)</strong>。</li>
<li><strong>封装过程</strong>：<ol>
<li><strong>数据链路层</strong>从<strong>网络层</strong>接收<strong>IP数据报</strong>。</li>
<li>将<strong>IP数据报</strong>封装在<strong>帧</strong>的数据部分。</li>
<li>添加<strong>帧首部 (Header)</strong> 和 <strong>帧尾部 (Tail)</strong>，构成一个完整的<strong>帧</strong>。</li>
<li>将<strong>帧</strong>交付给<strong>物理层</strong>，转换成比特流进行传输。</li>
</ol>
</li>
<li><strong>解封装过程</strong>：接收方的数据链路层从物理层接收比特流，重组成帧，然后从中提取出<strong>IP数据报</strong>并交给网络层。</li>
</ul>
<h4 id="2-封装成帧-Framing"><a href="#2-封装成帧-Framing" class="headerlink" title="2. 封装成帧 (Framing)"></a><strong>2. 封装成帧 (Framing)</strong></h4><ul>
<li><strong>定义</strong>：<strong>封装成帧</strong>就是在一段数据的前后分别添加<strong>首部</strong>和<strong>尾部</strong>，构成一个<strong>帧</strong>。</li>
<li><strong>核心作用</strong>：<ul>
<li><strong>帧定界 (Frame Delimiting)</strong>：首部和尾部的重要作用是让接收方能够准确地从比特流中识别出一个帧的开始和结束。</li>
</ul>
</li>
<li><strong>最大传送单元 (MTU - Maximum Transfer Unit)</strong><ul>
<li><strong>定义</strong>：每一种链路层协议都规定了帧的数据部分长度的上限。</li>
<li><strong>结构</strong>：<code>帧首部 | IP数据报 (帧的数据部分, ≤ MTU) | 帧尾部</code></li>
</ul>
</li>
</ul>
<h4 id="3-透明传输-Transparent-Transmission"><a href="#3-透明传输-Transparent-Transmission" class="headerlink" title="3. 透明传输 (Transparent Transmission)"></a><strong>3. 透明传输 (Transparent Transmission)</strong></h4><ul>
<li><strong>定义</strong>：指数据链路层对上层（网络层）交付的传输数据<strong>没有任何限制</strong>，就好像数据链路层不存在一样。数据部分出现的任何比特组合都不会被错误地解释为帧定界的控制字符。</li>
<li><strong>问题</strong>：如果数据部分包含了与<strong>帧定界符</strong>（如<strong>Flag</strong>）完全相同的比特组合，接收端会错误地判断帧的结束，导致数据接收不完整。</li>
<li><strong>解决方案</strong>：<ul>
<li><strong>字节填充法 (Byte Stuffing) &#x2F; 字符填充法 (Character Stuffing)</strong><ol>
<li><strong>应用场景</strong>：面向字符的物理链路。</li>
<li><strong>工作原理</strong>：<ul>
<li>在发送端，在数据中出现的<strong>帧定界符 (Flag)</strong> 或 <strong>转义字符 (ESC)</strong> 前面，插入一个<strong>转义字符 (ESC)</strong>。</li>
<li>在接收端，将数据送往网络层之前，删除插入的<strong>转义字符 (ESC)</strong>。</li>
</ul>
</li>
</ol>
</li>
<li><strong>零比特填充法 (Bit Stuffing)</strong><ol>
<li><strong>应用场景</strong>：面向比特的物理链路（如PPP协议）。</li>
<li><strong>工作原理</strong>：<ul>
<li><strong>发送端</strong>：对数据部分进行扫描，只要发现<strong>5个连续的1</strong>，就立即在其后<strong>填入一个0</strong>。</li>
<li><strong>接收端</strong>：对数据部分进行扫描，每当发现<strong>5个连续的1</strong>时，就将其后的一个<strong>0删除</strong>。</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<h4 id="4-差错检测-Error-Detection"><a href="#4-差错检测-Error-Detection" class="headerlink" title="4. 差错检测 (Error Detection)"></a><strong>4. 差错检测 (Error Detection)</strong></h4><ul>
<li><strong>需求原因</strong>：物理链路并非完全可靠，传输过程中可能会产生<strong>比特差错</strong>（1变0或0变1）。<ul>
<li><strong>误码率 (BER - Bit Error Rate)</strong>：传输错误的比特占所传输比特总数的比率。</li>
</ul>
</li>
<li><strong>基本原理</strong>：<ul>
<li>在发送端，根据要发送的数据 <strong>D</strong>，通过函数 <code>f(D)</code> 计算出<strong>差错检测码 (EDC - Error Detection Code)</strong>。</li>
<li>将 <strong>EDC</strong> 附加在数据 <strong>D</strong> 后面一起发送。这个 <strong>EDC</strong> 通常被称为<strong>帧检验序列 (FCS - Frame Check Sequence)</strong>。</li>
<li>在接收端，对收到的数据 <strong>D’</strong> 和 <strong>EDC’</strong> 进行校验。如果 <code>f(D&#39;)</code> 与 <strong>EDC’</strong> 不匹配，则判定帧有差错并丢弃。</li>
<li><strong>注意</strong>：差错检测并非100%可靠，但可以使漏检概率降到极低。</li>
</ul>
</li>
<li><strong>循环冗余检验 (CRC - Cyclic Redundancy Check)</strong><ul>
<li><strong>特点</strong>：检错性能高，易于硬件实现，是数据链路层广泛使用的检错技术。</li>
<li><strong>计算流程</strong>：<ol>
<li>收发双方事先商定一个 <strong>(r+1)</strong> 位的二进制数，称为<strong>生成多项式 G</strong>。</li>
<li><strong>发送端</strong>：<ul>
<li>在原始数据 <strong>D</strong> (d位) 后面添加 <strong>r</strong> 个0，得到 <strong>d+r</strong> 位的数。</li>
<li>用这个新数对<strong>生成多项式 G</strong> 做<strong>模2除法</strong>。</li>
<li>得到的 <strong>r</strong> 位余数 <strong>R</strong> 就是<strong>CRC校验码</strong> (即 <strong>FCS</strong>)。</li>
<li>将 <strong>R</strong> 附加在原始数据 <strong>D</strong> 后面发送出去。</li>
</ul>
</li>
<li><strong>接收端</strong>：<ul>
<li>将接收到的数据（包含校验码）用同一个<strong>生成多项式 G</strong> 做<strong>模2除法</strong>。</li>
<li>如果余数为<strong>0</strong>，则判定帧<strong>没有差错</strong>，接受。</li>
<li>如果余数<strong>不为0</strong>，则判定帧<strong>有差错</strong>，丢弃。</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><strong>纠错机制</strong>：<ul>
<li><strong>CRC</strong>只能<strong>检错</strong>，不能<strong>纠错</strong>。</li>
<li>纠错通常由上层协议负责，或数据链路层采用<strong>确认重传机制</strong>。</li>
</ul>
</li>
</ul>
<h4 id="5-可靠传输协议"><a href="#5-可靠传输协议" class="headerlink" title="5. 可靠传输协议"></a><strong>5. 可靠传输协议</strong></h4><h5 id="5-1-停止等待协议-Stop-and-Wait-Protocol"><a href="#5-1-停止等待协议-Stop-and-Wait-Protocol" class="headerlink" title="5.1 停止等待协议 (Stop-and-Wait Protocol)"></a><strong>5.1 停止等待协议 (Stop-and-Wait Protocol)</strong></h5><ul>
<li><strong>核心思想</strong>：发送方每发送一帧后，就停止发送，等待接收方的确认（ACK），收到确认后再发送下一帧。</li>
<li><strong>解决的问题与机制</strong>：<ol>
<li><strong>比特差错</strong>：通过<strong>CRC</strong>等差错检测码发现错误帧，接收方直接丢弃，发送方因收不到确认而<strong>超时重传</strong>。</li>
<li><strong>确认丢失 (Lost ACK)</strong>：发送方等待ACK超时后，会<strong>重传</strong>同一数据帧。接收方需要能识别这是重复帧。<ul>
<li><strong>解决方案</strong>：为数据帧增加<strong>序号</strong>（如0和1交替），接收方根据序号判断是否为重复帧。这种协议也称为<strong>比特交替协议 (Alternating Bit Protocol)</strong>。</li>
</ul>
</li>
<li><strong>确认迟到 (Delayed ACK)</strong>：迟到的ACK可能被发送方误认为是对新帧的确认。<ul>
<li><strong>解决方案</strong>：为<strong>确认帧</strong>也增加<strong>序号</strong>（如ACK0, ACK1），发送方根据ACK的序号判断其有效性。</li>
</ul>
</li>
</ol>
</li>
<li><strong>自动重传请求 (ARQ - Automatic Repeat reQuest)</strong>：采用<strong>确认</strong>和<strong>超时重传</strong>机制来实现可靠传输的协议统称。</li>
<li><strong>信道利用率</strong>：当往返时延 <strong>RTT</strong> 远大于帧发送时延 <strong>TD</strong> 时，信道利用率极低。<ul>
<li><code>信道利用率 = TD / (TD + RTT + TA)</code> (TA为ACK发送时间，可忽略)</li>
</ul>
</li>
</ul>
<h5 id="5-2-流水线传输与滑动窗口协议"><a href="#5-2-流水线传输与滑动窗口协议" class="headerlink" title="5.2 流水线传输与滑动窗口协议"></a><strong>5.2 流水线传输与滑动窗口协议</strong></h5><ul>
<li><strong>流水线方式</strong>：为提高利用率，允许发送方在未收到确认的情况下连续发送多个分组，即<strong>连续ARQ协议</strong>。</li>
<li><strong>滑动窗口协议 (Sliding Window Protocol)</strong><ul>
<li><strong>发送窗口</strong>：发送方维护一个允许连续发送的帧序号范围。只有落在发送窗口内的帧才能被发送。</li>
<li><strong>窗口滑动</strong>：当收到对窗口内最早帧的确认后，发送窗口向前滑动。</li>
<li><strong>作用</strong>：在保证可靠传输的前提下，通过连续发送提高信道利用率，同时通过窗口大小控制发送速率。</li>
</ul>
</li>
</ul>
<h5 id="5-3-回退N帧协议-Go-Back-N-GBN"><a href="#5-3-回退N帧协议-Go-Back-N-GBN" class="headerlink" title="5.3 回退N帧协议 (Go-Back-N, GBN)"></a><strong>5.3 回退N帧协议 (Go-Back-N, GBN)</strong></h5><ul>
<li><strong>发送方</strong>：<ul>
<li>发送窗口大小 &gt; 1。</li>
<li>可连续发送窗口内的所有帧。</li>
<li>采用<strong>超时机制</strong>，若某个帧超时，则<strong>重传该帧及其之后所有已发送的帧</strong>。</li>
</ul>
</li>
<li><strong>接收方</strong>：<ul>
<li>接收窗口大小 &#x3D; 1。</li>
<li>只按序接收帧。任何失序到达的帧都会被<strong>丢弃</strong>。</li>
<li>每正确接收一个按序的帧，就发送一个<strong>累积确认 (Cumulative Acknowledgment)</strong>。ACKn表示序号n及之前的所有帧都已正确接收。</li>
</ul>
</li>
</ul>
<h5 id="5-4-选择重传协议-Selective-Repeat-SR"><a href="#5-4-选择重传协议-Selective-Repeat-SR" class="headerlink" title="5.4 选择重传协议 (Selective Repeat, SR)"></a><strong>5.4 选择重传协议 (Selective Repeat, SR)</strong></h5><ul>
<li><strong>目的</strong>：克服GBN协议因单个错误导致大量重传的低效问题。</li>
<li><strong>发送方</strong>：<ul>
<li>发送窗口大小 &gt; 1。</li>
<li>只<strong>重传</strong>那些<strong>超时</strong>或收到<strong>否定确认 (NAK)</strong> 的帧。</li>
</ul>
</li>
<li><strong>接收方</strong>：<ul>
<li>接收窗口大小 &gt; 1。</li>
<li>可以接收并<strong>缓存</strong>失序到达但未出错的帧。</li>
<li>当所缺的帧到达后，将一批连续的帧交付给上层。</li>
<li>采用<strong>选择确认</strong>，只确认已正确收到的帧。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="6-点对点协议-PPP-Point-to-Point-Protocol"><a href="#6-点对点协议-PPP-Point-to-Point-Protocol" class="headerlink" title="6. 点对点协议 PPP (Point-to-Point Protocol)"></a><strong>6. 点对点协议 PPP (Point-to-Point Protocol)</strong></h4><ul>
<li><strong>定义</strong>：目前使用最广泛的<strong>点对点</strong>数据链路层协议，常用于用户计算机与ISP之间的通信。</li>
<li><strong>主要特点</strong>：<ul>
<li><strong>简单</strong>：不提供复杂的可靠传输服务（如编号、确认），由上层协议保证。</li>
<li><strong>封装成帧</strong>：使用<code>0x7E</code>作为帧定界符。</li>
<li><strong>透明性</strong>：使用字节填充或比特填充实现透明传输。</li>
<li><strong>多种网络层协议</strong>：能在同一链路上支持多种网络层协议（如IP, IPX）。</li>
<li><strong>多种类型链路</strong>：能在多种点对点链路上运行。</li>
<li><strong>差错检测</strong>：能检测并丢弃有差错的帧。</li>
<li><strong>网络层地址协商</strong>：提供<strong>NCP</strong>协议来协商网络层地址（如动态分配IP地址）。</li>
</ul>
</li>
<li><strong>组成部分</strong>：<ol>
<li><strong>封装方法</strong>：将IP数据报等上层数据封装到串行链路的方法。</li>
<li><strong>链路控制协议 (LCP - Link Control Protocol)</strong>：用于建立、配置和测试数据链路连接。</li>
<li><strong>网络控制协议 (NCP - Network Control Protocol)</strong>：一套协议，用于支持不同的网络层协议。</li>
</ol>
</li>
<li><strong>PPP帧格式</strong>：<br><code>F (1B) | A (1B) | C (1B) | 协议 (2B) | 信息 (≤1500B) | FCS (2B) | F (1B)</code><ul>
<li><strong>F (标志)</strong>：<code>0x7E</code>，帧定界符。</li>
<li><strong>A (地址)</strong>：固定为<code>0xFF</code>。</li>
<li><strong>C (控制)</strong>：固定为<code>0x03</code>。</li>
<li><strong>协议</strong>：指明信息字段的数据类型。<code>0x0021</code>表示IP数据报，<code>0xC021</code>表示LCP数据。</li>
<li><strong>FCS</strong>：2字节的CRC校验。</li>
</ul>
</li>
<li><strong>工作状态</strong>：<ol>
<li>建立物理连接（如拨号）。</li>
<li>发送<strong>LCP分组</strong>，进行链路建立和配置协商。</li>
<li>进行<strong>鉴别</strong>（可选）。</li>
<li>发送<strong>NCP分组</strong>，进行网络层配置（如分配IP地址）。</li>
<li>进入<strong>打开</strong>状态，进行数据通信。</li>
<li>通信结束，NCP释放网络层连接，LCP释放数据链路层连接，最后释放物理连接。</li>
</ol>
</li>
</ul>
<hr>
<h4 id="7-使用广播信道的数据链路层"><a href="#7-使用广播信道的数据链路层" class="headerlink" title="7. 使用广播信道的数据链路层"></a><strong>7. 使用广播信道的数据链路层</strong></h4><h5 id="7-1-媒体接入控制-Medium-Access-Control-MAC"><a href="#7-1-媒体接入控制-Medium-Access-Control-MAC" class="headerlink" title="7.1 媒体接入控制 (Medium Access Control, MAC)"></a><strong>7.1 媒体接入控制 (Medium Access Control, MAC)</strong></h5><ul>
<li><strong>问题</strong>：在广播信道（共享媒体）上，如何协调多个站点的数据发送，以解决<strong>冲突 (Collision)</strong> 问题。</li>
<li><strong>分类</strong>：<ul>
<li><strong>静态划分信道</strong>：预先分配好信道资源。<ul>
<li><strong>频分多址 (FDMA)</strong>、<strong>时分多址 (TDMA)</strong>、<strong>码分多址 (CDMA)</strong>。</li>
<li><strong>缺点</strong>：对于突发性业务，信道利用率低。</li>
</ul>
</li>
<li><strong>动态接入控制 (随机接入)</strong>：站点通过竞争随机地在信道上发送数据。<ul>
<li><strong>核心</strong>：如何减少冲突，冲突后如何尽快恢复。</li>
<li><strong>应用</strong>：共享式以太网和无线局域网。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="7-2-局域网-LAN-Local-Area-Network"><a href="#7-2-局域网-LAN-Local-Area-Network" class="headerlink" title="7.2 局域网 (LAN - Local Area Network)"></a><strong>7.2 局域网 (LAN - Local Area Network)</strong></h5><ul>
<li><strong>特点</strong>：网络为一个单位所拥有，地理范围和站点数目有限。</li>
<li><strong>数据链路层拆分</strong> (IEEE 802标准)：<ul>
<li><strong>逻辑链路控制 (LLC - Logical Link Control)</strong> 子层：与传输媒体无关，为网络层提供服务。</li>
<li><strong>媒体接入控制 (MAC - Medium Access Control)</strong> 子层：与接入传输媒体有关，负责解决冲突。</li>
</ul>
</li>
<li><strong>适配器 (网卡)</strong><ul>
<li><strong>功能</strong>：连接计算机与局域网，实现数据链路层和物理层协议。</li>
<li><strong>地址</strong>：固化在适配器ROM中的<strong>MAC地址</strong>。</li>
</ul>
</li>
<li><strong>MAC地址 (硬件地址)</strong><ul>
<li><strong>定义</strong>：一个48位的全球唯一地址，用于在局域网中唯一标识一个网络接口。</li>
<li><strong>格式</strong>：通常表示为12个十六进制数，如 <code>90-78-41-50-4E-84</code>。</li>
<li><strong>地址类型</strong>：<ul>
<li><strong>单播 (Unicast)</strong>：一对一。</li>
<li><strong>广播 (Broadcast)</strong>：一对全体 (MAC地址为 <code>FF-FF-FF-FF-FF-FF</code>)。</li>
<li><strong>多播 (Multicast)</strong>：一对多。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="8-共享式以太网与CSMA-CD协议"><a href="#8-共享式以太网与CSMA-CD协议" class="headerlink" title="8. 共享式以太网与CSMA&#x2F;CD协议"></a><strong>8. 共享式以太网与CSMA&#x2F;CD协议</strong></h4><ul>
<li><strong>以太网 (Ethernet)</strong>：当今最主流的局域网技术，最初采用总线型拓扑和共享媒体。</li>
<li><strong>工作方式</strong>：无连接、不可靠。对差错帧直接丢弃，重传由高层决定。</li>
<li><strong>CSMA&#x2F;CD (载波监听多址接入&#x2F;冲突检测)</strong><ul>
<li><strong>英文全称</strong>：<strong>Carrier Sense Multiple Access with Collision Detection</strong>。</li>
<li><strong>核心思想</strong>：先听后发，边发边听，冲突停发，随机重发。</li>
<li><strong>工作流程</strong>：<ol>
<li><strong>载波监听 (Carrier Sense)</strong>：发送前先监听信道。如果信道空闲，则发送数据；如果信道忙，则持续监听直到信道空闲。</li>
<li><strong>冲突检测 (Collision Detection)</strong>：在发送数据的同时，持续检测信道上的信号电压。如果检测到电压摆动异常，说明发生了<strong>冲突</strong>。</li>
<li><strong>冲突处理</strong>：一旦检测到冲突，立即<strong>停止</strong>发送数据，并发送一个简短的<strong>干扰信号 (Jamming Signal)</strong>，以确保所有站点都知道发生了冲突。</li>
<li><strong>退避重传 (Backoff and Retransmission)</strong>：<ul>
<li>冲突后，等待一段随机时间再重新尝试发送。</li>
<li>等待时间由<strong>二进制指数退避算法 (Binary Exponential Backoff)</strong> 决定。</li>
<li><strong>算法</strong>：重传退避时间 &#x3D; <code>r * 争用期</code>。<code>r</code>是从 <code>&#123;0, 1, ..., 2^k - 1&#125;</code> 中随机选取的一个整数，<code>k</code>为重传次数（但k不超过10）。</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><strong>重要概念</strong>：<ul>
<li><strong>争用期 (Contention Period)</strong>：值为<code>2τ</code>，即总线端到端传播时延的<strong>两倍</strong>。这是站点能够检测到冲突的最长时间。</li>
<li><strong>最短帧长</strong>：<code>64字节</code>。为了确保在帧发送完毕前能够检测到可能发生的最远距离的冲突，帧的发送时间 <code>T0</code> 必须不小于争用期 <code>2τ</code>。</li>
<li><strong>信道利用率</strong>：参数 <code>a = τ / T0</code>。<code>a</code>越小，信道利用率越高。</li>
</ul>
</li>
</ul>
<h5 id="8-1-使用集线器的星形拓扑"><a href="#8-1-使用集线器的星形拓扑" class="headerlink" title="8.1 使用集线器的星形拓扑"></a><strong>8.1 使用集线器的星形拓扑</strong></h5><ul>
<li><strong>集线器 (Hub)</strong><ul>
<li><strong>工作层次</strong>：<strong>物理层</strong>设备。</li>
<li><strong>工作原理</strong>：将从一个接口收到的信号放大后，向<strong>所有其他接口</strong>转发。</li>
<li><strong>特点</strong>：<ul>
<li>逻辑上仍是<strong>总线型</strong>结构，所有连接的设备共享带宽。</li>
<li>所有设备处于<strong>同一个碰撞域 (Collision Domain)</strong> 和<strong>同一个广播域 (Broadcast Domain)</strong>。</li>
<li>使用集线器扩展网络会增大碰撞域，可能降低网络性能。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="8-2-以太网的MAC帧格式-Ethernet-V2"><a href="#8-2-以太网的MAC帧格式-Ethernet-V2" class="headerlink" title="8.2 以太网的MAC帧格式 (Ethernet V2)"></a><strong>8.2 以太网的MAC帧格式 (Ethernet V2)</strong></h5><p><code>目的地址(6B) | 源地址(6B) | 类型(2B) | 数据(46-1500B) | FCS(4B)</code></p>
<ul>
<li><strong>目的&#x2F;源地址</strong>：48位的MAC地址。</li>
<li><strong>类型</strong>：指明上层协议的类型，如 <code>0x0800</code> 表示 <strong>IPv4</strong>。</li>
<li><strong>数据</strong>：长度不足46字节时，需要填充。</li>
<li><strong>FCS</strong>：4字节的CRC校验码。</li>
</ul>
<hr>
<h4 id="9-在数据链路层扩展局域网"><a href="#9-在数据链路层扩展局域网" class="headerlink" title="9. 在数据链路层扩展局域网"></a><strong>9. 在数据链路层扩展局域网</strong></h4><h5 id="9-1-网桥-Bridge"><a href="#9-1-网桥-Bridge" class="headerlink" title="9.1 网桥 (Bridge)"></a><strong>9.1 网桥 (Bridge)</strong></h5><ul>
<li><strong>工作层次</strong>：<strong>数据链路层</strong>。</li>
<li><strong>功能</strong>：连接不同的局域网段，根据<strong>MAC帧的目的地址</strong>对帧进行<strong>转发</strong>和<strong>过滤</strong>。</li>
<li><strong>核心作用</strong>：<strong>隔离碰撞域</strong>。每个接口连接一个独立的碰撞域，但所有接口仍属于同一个广播域。</li>
<li><strong>透明网桥 (Transparent Bridge)</strong><ul>
<li><strong>特点</strong>：即插即用，对站点透明。</li>
<li><strong>自学习算法</strong>：<ol>
<li>网桥维护一张<strong>转发表 (MAC地址表)</strong>，记录<code>&#123;MAC地址, 接口, 时间&#125;</code>。</li>
<li><strong>学习过程</strong>：每当收到一个帧，检查其<strong>源MAC地址</strong>。<ul>
<li>如果该地址不在表中，就将其与接收该帧的<strong>接口</strong>一起记录到表中。</li>
<li>如果该地址已在表中，就更新其时间戳。</li>
</ul>
</li>
<li><strong>转发&#x2F;过滤过程</strong>：检查帧的<strong>目的MAC地址</strong>。<ul>
<li>如果在表中<strong>找不到</strong>该地址，则向<strong>除源接口外的所有接口转发（泛洪）</strong>。</li>
<li>如果在表中<strong>找到</strong>该地址：<ul>
<li>若对应的接口<strong>不是</strong>源接口，则向该<strong>指定接口转发</strong>。</li>
<li>若对应的接口<strong>就是</strong>源接口，则<strong>丢弃该帧（过滤）</strong>，因为目的站点在同一网段。</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><strong>生成树协议 (STP - Spanning Tree Protocol)</strong><ul>
<li><strong>问题</strong>：当网桥之间形成环路时，广播帧和未知单播帧会无限循环，导致<strong>广播风暴</strong>。</li>
<li><strong>解决方案</strong>：STP协议在逻辑上<strong>阻塞</strong>某些冗余链路，使得网络拓扑形成一棵<strong>无环路的树</strong>，从而避免循环。当主链路故障时，可以自动启用被阻塞的备用链路。</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left"><strong>集线器 (Hub)</strong></th>
<th align="left"><strong>网桥 (Bridge) &#x2F; 交换机 (Switch)</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>工作层次</strong></td>
<td align="left">物理层</td>
<td align="left">数据链路层</td>
</tr>
<tr>
<td align="left"><strong>数据单元</strong></td>
<td align="left">比特 (Bit)</td>
<td align="left">帧 (Frame)</td>
</tr>
<tr>
<td align="left"><strong>转发方式</strong></td>
<td align="left">广播 (向所有接口转发)</td>
<td align="left">存储转发 (根据MAC地址表选择性转发)</td>
</tr>
<tr>
<td align="left"><strong>碰撞域</strong></td>
<td align="left">所有接口在同一个碰撞域</td>
<td align="left">每个接口是一个独立的碰撞域</td>
</tr>
<tr>
<td align="left"><strong>广播域</strong></td>
<td align="left">所有接口在同一个广播域</td>
<td align="left">所有接口在同一个广播域</td>
</tr>
<tr>
<td align="left"><strong>速率</strong></td>
<td align="left">不能连接不同速率的网段</td>
<td align="left">可以连接不同速率的网段</td>
</tr>
<tr>
<td align="left"><strong>智能性</strong></td>
<td align="left">无智能，”傻瓜”设备</td>
<td align="left">智能设备，具有自学习能力</td>
</tr>
</tbody></table>
<h5 id="9-2-以太网交换机-Ethernet-Switch"><a href="#9-2-以太网交换机-Ethernet-Switch" class="headerlink" title="9.2 以太网交换机 (Ethernet Switch)"></a><strong>9.2 以太网交换机 (Ethernet Switch)</strong></h5><ul>
<li><strong>定义</strong>：实质上是一种<strong>多接口的网桥</strong>，也称为<strong>二层交换机</strong>。</li>
<li><strong>特点</strong>：<ul>
<li>每个接口连接一个设备或一个集线器，形成一个独立的碰撞域。</li>
<li>能够同时连通多对接口，实现并发通信。</li>
<li>通常工作在<strong>全双工 (Full-duplex)</strong> 方式，无冲突，不使用CSMA&#x2F;CD协议。</li>
<li><strong>交换式以太网</strong>取代了共享式以太网，极大地提高了局域网性能。</li>
<li><strong>缺点</strong>：所有接口仍处于同一个广播域，无法隔离广播风暴。</li>
</ul>
</li>
</ul>
<h4 id="10-虚拟局域网-VLAN-Virtual-LAN"><a href="#10-虚拟局域网-VLAN-Virtual-LAN" class="headerlink" title="10. 虚拟局域网 VLAN (Virtual LAN)"></a><strong>10. 虚拟局域网 VLAN (Virtual LAN)</strong></h4><ul>
<li><strong>定义</strong>：一种将局域网内的设备从逻辑上划分成多个不同网段（广播域）的技术，而这些设备在物理上可能连接在同一个交换机上。</li>
<li><strong>核心作用</strong>：<strong>隔离广播域</strong>。每个VLAN都是一个独立的广播域。</li>
<li><strong>优点</strong>：<ul>
<li><strong>控制广播风暴</strong>：将大的广播域分割成多个小的广播域。</li>
<li><strong>增强网络安全</strong>：不同VLAN间的通信默认被隔离。</li>
<li><strong>简化网络管理</strong>：网络重构无需改变物理布线，只需修改配置。</li>
</ul>
</li>
<li><strong>VLAN间通信</strong>：不同VLAN间的通信必须经过<strong>三层设备</strong>（如<strong>路由器</strong>或<strong>三层交换机</strong>）。</li>
<li><strong>VLAN的实现</strong>：<ul>
<li><strong>802.1Q帧格式</strong>：在以太网帧的源地址和类型字段之间插入一个4字节的<strong>VLAN标记 (Tag)</strong>。</li>
<li><strong>Trunk链路</strong>：能够承载多个VLAN流量的链路，通常用于交换机之间的连接。在Trunk链路上，帧都带有VLAN标记。</li>
<li><strong>Access接口</strong>：通常用于连接终端设备，只属于一个VLAN，处理的帧不带标记。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="11-无线局域网-WLAN-Wireless-LAN"><a href="#11-无线局域网-WLAN-Wireless-LAN" class="headerlink" title="11. 无线局域网 (WLAN - Wireless LAN)"></a><strong>11. 无线局域网 (WLAN - Wireless LAN)</strong></h4><ul>
<li><strong>标准</strong>：<strong>IEEE 802.11</strong> 系列，通常称为 <strong>Wi-Fi</strong>。</li>
<li><strong>组成</strong>：<ul>
<li><strong>有基础设施的网络</strong>：<ul>
<li>由<strong>接入点 (AP - Access Point)</strong> 和多个<strong>无线站 (Station)</strong> 组成。</li>
<li><strong>基本服务集 (BSS)</strong>：一个AP和其覆盖范围内的所有无线站。</li>
<li><strong>扩展服务集 (ESS)</strong>：多个BSS通过有线网络连接起来。</li>
<li>无线站之间的通信必须通过AP进行转发。</li>
</ul>
</li>
<li><strong>无基础设施的网络 (Ad hoc)</strong>：<ul>
<li>没有AP，所有无线站地位平等，直接通信。</li>
<li>组成一个临时的自组网络。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="11-1-CSMA-CA-协议-载波监听多址接入-冲突避免"><a href="#11-1-CSMA-CA-协议-载波监听多址接入-冲突避免" class="headerlink" title="11.1 CSMA&#x2F;CA 协议 (载波监听多址接入&#x2F;冲突避免)"></a><strong>11.1 CSMA&#x2F;CA 协议 (载波监听多址接入&#x2F;冲突避免)</strong></h5><ul>
<li><strong>英文全称</strong>：<strong>Carrier Sense Multiple Access with Collision Avoidance</strong>。</li>
<li><strong>使用原因</strong>：<ol>
<li><strong>冲突检测困难</strong>：无线信道中，接收信号远小于发送信号，硬件上难以实现冲突检测。</li>
<li><strong>隐蔽站问题 (Hidden Station Problem)</strong>：A和C都在B的通信范围内，但A和C互相听不到对方。当A和C同时向B发送数据时，会在B处发生冲突，但A和C无法检测到。</li>
</ol>
</li>
<li><strong>核心思想</strong>：通过<strong>预约信道</strong>和<strong>随机退避</strong>等机制，<strong>尽量避免</strong>冲突的发生。</li>
<li><strong>工作机制</strong>：<ol>
<li><strong>确认机制</strong>：802.11规定所有数据帧和管理帧都必须使用<strong>停止等待协议</strong>进行确认（ACK），以实现可靠传输。</li>
<li><strong>冲突避免</strong>：<ul>
<li><strong>预约信道 (RTS&#x2F;CTS)</strong>：为解决隐蔽站问题，源站可以先发送一个短的<strong>请求发送 (RTS - Request to Send)</strong> 帧。目的站收到后，广播一个<strong>清除发送 (CTS - Clear to Send)</strong> 帧。周围所有听到CTS的站点，在指定时间内都不能发送数据。</li>
<li><strong>随机退避</strong>：当站点要发送数据时，先监听信道。若信道空闲，则等待一段<strong>帧间间隔 (IFS)</strong> 时间后发送。若信道忙，则启动一个随机退避计时器，计时器归零后才能发送。</li>
</ul>
</li>
</ol>
</li>
<li><strong>802.11 MAC帧格式</strong><ul>
<li><strong>特点</strong>：具有<strong>4个地址字段</strong>，以适应不同的网络结构（如BSS、ESS、Ad hoc）。地址1到地址4分别用于表示接收者、发送者、源地址、目的地址等不同角色，具体含义由帧控制字段中的<code>To AP</code>和<code>From AP</code>位决定。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="12-蜂窝移动通信系统"><a href="#12-蜂窝移动通信系统" class="headerlink" title="12. 蜂窝移动通信系统"></a><strong>12. 蜂窝移动通信系统</strong></h4><ul>
<li><strong>概念</strong>：将服务区域划分为多个<strong>小区 (Cell)</strong>，每个小区设置一个<strong>基站 (Base Station)</strong>，实现大范围的无线覆盖。</li>
<li><strong>演进</strong>：<ul>
<li><strong>1G</strong>：模拟通信，只能提供话音业务。</li>
<li><strong>2G</strong>：数字通信，提供数字话音和短信服务（如<strong>GSM</strong>）。</li>
<li><strong>3G</strong>：支持更高的数据传输速率，引入<strong>CDMA</strong>技术，支持数据业务。</li>
<li><strong>4G (LTE)</strong>：采用<strong>OFDM</strong>和<strong>MIMO</strong>技术，全IP网络结构，提供高速数据服务。</li>
<li><strong>5G</strong>：三大应用场景：增强型移动宽带(eMBB)、超高可靠超低时延通信(uRLLC)、大规模机器类型通信(mMTC)。</li>
</ul>
</li>
</ul>
<hr>
<p><strong>备考建议</strong>：</p>
<ul>
<li><strong>重点掌握</strong>：<strong>CSMA&#x2F;CD</strong> 和 <strong>CSMA&#x2F;CA</strong> 的工作原理及区别；<strong>网桥&#x2F;交换机</strong>的自学习和转发过程；<strong>停止等待</strong>、<strong>GBN</strong> 和 <strong>SR</strong> 三种可靠传输协议的机制与对比；<strong>VLAN</strong> 的概念和作用。</li>
<li><strong>熟记</strong>：数据链路层的主要功能、PDU名称（帧）、PPP和以太网V2的帧格式。</li>
<li><strong>理解</strong>：透明传输的两种实现方法（字节填充和零比特填充）、CRC检错原理。</li>
</ul>
<h3 id="计算机网络核心备考笔记：第4章-网络层"><a href="#计算机网络核心备考笔记：第4章-网络层" class="headerlink" title="计算机网络核心备考笔记：第4章 网络层"></a><strong>计算机网络核心备考笔记：第4章 网络层</strong></h3><h4 id="网络层概述"><a href="#网络层概述" class="headerlink" title="网络层概述"></a><strong>网络层概述</strong></h4><h5 id="1-分组转发和路由选择"><a href="#1-分组转发和路由选择" class="headerlink" title="1. 分组转发和路由选择"></a><strong>1. 分组转发和路由选择</strong></h5><ul>
<li><strong>核心任务</strong>: 网络层的主要任务是将分组从源主机传送到目的主机。</li>
<li><strong>两大核心功能</strong>:<ul>
<li><strong>分组转发 (Forwarding)</strong>:<ul>
<li><strong>定义</strong>: 当一个分组到达路由器的输入链路时，路由器必须将该分组移动到适当的输出链路的过程。</li>
<li><strong>依据</strong>: 路由器内部的<strong>转发表 (Forwarding Table)</strong>。</li>
<li><strong>原理</strong>: 分组首部包含一个<strong>转发标识</strong>，路由器根据此标识查询转发表，以确定输出接口。</li>
<li><strong>所属平面</strong>: <strong>数据平面 (Data Plane)</strong>，直接作用于数据流。</li>
</ul>
</li>
<li><strong>路由选择 (Routing)</strong>:<ul>
<li><strong>定义</strong>: 决定分组从源到目的地所经过的路径（或路由）的过程。</li>
<li><strong>实现</strong>: 通过运行<strong>路由选择协议 (Routing Protocols)<strong>来计算和生成</strong>路由表 (Routing Table)</strong>，进而生成转发表。</li>
<li><strong>所属平面</strong>: <strong>控制平面 (Control Plane)</strong>，负责进行转发决策的逻辑控制。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="2-网络层提供的两种服务"><a href="#2-网络层提供的两种服务" class="headerlink" title="2. 网络层提供的两种服务"></a><strong>2. 网络层提供的两种服务</strong></h5><ul>
<li><p>网络层向运输层提供两种服务模型，但一个具体的网络体系结构（如Internet）通常只选择其中一种。</p>
<ul>
<li><strong>虚电路网络 (Virtual-Circuit Network)</strong>: 提供<strong>面向连接</strong>的服务。</li>
<li><strong>数据报网络 (Datagram Network)</strong>: 提供<strong>无连接</strong>的服务（Internet采用此模型）。</li>
</ul>
</li>
<li><p><strong>虚电路服务 (Virtual-Circuit Service)</strong></p>
<ul>
<li><strong>核心思想</strong>: 在数据传输前，先在源主机和目的主机之间建立一条逻辑上的连接，即<strong>虚电路 (VC)</strong>。</li>
<li><strong>特点</strong>:<ul>
<li>所有分组都沿着同一条<strong>虚电路</strong>传送。</li>
<li>分组首部只需携带一个短的<strong>虚电路编号 (VC ID)</strong>，而不需要完整的目的地址。</li>
<li>这是一种<strong>逻辑连接</strong>，而非物理连接，分组依然采用存储转发方式。</li>
<li>与电路交换类似，但非完全相同（电路交换是物理连接）。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>数据报服务 (Datagram Service)</strong></p>
<ul>
<li><strong>核心思想</strong>: 网络层对每个分组都独立地进行路由选择和转发，分组之间无任何关联。</li>
<li><strong>特点</strong>:<ul>
<li>每个分组都必须携带<strong>完整的目的主机地址</strong>。</li>
<li>路由器根据每个分组的目的地址独立选择路径。</li>
<li>不同分组可能沿着不同路径传输，可能出现<strong>失序到达</strong>或<strong>丢失</strong>。</li>
<li>网络尽最大努力交付，不保证可靠性。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="虚电路服务与数据报服务的对比"><a href="#虚电路服务与数据报服务的对比" class="headerlink" title="虚电路服务与数据报服务的对比"></a><strong>虚电路服务与数据报服务的对比</strong></h5><table>
<thead>
<tr>
<th align="left">对比方面</th>
<th align="left">虚电路服务 (Virtual-Circuit Service)</th>
<th align="left">数据报服务 (Datagram Network Service)</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>基本设计思想</strong></td>
<td align="left">可靠通信由<strong>网络</strong>来保证</td>
<td align="left">可靠通信由<strong>用户主机</strong>来保证 (端到端原则)</td>
</tr>
<tr>
<td align="left"><strong>连接的建立</strong></td>
<td align="left"><strong>必须有</strong>连接建立、数据传输、连接拆除三个阶段</td>
<td align="left"><strong>不需要</strong>建立连接，直接发送数据</td>
</tr>
<tr>
<td align="left"><strong>终点地址</strong></td>
<td align="left">仅在连接建立阶段使用，每个分组使用短的<strong>虚电路号</strong></td>
<td align="left">每个分组都带有<strong>终点的完整地址</strong></td>
</tr>
<tr>
<td align="left"><strong>分组的转发</strong></td>
<td align="left">属于同一虚电路的分组<strong>按同一路由</strong>进行转发</td>
<td align="left">每个分组<strong>独立选择路由</strong>进行转发</td>
</tr>
<tr>
<td align="left"><strong>当结点出故障时</strong></td>
<td align="left">所有通过该故障结点的虚电路均<strong>不能工作</strong></td>
<td align="left">故障结点可能会丢失分组，路由会自动更新绕开故障点</td>
</tr>
<tr>
<td align="left"><strong>分组的顺序</strong></td>
<td align="left"><strong>总是按发送顺序</strong>到达终点</td>
<td align="left">到达终点时<strong>不一定按发送顺序</strong></td>
</tr>
<tr>
<td align="left"><strong>服务质量保证</strong></td>
<td align="left"><strong>容易实现</strong>，可在连接建立时预留资源</td>
<td align="left"><strong>较难实现</strong></td>
</tr>
</tbody></table>
<ul>
<li><strong>虚电路网络详解</strong><ul>
<li><strong>典型协议</strong>: <strong>ATM</strong>、<strong>帧中继</strong>、<strong>X.25</strong>。</li>
<li><strong>虚电路的组成</strong>:<ol>
<li><strong>路径</strong>: 从源到目的的一条路径。</li>
<li><strong>虚电路号 (VC号)</strong>: 路径上每段链路都有一个VC号，用于标识该虚电路。<strong>同一条虚电路在不同链路上可以有不同的VC号</strong>。</li>
<li><strong>转发表</strong>: 路径上每个路由器都为该虚电路维护一个表项。</li>
</ol>
</li>
<li><strong>工作流程</strong>:<ol>
<li><strong>虚电路建立</strong>: 确定路径，并为路径上的每条链路分配VC号，在路由器中建立转发表项。</li>
<li><strong>数据传送</strong>: 分组携带VC号沿已建立的虚电路传输。路由器收到分组后，根据”入接口, 入VC号”查询转发表，得到”出接口, 出VC号”，替换VC号后转发。</li>
<li><strong>虚电路拆除</strong>: 释放连接，删除路由器中的转发表项。</li>
</ol>
</li>
</ul>
</li>
</ul>
<h4 id="异构网络互连"><a href="#异构网络互连" class="headerlink" title="异构网络互连"></a><strong>异构网络互连</strong></h4><ul>
<li><strong>互连的复杂性</strong>: 异构网络在寻址方案、最大分组长度、接入机制、路由技术等方面存在巨大差异。</li>
<li><strong>网络互连的中间设备</strong>:<ul>
<li>物理层: <strong>转发器 (Repeater)</strong> - 扩大网络物理范围。</li>
<li>数据链路层: <strong>网桥 (Bridge)</strong> - 连接同构或异构的局域网。</li>
<li>网络层: <strong>路由器 (Router)</strong> - 连接异构网络，是实现网络互连最核心的设备。</li>
<li>网络层以上: <strong>网关 (Gateway)</strong> - 进行高层协议转换，较复杂，使用较少。</li>
</ul>
</li>
<li><strong>路由器的作用</strong>:<ul>
<li>路由器工作在网络层，用于连接多个异构的物理网络。</li>
<li>所有主机和路由器在网络层使用统一的<strong>IP协议</strong>和<strong>IP地址</strong>，屏蔽了底层物理网络的差异。</li>
</ul>
</li>
<li><strong>虚拟互连网络 (IP网)</strong>:<ul>
<li><strong>定义</strong>: 利用<strong>IP协议</strong>将客观存在的各种异构物理网络，在逻辑上互连成一个统一的网络。</li>
<li><strong>意义</strong>: 用户在使用<strong>IP网</strong>通信时，感觉就像在一个单一的网络上，无需关心底层网络的具体细节。</li>
</ul>
</li>
</ul>
<h4 id="IP地址及编址方式"><a href="#IP地址及编址方式" class="headerlink" title="IP地址及编址方式"></a><strong>IP地址及编址方式</strong></h4><ul>
<li><strong>IP地址</strong>: 连接在因特网上的主机（或路由器）的全球唯一的32位标识符。</li>
<li><strong>点分十进制记法</strong>: 为便于阅读，将32位二进制IP地址每8位一组，转换为十进制数，并用点号分隔（如 <code>128.11.3.31</code>）。</li>
<li><strong>IP地址的编址方法发展历程</strong>:<ol>
<li><strong>分类编址 (Classful Addressing)</strong>: 最早的编址方法。</li>
<li><strong>划分子网 (Subnetting)</strong>: 对分类编址的改进。</li>
<li><strong>无分类编址 (Classless Addressing &#x2F; CIDR)</strong>: 目前使用的方法。</li>
</ol>
</li>
</ul>
<h5 id="1-分类编址"><a href="#1-分类编址" class="headerlink" title="1. 分类编址"></a><strong>1. 分类编址</strong></h5><ul>
<li><strong>结构</strong>: <code>IP 地址 ::= &#123; &lt;网络号 net-id&gt;, &lt;主机号 host-id&gt;&#125;</code></li>
<li><strong>地址类别</strong>:<ul>
<li><strong>A类</strong>: <code>0</code>开头，8位网络号，24位主机号。</li>
<li><strong>B类</strong>: <code>10</code>开头，16位网络号，16位主机号。</li>
<li><strong>C类</strong>: <code>110</code>开头，24位网络号，8位主机号。</li>
<li><strong>D类</strong>: <code>1110</code>开头，用于<strong>多播 (Multicast)</strong>。</li>
<li><strong>E类</strong>: <code>1111</code>开头，保留备用。</li>
</ul>
</li>
</ul>
<h5 id="2-划分子网"><a href="#2-划分子网" class="headerlink" title="2. 划分子网"></a><strong>2. 划分子网</strong></h5><ul>
<li><strong>目的</strong>: 解决A类和B类地址中主机号过多造成的地址浪费问题。</li>
<li><strong>原理</strong>: 从主机号部分借用若干位作为<strong>子网号 (subnet-id)</strong>。</li>
<li><strong>三级结构</strong>: <code>IP地址 ::= &#123;&lt;网络号&gt;, &lt;子网号&gt;, &lt;主机号&gt;&#125;</code></li>
</ul>
<h5 id="3-无分类编址-CIDR-Classless-Inter-Domain-Routing"><a href="#3-无分类编址-CIDR-Classless-Inter-Domain-Routing" class="headerlink" title="3. 无分类编址 CIDR (Classless Inter-Domain Routing)"></a><strong>3. 无分类编址 CIDR (Classless Inter-Domain Routing)</strong></h5><ul>
<li><strong>核心思想</strong>:<ul>
<li>消除了A、B、C类的概念和划分子网的概念。</li>
<li>使用任意长度的**网络前缀 (network-prefix)**来标识网络。</li>
<li>IP地址回到<strong>两级结构</strong>: <code>IP地址 ::= &#123;&lt;网络前缀&gt;, &lt;主机号&gt;&#125;</code>。</li>
</ul>
</li>
<li><strong>子网掩码 (Subnet Mask)</strong>:<ul>
<li><strong>作用</strong>: 与IP地址进行<strong>按位与 (AND)</strong> 运算，以提取出其网络前缀。</li>
<li><strong>表示</strong>: 32位二进制数，网络前缀对应的位全为1，主机号对应的位全为0。</li>
</ul>
</li>
<li><strong>CIDR记法 (斜线记法)</strong>:<ul>
<li><strong>格式</strong>: <code>IP地址/网络前缀位数</code>，例如 <code>200.23.16.3/23</code> 表示网络前缀为23位。</li>
</ul>
</li>
<li><strong>CIDR地址块</strong>:<ul>
<li><code>128.14.32.0/20</code> 表示一个地址块。</li>
<li>网络前缀为20位，主机号为 <code>32-20=12</code> 位。</li>
<li>地址数量: 2^12 &#x3D; 4096个。</li>
<li>最小地址: <code>128.14.32.0</code> (网络地址)。</li>
<li>最大地址: <code>128.14.47.255</code> (广播地址)。</li>
<li><strong>注意</strong>: 主机号全0（网络地址）和全1（广播地址）通常不分配给主机。</li>
</ul>
</li>
</ul>
<h4 id="IP地址与物理地址"><a href="#IP地址与物理地址" class="headerlink" title="IP地址与物理地址"></a><strong>IP地址与物理地址</strong></h4><ul>
<li><strong>物理地址 (Hardware Address) &#x2F; MAC地址</strong>: 数据链路层使用的地址，固化在网卡中，用于局域网内部通信。</li>
<li><strong>关系</strong>:<ul>
<li>网络层及以上使用 <strong>IP地址</strong>。</li>
<li>数据链路层使用 <strong>物理地址 (MAC地址)</strong>。</li>
<li>一个IP数据报在传输过程中，其源IP地址和目的IP地址<strong>始终不变</strong>。</li>
<li>但IP数据报每经过一个网络（如一个局域网），都需要被封装在<strong>MAC帧</strong>中，其源MAC地址和目的MAC地址在每一跳<strong>都会改变</strong>。</li>
</ul>
</li>
</ul>
<h5 id="地址解析协议-ARP-Address-Resolution-Protocol"><a href="#地址解析协议-ARP-Address-Resolution-Protocol" class="headerlink" title="地址解析协议 ARP (Address Resolution Protocol)"></a><strong>地址解析协议 ARP (Address Resolution Protocol)</strong></h5><ul>
<li><strong>功能</strong>: 在<strong>同一个局域网</strong>内，根据已知的IP地址，解析出对应的物理地址（MAC地址）。</li>
<li><strong>ARP表 (ARP Cache)</strong>: 每个主机或路由器都维护一个高速缓存，存储本局域网上IP地址到物理地址的映射。</li>
<li><strong>工作流程</strong>:<ol>
<li><strong>检查缓存</strong>: 主机A要向主机B发送数据，首先检查自己的ARP表中是否有B的IP地址对应的MAC地址。</li>
<li><strong>发送ARP请求</strong>: 如果缓存中没有，主机A就在本局域网内<strong>广播</strong>一个<strong>ARP请求</strong>分组，内容为：“我的IP是…，MAC是…，谁的IP是…？请告诉我你的MAC地址。”</li>
<li><strong>接收与响应</strong>: 局域网内所有主机都收到该请求，但只有IP地址匹配的主机B会做出响应。同时，其他主机（包括B）可以将A的IP与MAC映射关系存入自己的ARP表。</li>
<li><strong>发送ARP响应</strong>: 主机B向主机A<strong>单播</strong>一个<strong>ARP响应</strong>分组，内容为：“我的IP是…，我的MAC地址是…”。</li>
<li><strong>更新缓存</strong>: 主机A收到响应后，将B的IP与MAC映射关系存入自己的ARP表，然后就可以封装MAC帧进行通信了。</li>
</ol>
</li>
<li><strong>要点</strong>:<ul>
<li><strong>ARP</strong>仅用于解决<strong>同一局域网</strong>内的地址解析问题。</li>
<li>若目的主机不在同一局域网，源主机会使用ARP解析出**默认网关（路由器）**的MAC地址，并将数据包发给网关。</li>
</ul>
</li>
</ul>
<h4 id="IP-数据报的格式"><a href="#IP-数据报的格式" class="headerlink" title="IP 数据报的格式"></a><strong>IP 数据报的格式</strong></h4><ul>
<li><p>一个<strong>IP数据报</strong>由<strong>首部</strong>和<strong>数据</strong>两部分组成。首部包含一个<strong>20字节的固定部分</strong>和一个可选的可变部分。</p>
</li>
<li><p><strong>首部固定部分字段详解</strong>:</p>
<ul>
<li><strong>版本 (Version)</strong>: 4位，指IP协议版本，IPv4为4。</li>
<li><strong>首部长度 (Header Length)</strong>: 4位，单位是4字节。最小值为5 (20字节)，最大值为15 (60字节)。</li>
<li><strong>总长度 (Total Length)</strong>: 16位，指首部和数据的总长度，单位是字节。最大长度为65535字节。</li>
<li><strong>标识 (Identification)</strong>, <strong>标志 (Flags)</strong>, <strong>片偏移 (Fragment Offset)</strong>: 这三个字段用于<strong>IP数据报分片</strong>。<ul>
<li>当数据报长度超过链路的<strong>最大传送单元 (MTU)</strong> 时需要分片。</li>
<li><strong>标识</strong>: 唯一标识一个数据报，同一数据报的所有分片具有相同的标识。</li>
<li><strong>标志 (3位)</strong>:<ul>
<li><strong>MF (More Fragment)</strong>: <code>MF=1</code>表示后面还有分片，<code>MF=0</code>表示这是最后一个分片。</li>
<li><strong>DF (Don’t Fragment)</strong>: <code>DF=1</code>表示禁止分片。</li>
</ul>
</li>
<li><strong>片偏移</strong>: 13位，指出该分片在原始数据报中的相对位置，以8字节为单位。</li>
</ul>
</li>
<li><strong>生存时间 (Time To Live, TTL)</strong>: 8位，数据报在网络中可通过的路由器数的最大值。每经过一个路由器，TTL减1，若减为0，则丢弃该数据报（防止无限循环）。</li>
<li><strong>协议 (Protocol)</strong>: 8位，指出此数据报携带的数据部分使用了何种协议（如TCP&#x3D;6, UDP&#x3D;17, ICMP&#x3D;1），以便目的主机的IP层将数据上交。</li>
<li><strong>首部检验和 (Header Checksum)</strong>: 16位，<strong>只检验首部</strong>，不检验数据部分。每经过一个路由器都要重新计算。</li>
<li><strong>源地址 (Source Address)</strong>: 32位。</li>
<li><strong>目的地址 (Destination Address)</strong>: 32位。</li>
</ul>
</li>
</ul>
<h4 id="IP数据报的转发"><a href="#IP数据报的转发" class="headerlink" title="IP数据报的转发"></a><strong>IP数据报的转发</strong></h4><ul>
<li><strong>转发算法</strong>:<ol>
<li><strong>提取目的IP</strong>: 从收到的IP数据报首部提取目的主机的IP地址 D。</li>
<li><strong>判断是否直连</strong>: 判断D是否在本路由器直连的某个网络上。如果是，则直接交付给目的主机（通常需要ARP解析MAC地址）。</li>
<li><strong>查找路由表</strong>: 如果不是直连，则查找路由表。<ul>
<li>路由器将D与路由表中每条路由的子网掩码进行<strong>按位与</strong>运算。</li>
<li>将结果与该路由的<strong>目的网络地址</strong>进行比较。</li>
<li>如果匹配，则将数据报从该路由指定的**下一跳 (Next Hop)**地址或接口转发出去。</li>
</ul>
</li>
<li><strong>默认路由</strong>: 如果在路由表中找不到匹配的特定路由，则使用**默认路由 (Default Route)**进行转发。</li>
<li><strong>丢弃与报告</strong>: 如果没有匹配的路由且没有默认路由，则丢弃该数据报，并向源主机发送一个<strong>ICMP</strong>“目的网络不可达”差错报文。</li>
</ol>
</li>
</ul>
<h4 id="互联网控制报文协议-ICMP-Internet-Control-Message-Protocol"><a href="#互联网控制报文协议-ICMP-Internet-Control-Message-Protocol" class="headerlink" title="互联网控制报文协议 ICMP (Internet Control Message Protocol)"></a><strong>互联网控制报文协议 ICMP (Internet Control Message Protocol)</strong></h4><ul>
<li><strong>功能</strong>: 允许主机或路由器报告差错情况和提供有关异常情况的报告。它弥补了IP协议“尽最大努力交付”服务的不足。</li>
<li><strong>地位</strong>: <strong>ICMP</strong>是<strong>IP层</strong>的协议，其报文作为IP数据报的数据部分进行传输。</li>
<li><strong>报文类型</strong>:<ul>
<li><strong>ICMP差错报告报文</strong>:<ul>
<li><strong>终点不可达</strong>: 当路由器或主机不能交付数据报时。</li>
<li><strong>源点抑制</strong>: 当路由器或主机因拥塞而丢弃数据报时（已废弃）。</li>
<li><strong>TTL超时</strong>: 当TTL减为0时。</li>
<li><strong>参数问题</strong>: 当首部字段值不正确时。</li>
<li><strong>路由重定向</strong>: 让主机知道到某个目的网络有更好的第一跳路由器。</li>
</ul>
</li>
<li><strong>ICMP询问报文</strong>:<ul>
<li><strong>回送请求和回送应答</strong>: 用于测试目的主机是否可达（<strong>PING</strong>命令）。</li>
<li><strong>时间戳请求和时间戳应答</strong>: 用于时钟同步和测量时间。</li>
</ul>
</li>
</ul>
</li>
<li><strong>应用</strong>:<ul>
<li><strong>PING</strong>: 使用ICMP<strong>回送请求&#x2F;应答报文</strong>，测试主机间的连通性。</li>
<li><strong>Traceroute (tracert)</strong>: 利用ICMP<strong>TTL超时</strong>报文和<strong>终点不可达</strong>报文，探测分组从源到终点的路径。</li>
</ul>
</li>
</ul>
<h4 id="路由选择协议概述"><a href="#路由选择协议概述" class="headerlink" title="路由选择协议概述"></a><strong>路由选择协议概述</strong></h4><table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left">静态路由选择策略 (非自适应)</th>
<th align="left">动态路由选择策略 (自适应)</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>特点</strong></td>
<td align="left">简单，开销小</td>
<td align="left">复杂，开销大</td>
</tr>
<tr>
<td align="left"><strong>适应性</strong></td>
<td align="left">不能及时适应网络状态的变化</td>
<td align="left">能较好地适应网络状态的变化</td>
</tr>
<tr>
<td align="left"><strong>适用场景</strong></td>
<td align="left">小型、拓扑稳定的网络</td>
<td align="left">大中型、拓扑可能变化的网络</td>
</tr>
</tbody></table>
<ul>
<li><strong>自治系统 AS (Autonomous System)</strong>: 在单一技术管理下的一组路由器，使用一种内部路由协议和共同的度量来决定AS内的路由。</li>
<li><strong>两大类路由协议</strong>:<ul>
<li><strong>内部网关协议 IGP (Interior Gateway Protocol)</strong>: 在一个<strong>AS内部</strong>使用的路由协议。例如：<strong>RIP</strong>, <strong>OSPF</strong>。</li>
<li><strong>外部网关协议 EGP (External Gateway Protocol)</strong>: 在<strong>不同AS之间</strong>传递路由信息的协议。例如：<strong>BGP</strong>。</li>
</ul>
</li>
</ul>
<h4 id="路由信息协议-RIP-Routing-Information-Protocol"><a href="#路由信息协议-RIP-Routing-Information-Protocol" class="headerlink" title="路由信息协议 RIP (Routing Information Protocol)"></a><strong>路由信息协议 RIP (Routing Information Protocol)</strong></h4><ul>
<li><strong>类型</strong>: <strong>IGP</strong>，基于**距离向量 (Distance Vector)**算法。</li>
<li><strong>核心思想</strong>: 每个路由器维护一张路由表，记录自己到AS内所有其他网络的“距离”和下一跳路由器。</li>
<li><strong>距离度量</strong>: <strong>跳数 (Hop Count)</strong>。直连网络距离为1，每经过一个路由器跳数加1。</li>
<li><strong>特点</strong>:<ul>
<li>最大跳数为15，<strong>16表示不可达</strong>，因此只适用于小型网络。</li>
<li>仅和<strong>相邻路由器</strong>交换信息。</li>
<li>交换的信息是<strong>完整的路由表</strong>。</li>
<li>按<strong>固定时间间隔</strong>（如30秒）交换路由信息。</li>
</ul>
</li>
<li><strong>距离向量算法</strong>:<ol>
<li>收到邻居X发来的路由更新报文。</li>
<li>对报文中每个条目（目的网络N，距离d），将下一跳改为X，距离改为d+1。</li>
<li>对于更新后的每个条目，与自己路由表中的现有条目比较：<ul>
<li>如果原表中没有N，则添加该新路由。</li>
<li>如果原表中有N，且下一跳也是X，则用新路由替换旧路由。</li>
<li>如果原表中有N，但下一跳不是X，比较距离，如果新路由距离更短，则更新。</li>
</ul>
</li>
</ol>
</li>
<li><strong>缺点</strong>: <strong>坏消息传得慢</strong> (慢收敛问题)，当网络出现故障时，可能出现路由环路和“计数到无穷”问题。</li>
</ul>
<h4 id="开放最短路径优先-OSPF-Open-Shortest-Path-First"><a href="#开放最短路径优先-OSPF-Open-Shortest-Path-First" class="headerlink" title="开放最短路径优先 OSPF (Open Shortest Path First)"></a><strong>开放最短路径优先 OSPF (Open Shortest Path First)</strong></h4><ul>
<li><strong>类型</strong>: <strong>IGP</strong>，基于**链路状态 (Link State)**算法。</li>
<li><strong>核心思想</strong>: 每个路由器都了解整个网络的拓扑结构，然后使用<strong>Dijkstra算法</strong>计算出到所有其他网络的最短路径。</li>
<li><strong>链路状态算法工作流程</strong>:<ol>
<li>每个路由器主动发现其相邻路由器，并测量到邻居的链路代价（如时延、带宽）。</li>
<li>将这些信息（我与谁相邻，链路代价是多少）打包成<strong>链路状态通告 (LSA)</strong>。</li>
<li>通过**洪泛法 (Flooding)**向AS内的所有其他路由器广播自己的LSA。</li>
<li>每个路由器都收集所有其他路由器发来的LSA，构建一个<strong>链路状态数据库 (LSDB)</strong>，即完整的网络拓扑图。</li>
<li>以自己为根节点，使用<strong>Dijkstra算法</strong>计算出到所有目的网络的最短路径树，生成路由表。</li>
</ol>
</li>
<li><strong>特点</strong>:<ul>
<li>收敛速度快，无路由环路问题。</li>
<li>支持<strong>可变长度子网掩码 (VLSM)</strong> 和 <strong>CIDR</strong>。</li>
<li>使用<strong>IP数据报</strong>直接传输OSPF分组，并提供可靠传输。</li>
<li>支持**层次化区域 (Area)**划分，将AS划分为多个区域，LSA的洪泛被限制在区域内，减小了开销，适用于大规模网络。</li>
</ul>
</li>
</ul>
<h4 id="边界网关协议-BGP-Border-Gateway-Protocol"><a href="#边界网关协议-BGP-Border-Gateway-Protocol" class="headerlink" title="边界网关协议 BGP (Border Gateway Protocol)"></a><strong>边界网关协议 BGP (Border Gateway Protocol)</strong></h4><ul>
<li><strong>类型</strong>: <strong>EGP</strong>，是当前互联网AS之间唯一的路由协议。</li>
<li><strong>核心思想</strong>: 力求寻找一条能够到达目的网络且符合策略（如不经过某个AS）、AS跳数较少的路径，而非寻找最佳物理路径。</li>
<li><strong>协议基础</strong>: BGP在两个<strong>BGP发言人 (BGP speaker)<strong>之间通过</strong>TCP连接</strong>交换路由信息，保证了可靠性。</li>
<li><strong>算法</strong>: **路径向量 (Path Vector)**算法。<ul>
<li>BGP在通告可达性信息时，会附带上到达该网络所经过的<strong>AS路径序列</strong>。</li>
<li>例如，AS1向AS2通告：“要到达网络X，可以经过路径(AS1)”。AS2收到后，若要向AS3通告，则会说：“要到达网络X，可以经过路径(AS2, AS1)”。</li>
<li>通过检查路径序列，可以非常容易地<strong>检测和避免路由环路</strong>（如果收到的路径中包含自己的AS号，则丢弃）。</li>
</ul>
</li>
<li><strong>会话类型</strong>:<ul>
<li><strong>eBGP</strong>: 不同AS的BGP发言人之间的会话。</li>
<li><strong>iBGP</strong>: 同一AS内部的BGP发言人之间的会话。</li>
</ul>
</li>
</ul>
<h4 id="路由器的工作原理"><a href="#路由器的工作原理" class="headerlink" title="路由器的工作原理"></a><strong>路由器的工作原理</strong></h4><table>
<thead>
<tr>
<th align="left">对比方面</th>
<th align="left">路由器 (Router)</th>
<th align="left">(二层)交换机 (Switch)</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>工作层次</strong></td>
<td align="left"><strong>网络层</strong></td>
<td align="left"><strong>数据链路层</strong></td>
</tr>
<tr>
<td align="left"><strong>转发依据</strong></td>
<td align="left"><strong>IP地址</strong> (逻辑地址)</td>
<td align="left"><strong>MAC地址</strong> (物理地址)</td>
</tr>
<tr>
<td align="left"><strong>核心功能</strong></td>
<td align="left"><strong>路由选择</strong>和<strong>分组转发</strong></td>
<td align="left"><strong>过滤</strong>和<strong>转发</strong>MAC帧</td>
</tr>
<tr>
<td align="left"><strong>连接对象</strong></td>
<td align="left">连接不同的IP子网或异构网络</td>
<td align="left">连接同一局域网内的设备</td>
</tr>
<tr>
<td align="left"><strong>广播域</strong></td>
<td align="left"><strong>隔离广播域</strong> (每个接口是一个广播域)</td>
<td align="left"><strong>不隔离广播域</strong> (所有端口在一个广播域)</td>
</tr>
<tr>
<td align="left"><strong>配置</strong></td>
<td align="left">需要配置IP地址等，不是即插即用</td>
<td align="left">即插即用</td>
</tr>
<tr>
<td align="left"><strong>速度</strong></td>
<td align="left">传统上处理速度较慢（需要解析IP首部）</td>
<td align="left">转发速度快（硬件实现）</td>
</tr>
</tbody></table>
<ul>
<li><strong>三层交换机</strong>: 是一种特殊的路由器，它在硬件层面实现了IP数据报的高速转发，逻辑上等同于一个路由器+一个二层交换机，通常用于VLAN间路由或局域网核心。</li>
</ul>
<h4 id="虚拟专用网-VPN-Virtual-Private-Network"><a href="#虚拟专用网-VPN-Virtual-Private-Network" class="headerlink" title="虚拟专用网 VPN (Virtual Private Network)"></a><strong>虚拟专用网 VPN (Virtual Private Network)</strong></h4><ul>
<li><strong>定义</strong>: 利用公用的因特网作为本机构各专用网之间的通信载体，在逻辑上构成的专用网络。</li>
<li><strong>专用地址</strong>: <strong>RFC 1918</strong>规定了三块仅用于机构内部的私有IP地址段，路由器不转发目的地址为这些地址的数据报。<ul>
<li><code>10.0.0.0</code> - <code>10.255.255.255</code> (10&#x2F;8)</li>
<li><code>172.16.0.0</code> - <code>172.31.255.255</code> (172.16&#x2F;12)</li>
<li><code>192.168.0.0</code> - <code>192.168.255.255</code> (192.168&#x2F;16)</li>
</ul>
</li>
<li><strong>实现技术</strong>: <strong>IP隧道技术 (IP Tunneling)</strong><ul>
<li><strong>原理</strong>: 将一个使用私有地址的IP数据报（内部数据报）作为数据部分，封装到另一个使用全球IP地址的IP数据报（外部数据报）中。</li>
<li><strong>过程</strong>: 部门A的路由器R1收到一个发往部门B的内部数据报，将其封装成一个新的IP数据报，源地址为R1的公网IP，目的地址为部门B路由器R2的公网IP。数据报在公网上像普通数据报一样传输。R2收到后，解封装，取出内部数据报并转发给最终目的主机。</li>
</ul>
</li>
<li><strong>安全性</strong>: 为保证数据机密性，通常在封装前对原始IP数据报进行<strong>加密</strong>处理。</li>
</ul>
<h4 id="网络地址转换-NAT-Network-Address-Translation"><a href="#网络地址转换-NAT-Network-Address-Translation" class="headerlink" title="网络地址转换 NAT (Network Address Translation)"></a><strong>网络地址转换 NAT (Network Address Translation)</strong></h4><ul>
<li><strong>目的</strong>: 极大地缓解IPv4地址耗尽问题。</li>
<li><strong>原理</strong>: 允许在一个专用网络内部使用私有地址，当内部主机要与外部互联网通信时，在<strong>NAT路由器</strong>上将其私有IP地址转换为一个或多个全球IP地址。</li>
<li><strong>网络地址与端口号转换 NAPT (Network Address and Port Translation)</strong>:<ul>
<li>是NAT最常见的实现方式，也常被直接称为NAT。</li>
<li>在进行地址转换时，不仅转换IP地址，还转换TCP&#x2F;UDP的<strong>端口号</strong>。</li>
<li><strong>NAT路由器</strong>维护一张<strong>转换表</strong>，记录 <code>(私有IP, 私有端口)</code> 到 <code>(公有IP, 公有端口)</code> 的映射。</li>
<li>这样，多个内部主机可以共享<strong>同一个</strong>全球IP地址，通过不同的端口号来区分。</li>
</ul>
</li>
<li><strong>优点</strong>: 节省IP地址，易于管理，隐藏内部网络结构，增强安全性。</li>
<li><strong>缺点</strong>: 破坏了端到端的通信模型，外部主机无法主动发起对内部主机的连接，对某些P2P应用造成困难。</li>
</ul>
<h4 id="IP-多播-IP-Multicast"><a href="#IP-多播-IP-Multicast" class="headerlink" title="IP 多播 (IP Multicast)"></a><strong>IP 多播 (IP Multicast)</strong></h4><ul>
<li><strong>定义</strong>: 在IP层实现的一对多通信。一个源主机可以向一个<strong>多播组</strong>发送IP数据报，所有加入该组的主机都能收到。</li>
<li><strong>多播地址</strong>: 使用D类IP地址范围 <code>224.0.0.0</code> 到 <code>239.255.255.255</code>。</li>
<li><strong>所需协议</strong>:<ul>
<li><strong>互联网组管理协议 IGMP (Internet Group Management Protocol)</strong>:<ul>
<li><strong>功能</strong>: 让本地局域网上的多播路由器知道，本局域网上是否有主机加入了某个多播组。</li>
<li><strong>工作范围</strong>: 仅在本地局域网内部。主机通过IGMP向本地路由器报告自己要加入或离开某个多播组。</li>
</ul>
</li>
<li><strong>多播路由选择协议</strong>:<ul>
<li><strong>功能</strong>: 在多播路由器之间，为每个多播组构建一棵<strong>多播转发树</strong>，以高效地将多播数据报分发到所有有组成员的网络。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="移动-IP"><a href="#移动-IP" class="headerlink" title="移动 IP"></a><strong>移动 IP</strong></h4><ul>
<li><strong>目标</strong>: 允许移动设备在不同网络间漫游时，保持其IP地址不变，从而保证上层应用连接的连续性。</li>
<li><strong>关键术语</strong>:<ul>
<li><strong>移动主机</strong>: 具有漫游能力的主机。</li>
<li><strong>归属网络</strong>: 移动主机的“永久居所”网络。</li>
<li><strong>归属地址 (永久地址)</strong>: 移动主机在归属网络中分配的固定IP地址。</li>
<li><strong>归属代理</strong>: 位于归属网络中，负责截获发往移动主机的分组，并通过隧道转发给移动主机的路由器。</li>
<li><strong>外地网络 (被访网络)</strong>: 移动主机当前漫游所在的网络。</li>
<li><strong>外地代理</strong>: 位于外地网络中，为移动主机提供服务的路由器。</li>
<li><strong>转交地址</strong>: 外地代理为移动主机在外地网络中分配的临时IP地址。</li>
</ul>
</li>
<li><strong>工作流程 (间接路由)</strong>:<ol>
<li>通信主机B向移动主机A的<strong>归属地址</strong>发送数据报。</li>
<li>该数据报被路由到A的<strong>归属网络</strong>，并被<strong>归属代理</strong>截获。</li>
<li>归属代理将该数据报封装（<strong>IP隧道</strong>）在一个新的IP数据报中，目的地址为A的<strong>转交地址</strong>，然后发送出去。</li>
<li>数据报被路由到A所在的<strong>外地网络</strong>，由<strong>外地代理</strong>接收。</li>
<li>外地代理解封装，取出原始数据报，并将其交付给移动主机A。</li>
</ol>
</li>
</ul>
<h4 id="下一代网际协议-IPv6"><a href="#下一代网际协议-IPv6" class="headerlink" title="下一代网际协议 IPv6"></a><strong>下一代网际协议 IPv6</strong></h4><ul>
<li><p><strong>主要特点</strong>:</p>
<ul>
<li><strong>巨大的地址空间</strong>: 地址从32位增加到<strong>128位</strong>。</li>
<li><strong>灵活的首部格式</strong>: 采用固定的40字节<strong>基本首部</strong>和可选的多个<strong>扩展首部</strong>，提高了路由器处理效率。</li>
<li><strong>支持即插即用</strong>: 支持<strong>无状态地址自动配置</strong>，主机可以自动配置IP地址。</li>
<li><strong>更好的QoS支持</strong>: 增加了<strong>流量类型</strong>和<strong>流标号</strong>字段。</li>
<li><strong>内置的安全性</strong>: 通过扩展首部原生支持<strong>IPsec</strong>。</li>
</ul>
</li>
<li><p><strong>IPv6地址表示</strong>:</p>
<ul>
<li><strong>冒号十六进制记法</strong>: 8组16位的十六进制数，用冒号分隔（如 <code>68E6:8C64:000F:...</code>）。</li>
<li><strong>零压缩</strong>: 一连串连续的0可以用一对冒号 <code>::</code> 代替，但每个地址中只能使用一次。</li>
</ul>
</li>
<li><p><strong>IPv6地址类型</strong>:</p>
<ul>
<li><strong>单播 (Unicast)</strong>: 标识一个唯一的接口。</li>
<li><strong>多播 (Multicast)</strong>: 标识一组接口。</li>
<li><strong>任播 (Anycast)</strong>: 标识一组接口，但数据报只会被发送给其中“最近”的一个。</li>
</ul>
</li>
<li><p><strong>ICMPv6</strong>:</p>
<ul>
<li>是IPv6的配套协议。</li>
<li>整合了IPv4中<strong>ARP</strong>和<strong>IGMP</strong>的功能。</li>
<li><strong>邻居发现 (Neighbor Discovery)</strong>: 使用<strong>邻居请求&#x2F;通告</strong>报文（多播）来完成地址解析，取代了ARP的广播。</li>
<li><strong>无状态地址自动配置 (SLAAC)</strong>: 主机通过<strong>路由器请求&#x2F;通告</strong>报文获取网络前缀，并结合自己的接口标识符（通常由MAC地址生成）自动生成全球单播地址。</li>
</ul>
</li>
<li><p><strong>从IPv4向IPv6过渡的技术</strong>:</p>
<ul>
<li><strong>双协议栈 (Dual Stack)</strong>: 主机或路由器同时运行IPv4和IPv6两个协议栈，可以处理两种协议的分组。</li>
<li><strong>隧道技术 (Tunneling)</strong>: 将IPv6分组作为数据，封装在IPv4数据报中，以便在IPv4网络中传输。</li>
</ul>
</li>
</ul>
<h4 id="软件定义网络-SDN-Software-Defined-Network"><a href="#软件定义网络-SDN-Software-Defined-Network" class="headerlink" title="软件定义网络 SDN (Software Defined Network)"></a><strong>软件定义网络 SDN (Software Defined Network)</strong></h4><ul>
<li><strong>核心思想</strong>: <strong>控制平面与数据平面的分离</strong>。<ul>
<li><strong>数据平面</strong>: 由简单的<strong>分组交换机</strong>组成，负责根据**流表 (Flow Table)**进行“匹配+动作”的通用转发。</li>
<li><strong>控制平面</strong>: 逻辑上集中在一个**SDN控制器 (网络操作系统)**上，控制器拥有全局网络视野，通过编程方式计算和下发转发表项给交换机。</li>
</ul>
</li>
<li><strong>SDN体系结构</strong>:<ul>
<li><strong>网络控制应用程序</strong>: 实现路由选择、负载均衡、访问控制等具体网络功能的上层应用。</li>
<li><strong>SDN控制器</strong>: 系统的核心，通过**北向接口 (Northbound Interface)<strong>为上层应用提供网络抽象和编程接口，通过</strong>南向接口 (Southbound Interface)**控制底层交换机。</li>
<li><strong>SDN交换机</strong>: 数据平面的执行者。</li>
</ul>
</li>
<li><strong>南向接口协议</strong>: <strong>OpenFlow</strong>是目前最主流的南向接口协议，定义了控制器与交换机之间的通信方式以及流表的格式。</li>
<li><strong>三大特征</strong>:<ol>
<li><strong>控制与转发分离</strong>: 硬件（数据平面）和软件（控制平面）解耦。</li>
<li><strong>网络开放可编程</strong>: 通过开放的北向接口，用户可以像开发软件一样开发网络功能。</li>
<li><strong>逻辑上的集中控制</strong>: 控制器拥有全局视图，可以进行全局优化和快速故障响应。</li>
</ol>
</li>
</ul>
<h3 id="计算机网络核心备考笔记：第5章-运输层"><a href="#计算机网络核心备考笔记：第5章-运输层" class="headerlink" title="计算机网络核心备考笔记：第5章 运输层"></a><strong>计算机网络核心备考笔记：第5章 运输层</strong></h3><h4 id="运输层协议概述"><a href="#运输层协议概述" class="headerlink" title="运输层协议概述"></a><strong>运输层协议概述</strong></h4><ul>
<li><p><strong>运输层协议的位置</strong></p>
<ul>
<li><strong>层次定位</strong>：从通信和信息处理角度看，运输层是 <strong>面向通信部分的最高层</strong>，同时也是 <strong>用户功能中的最低层</strong>。</li>
<li>它位于 <strong>应用层</strong> 之下，<strong>网络层</strong> 之上。</li>
</ul>
</li>
<li><p><strong>运输层为相互通信的应用进程提供了逻辑通信</strong></p>
<ul>
<li><strong>核心功能</strong>：为不同主机上的 <strong>应用进程</strong> 之间提供 <strong>逻辑通信 (Logical Communication)</strong>。</li>
<li><strong>“逻辑通信”</strong>：指运输层之间的通信看似是水平方向直接传送数据，但实际上并无物理连接，而是通过下层（网络层、数据链路层、物理层）服务实现的。</li>
<li><strong>通信实体</strong>：运输层的通信实体是端系统中的 <strong>应用进程</strong>。</li>
<li><strong>端到端的通信</strong>：应用进程之间的通信也称为 <strong>端到端通信</strong>。</li>
<li><strong>重要功能：复用与分用</strong><ul>
<li><strong>复用 (Multiplexing)</strong>：在发送方，多个不同的应用进程可使用同一个运输层协议（如TCP或UDP）将数据封装后，通过一个网络层协议（如IP）发送出去。</li>
<li><strong>分用 (Demultiplexing)</strong>：在接收方，运输层能根据首部信息（如端口号）将接收到的数据正确交付给目的主机上相应的应用进程。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>客户-服务器通信模式</strong></p>
<ul>
<li><strong>定义</strong>：一种网络通信模型，其中一个进程主动发起通信，另一个进程被动等待通信请求。</li>
<li><strong>客户 (Client)</strong>：主动发起通信的应用进程。</li>
<li><strong>服务器 (Server)</strong>：被动等待并接受通信请求的应用进程。</li>
</ul>
</li>
<li><p><strong>互联网的运输层协议</strong></p>
<ul>
<li><strong>主要协议</strong>：互联网的运输层包含两个核心协议：<ul>
<li><strong>用户数据报协议 UDP (User Datagram Protocol)</strong></li>
<li><strong>传输控制协议 TCP (Transmission Control Protocol)</strong></li>
</ul>
</li>
<li><strong>运输协议数据单元 (TPDU - Transport Protocol Data Unit)</strong>：<ul>
<li><strong>TCP</strong> 传送的TPDU称为 <strong>TCP报文段 (Segment)</strong>。</li>
<li><strong>UDP</strong> 传送的TPDU称为 <strong>UDP用户数据报 (User Datagram)</strong>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>TCP 与 UDP 对比</strong></p>
<ul>
<li>这是一个极其重要的考点，必须熟练掌握。</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">特性</th>
<th align="left"><strong>用户数据报协议 (UDP)</strong></th>
<th align="left"><strong>传输控制协议 (TCP)</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>连接性</strong></td>
<td align="left"><strong>无连接 (Connectionless)</strong></td>
<td align="left"><strong>面向连接 (Connection-Oriented)</strong></td>
</tr>
<tr>
<td align="left"><strong>可靠性</strong></td>
<td align="left"><strong>不可靠传输</strong>，提供“尽最大努力”交付服务</td>
<td align="left"><strong>可靠传输</strong>，确保数据无差错、不丢失、不重复、按序到达</td>
</tr>
<tr>
<td align="left"><strong>传输模式</strong></td>
<td align="left">支持<strong>单播、多播、广播</strong></td>
<td align="left">仅支持<strong>点对点单播</strong></td>
</tr>
<tr>
<td align="left"><strong>拥塞控制</strong></td>
<td align="left"><strong>不提供</strong></td>
<td align="left"><strong>提供</strong></td>
</tr>
<tr>
<td align="left"><strong>流量控制</strong></td>
<td align="left"><strong>不提供</strong></td>
<td align="left"><strong>提供</strong> (通过滑动窗口)</td>
</tr>
<tr>
<td align="left"><strong>首部开销</strong></td>
<td align="left"><strong>小</strong> (固定的8字节)</td>
<td align="left"><strong>大</strong> (固定的20字节 + 可选字段)</td>
</tr>
<tr>
<td align="left"><strong>协议复杂度</strong></td>
<td align="left"><strong>简单</strong></td>
<td align="left"><strong>复杂</strong></td>
</tr>
<tr>
<td align="left"><strong>适用场景</strong></td>
<td align="left">实时应用（IP电话、视频会议）、DNS、SNMP等对实时性要求高、允许少量丢包的应用</td>
<td align="left">要求高可靠性的应用（万维网HTTP、电子邮件SMTP、文件传输FTP等）</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>运输层的复用与分用</strong></p>
<ul>
<li><strong>实现机制</strong>：在TCP&#x2F;IP体系中，通过 <strong>软件端口 (Port)</strong> 来实现复用和分用。</li>
<li><strong>端口 (Port)</strong>：是应用层与运输层之间接口的抽象，用于标识主机中的特定应用进程。它使得单个主机能够同时支持多个网络应用。</li>
</ul>
</li>
<li><p><strong>运输层端口的概念</strong></p>
<ul>
<li><strong>作用</strong>：<ol>
<li>应用层进程通过端口将数据向下交付给运输层。</li>
<li>运输层通过端口将接收到的数据向上交付给相应的应用进程。</li>
</ol>
</li>
<li><strong>进程与端口</strong>：需要通信的进程都必须与一个端口关联。</li>
<li><strong>端口号</strong>：用于标识与应用进程关联的端口，相当于应用进程的 <strong>运输层地址</strong>。</li>
</ul>
</li>
<li><p><strong>端口号</strong></p>
<ul>
<li><strong>通信要素</strong>：两台计算机中的进程要通信，必须知道对方的 <strong>IP地址</strong> (定位主机) 和 <strong>端口号</strong> (定位主机中的进程)。</li>
<li><strong>格式</strong>：<strong>TCP</strong> 和 <strong>UDP</strong> 的端口号都是16位整数（0-65535）。</li>
<li><strong>独立性</strong>：端口号只具有本地意义，不同计算机的相同端口号无直接关联。TCP和UDP的端口号空间是相互独立的。</li>
<li><strong>端口号分类</strong>：<ul>
<li><strong>熟知端口号 (Well-known Ports)</strong>：<ul>
<li>范围：0 \x7e 1023</li>
<li>分配：由 <strong>IANA (互联网赋号管理局)</strong> 分配给常用的服务，如HTTP (80), FTP (21), DNS (53)。</li>
</ul>
</li>
<li><strong>登记端口号 (Registered Ports)</strong>：<ul>
<li>范围：1024 \x7e 49151</li>
<li>分配：不被IANA严格控制，但可注册以防重复。</li>
</ul>
</li>
<li><strong>动态端口号 (Dynamic&#x2F;Private Ports)</strong>：<ul>
<li>范围：49152 ~ 65535</li>
<li>分配：客户端进程临时使用的端口号，通信结束后释放。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="用户数据报协议-UDP-User-Datagram-Protocol"><a href="#用户数据报协议-UDP-User-Datagram-Protocol" class="headerlink" title="用户数据报协议 UDP (User Datagram Protocol)"></a><strong>用户数据报协议 UDP (User Datagram Protocol)</strong></h4><ul>
<li><p><strong>UDP 概述</strong></p>
<ul>
<li><strong>定义</strong>：<strong>UDP</strong> 是一个简单的、无连接的运输层协议。</li>
<li><strong>功能</strong>：它在 <strong>IP</strong> 协议的数据报服务之上，仅增加了两个最基本的功能：<ol>
<li><strong>端口功能</strong>：实现复用和分用。</li>
<li><strong>差错检测功能</strong>：通过检验和字段提供有限的差错检测。</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>UDP 的主要特点</strong></p>
<ul>
<li><strong>无连接 (Connectionless)</strong>：发送数据前无需建立连接，减少了开销和时延。</li>
<li><strong>尽最大努力交付 (Best-Effort Delivery)</strong>：不保证可靠交付，不进行流量控制和拥塞控制。</li>
<li><strong>无拥塞控制</strong>：网络拥塞时，源主机的发送速率不会自动降低。这对于速率恒定的实时应用（如视频会议）很重要，但可能加剧网络拥塞。</li>
<li><strong>面向报文 (Message-Oriented)</strong>：<ul>
<li>应用层交给UDP多大的报文，UDP就原封不动地发送。</li>
<li>UDP对上层报文既不合并也不拆分。</li>
<li>应用层程序必须选择大小合适的报文。</li>
</ul>
</li>
<li><strong>支持多种交互通信</strong>：支持一对一、一对多、多对一和多对多的通信。</li>
<li><strong>首部开销小</strong>：首部仅有8个字节，比TCP的20字节小得多。</li>
</ul>
</li>
<li><p><strong>UDP 的问题</strong></p>
<ul>
<li><strong>拥塞风险</strong>：大量使用UDP的高速率应用可能导致网络严重拥塞。</li>
<li><strong>可靠性</strong>：需要可靠传输的应用必须在应用层自行实现相关机制。</li>
</ul>
</li>
<li><p><strong>UDP的多路分用模型</strong></p>
<ul>
<li><strong>定位进程</strong>：UDP使用 <strong>二元组 (目的IP地址, 目的端口号)</strong> 来唯一确定一个接收方的应用进程。</li>
<li><strong>队列机制</strong>：UDP根据报文中的 <strong>目的端口号</strong>，将到达的报文放入相应的端口队列中，等待应用进程读取。</li>
<li><strong>队列溢出</strong>：由于UDP没有流量控制，如果报文到达速率持续高于应用进程处理速率，将导致队列溢出和报文丢失。</li>
<li><strong>队列特点</strong>：同一个目的端口队列中的报文，其源IP和源端口可以不同。</li>
</ul>
</li>
<li><p><strong>UDP 的首部格式</strong></p>
<ul>
<li><strong>结构</strong>：UDP用户数据报由 <strong>首部</strong> 和 <strong>数据</strong> 两部分组成。首部固定为 <strong>8字节</strong>，包含4个字段，每个字段2字节。</li>
<li><strong>字段说明</strong>：<ul>
<li><strong>源端口 (Source Port)</strong>：发送方进程的端口号。可选，不使用时全为0。</li>
<li><strong>目的端口 (Destination Port)</strong>：接收方进程的端口号。</li>
<li><strong>长度 (Length)</strong>：UDP用户数据报的总长度（首部+数据），单位为字节。</li>
<li><strong>检验和 (Checksum)</strong>：用于检测UDP用户数据报在传输中是否出错。可选，不使用时全为0。</li>
</ul>
</li>
<li><strong>伪首部 (Pseudo-header)</strong>：<ul>
<li><strong>作用</strong>：在计算检验和时，临时添加到UDP用户数据报前的12字节信息，仅用于计算，不随数据报向下传送。</li>
<li><strong>组成</strong>：源IP地址（4字节）、目的IP地址（4字节）、0（1字节）、协议号（1字节，UDP为17）、UDP长度（2字节）。</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="TCP-概述"><a href="#TCP-概述" class="headerlink" title="TCP 概述"></a><strong>TCP 概述</strong></h4><ul>
<li><p><strong>TCP 的主要特点</strong></p>
<ul>
<li><strong>定义</strong>：<strong>传输控制协议 (Transmission Control Protocol, TCP)</strong> 是一种面向连接的、可靠的、基于字节流的运输层协议。</li>
<li><strong>面向连接 (Connection-Oriented)</strong>：通信前必须先建立连接，通信结束后释放连接。</li>
<li><strong>点对点通信</strong>：每一条TCP连接只能有两个端点，是一对一的通信。</li>
<li><strong>可靠交付 (Reliable Delivery)</strong>：通过序号、确认、重传等机制，保证数据传输的可靠性。</li>
<li><strong>全双工通信 (Full-Duplex)</strong>：连接双方的应用进程可以在任何时候既发送数据，也接收数据。</li>
<li><strong>面向字节流 (Byte-Stream Oriented)</strong>：<ul>
<li>TCP将应用层交付的数据看作是一个无结构的、连续的字节序列。</li>
<li>TCP不保留应用层报文的边界，它会根据网络状况将字节流分割成大小合适的 <strong>TCP报文段</strong> 进行发送。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>TCP 连接与面向字节流的概念</strong></p>
<ul>
<li><strong>发送缓存与接收缓存</strong>：TCP连接的两端都设有发送缓存和接收缓存，用于临时存放数据。</li>
<li><strong>面向字节流的表现</strong>：<ul>
<li>发送方：应用进程写入的数据块大小与TCP发送的报文段大小没有必然联系。</li>
<li>接收方：接收方的应用进程从接收缓存中读取的数据块大小也与发送方写入的数据块大小无关。</li>
<li><strong>保证</strong>：TCP保证接收方应用进程读取到的字节流与发送方应用进程发出的字节流完全一样、顺序一致。</li>
</ul>
</li>
<li><strong>字节流管道</strong>：TCP连接就像一条连接两端缓存的“字节流管道”。</li>
</ul>
</li>
<li><p><strong>TCP 的连接</strong></p>
<ul>
<li><strong>虚连接</strong>：TCP连接是逻辑上的连接，而非物理连接。网络核心的路由器对此连接无感知。</li>
<li><strong>连接状态</strong>：连接的状态信息（如缓存、变量）仅保存在通信的两个端系统中。</li>
<li><strong>连接的唯一标识</strong>：一条TCP连接由其两端的套接字（Socket）唯一确定。<ul>
<li><strong>TCP 连接 ::&#x3D; {(IP1: port1), (IP2: port2)}</strong></li>
<li>这个 <strong>四元组</strong> 唯一标识了网络中的一条TCP连接。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>UDP与TCP复用的区别</strong></p>
<ul>
<li><strong>UDP</strong>：发往同一 <strong>(目的IP, 目的端口)</strong> 的数据报，无论其源自何处，都会进入同一个端口队列。</li>
<li><strong>TCP</strong>：不同的TCP连接（即使目的IP和目的端口相同）有各自独立的接收缓存。通常一个服务器进程会为每个建立的连接创建一个子进程来处理。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="TCP-报文段的格式"><a href="#TCP-报文段的格式" class="headerlink" title="TCP 报文段的格式"></a><strong>TCP 报文段的格式</strong></h4><ul>
<li><p><strong>概述</strong></p>
<ul>
<li><strong>组成</strong>：TCP报文段由 <strong>首部</strong> 和 <strong>数据</strong> 两部分组成。</li>
<li><strong>首部长度</strong>：固定首部为 <strong>20字节</strong>，后面可以跟最多40字节的选项字段。因此TCP首部最小长度为20字节，最大为60字节。</li>
</ul>
</li>
<li><p><strong>TCP 固定首部字段（20字节）</strong></p>
<ul>
<li><strong>源端口 (Source Port)</strong> 和 <strong>目的端口 (Destination Port)</strong>：各占2字节，用于分用。</li>
<li><strong>序号 (Sequence Number)</strong>：占4字节。在一个TCP连接中传送的字节流中，每一个字节都按序编号。此字段的值是本报文段所发送数据的 <strong>第一个字节的序号</strong>。</li>
<li><strong>确认号 (Acknowledgment Number)</strong>：占4字节。是 <strong>期望收到对方下一个报文段的第一个数据字节的序号</strong>。它表示在此序号之前的所有数据都已正确接收，是一种 <strong>累积确认</strong>。</li>
<li><strong>数据偏移 (Data Offset)</strong>：占4位。指出TCP报文段的数据起始处距离报文段起始处的偏移量，实际上就是 <strong>首部长度</strong>。单位是4字节，所以最大值为 <code>15 * 4 = 60</code> 字节。</li>
<li><strong>保留 (Reserved)</strong>：占6位，目前置为0。</li>
<li><strong>控制位 (Control Bits)</strong>：共6个，非常重要。<ul>
<li><strong>URG (Urgent)</strong>：紧急标志位。URG&#x3D;1时，表示报文段中有紧急数据，应优先传送。</li>
<li><strong>ACK (Acknowledgment)</strong>：确认标志位。ACK&#x3D;1时，<strong>确认号</strong> 字段才有效。连接建立后所有传送的报文段都必须把ACK置1。</li>
<li><strong>PSH (Push)</strong>：推送标志位。PSH&#x3D;1时，接收方TCP应尽快将数据交付给应用进程，不再等待缓存填满。</li>
<li><strong>RST (Reset)</strong>：复位标志位。RST&#x3D;1时，表明TCP连接出现严重差错，必须释放连接，然后重新建立。</li>
<li><strong>SYN (Synchronization)</strong>：同步标志位。SYN&#x3D;1时，表示这是一个连接请求或连接接受报文。</li>
<li><strong>FIN (Final)</strong>：终止标志位。FIN&#x3D;1时，表明发送方数据已发送完毕，并要求释放运输连接。</li>
</ul>
</li>
<li><strong>窗口 (Window)</strong>：占2字节。指的是发送本报文段的一方的 <strong>接收窗口</strong> 大小。用于告知对方自己还能接收多少字节的数据，实现 <strong>流量控制</strong>。单位为字节。</li>
<li><strong>检验和 (Checksum)</strong>：占2字节。检验范围包括首部、数据和伪首部。</li>
<li><strong>紧急指针 (Urgent Pointer)</strong>：占2字节。仅在URG&#x3D;1时有效，指出本报文段中紧急数据的字节数。</li>
</ul>
</li>
<li><p><strong>选项与填充字段</strong></p>
<ul>
<li><strong>选项 (Options)</strong>：长度可变，最长40字节。常用选项包括：<ul>
<li><strong>最大报文段长度 MSS (Maximum Segment Size)</strong>：TCP连接建立时，双方协商的每个报文段所能承载的数据字段的最大长度。</li>
</ul>
</li>
<li><strong>填充 (Padding)</strong>：为了使整个首部长度是4字节的整数倍。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="TCP-的可靠传输"><a href="#TCP-的可靠传输" class="headerlink" title="TCP 的可靠传输"></a><strong>TCP 的可靠传输</strong></h4><ul>
<li><p><strong>基础</strong>：TCP在不可靠的 <strong>IP</strong> 网络服务基础上，通过多种机制实现了可靠的数据传输服务。</p>
</li>
<li><p><strong>核心机制</strong>：<strong>差错检测、序号、确认、超时重传、滑动窗口</strong>。</p>
</li>
<li><p><strong>1. TCP的序号与确认</strong></p>
<ul>
<li><strong>序号 (seq)</strong>：标识报文段中数据部分的第一个字节在整个字节流中的位置。</li>
<li><strong>确认号 (ack)</strong>：期望收到的下一个字节的序号，表示对该序号之前所有字节的 <strong>累积确认</strong>。</li>
<li><strong>延迟确认</strong>：接收方收到数据后，可以不立即发送确认，而是等待一小段时间，如果此时自己也有数据要发给对方，就可以将确认信息 <strong>捎带 (piggyback)</strong> 在数据报文段中，节省开销。</li>
</ul>
</li>
<li><p><strong>2. TCP的滑动窗口</strong></p>
<ul>
<li><strong>目的</strong>：提高传输效率，实现 <strong>流水线式</strong> 的数据传输。</li>
<li><strong>单位</strong>：TCP滑动窗口的大小单位是 <strong>字节</strong>。</li>
<li><strong>发送窗口</strong>：<ul>
<li>位于发送缓存中，表示在未收到对方确认的情况下，发送方最多可以连续发送的数据量。</li>
<li>发送窗口后沿的移动：收到新的确认后，后沿向前移动。</li>
<li>发送窗口前沿的移动：由接收方窗口和网络拥塞状况决定。</li>
</ul>
</li>
<li><strong>接收窗口</strong>：<ul>
<li>位于接收缓存中，表示当前愿意接收的数据量。</li>
<li>接收方只对 <strong>按序到达</strong> 的数据进行确认。</li>
<li>对于未按序到达的数据，通常会暂存于接收缓存中，等待缺失的数据到达后再一起确认并交付上层应用。</li>
<li>收到接收窗口之外的数据，直接丢弃。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>TCP可靠传输基本要点</strong></p>
<ol>
<li>序号与窗口以 <strong>字节</strong> 为单位。</li>
<li>采用 <strong>累积确认</strong> 机制。</li>
<li>可使用 <strong>捎带确认</strong> 提高效率。</li>
<li>对失序数据先缓存，等待按序后再确认。</li>
<li>丢弃窗口外的数据。</li>
</ol>
</li>
</ul>
<hr>
<h4 id="TCP的重传机制"><a href="#TCP的重传机制" class="headerlink" title="TCP的重传机制"></a><strong>TCP的重传机制</strong></h4><ul>
<li><p><strong>1. TCP的超时重传</strong></p>
<ul>
<li><strong>机制</strong>：TCP每发送一个报文段，就启动一个 <strong>超时计时器</strong>。如果在计时器到期前未收到对该报文段的确认，就认为该报文段已丢失或损坏，并进行重传。</li>
<li><strong>关键问题</strong>：<strong>超时重传时间 (RTO)</strong> 应该设置多大？<ul>
<li>太短：可能导致不必要的重传，浪费网络资源。</li>
<li>太长：降低传输效率。</li>
</ul>
</li>
<li><strong>挑战</strong>：互联网中端到端的往返时延 <strong>RTT (Round-Trip Time)</strong> 变化很大。</li>
</ul>
</li>
<li><p><strong>2. RTT的测量与估计</strong></p>
<ul>
<li><strong>方法</strong>：TCP使用 <strong>指数加权移动平均 (EWMA)</strong> 算法来估计RTT。</li>
<li><strong>加权平均往返时间 (RTTS)</strong>：<ul>
<li><code>新的 RTTS = (1 - α) * (旧的 RTTS) + α * (新的 RTT样本)</code></li>
<li><code>α</code> 是平滑因子，推荐值为 0.125。</li>
</ul>
</li>
<li><strong>RTT偏差的加权平均值 (RTTD)</strong>：为了考虑RTT的波动。<ul>
<li><code>新的 RTTD = (1 - β) * (旧的 RTTD) + β * |RTTS - 新的 RTT样本|</code></li>
<li><code>β</code> 推荐值为 0.25。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>3. 超时重传时间 RTO (Retransmission Time-Out)</strong></p>
<ul>
<li><strong>计算公式</strong>：<ul>
<li><code>RTO = RTTS + 4 * RTTD</code></li>
</ul>
</li>
<li>这个公式保证了RTO比平均RTT要大，并且考虑了时延的抖动。</li>
</ul>
</li>
<li><p><strong>4. 重传时的 RTO</strong></p>
<ul>
<li><strong>Karn算法</strong>：当报文段被重传时，不采用其往返时间样本来更新RTTS和RTTD，因为无法判断收到的确认是针对原始报文段还是重传报文段的（即“确认二义性”）。</li>
<li><strong>超时退避</strong>：报文段每重传一次，就将 <strong>RTO</strong> 增大一倍（指数退避）。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="TCP-的选择确认-SACK"><a href="#TCP-的选择确认-SACK" class="headerlink" title="TCP 的选择确认 (SACK)"></a><strong>TCP 的选择确认 (SACK)</strong></h4><ul>
<li><strong>问题</strong>：传统的累积确认机制无法告知发送方哪些失序的数据块已被接收。这可能导致发送方重传一些接收方已经收到但未确认的数据。</li>
<li><strong>选择确认 SACK (Selective ACK)</strong>：<ul>
<li><strong>功能</strong>：允许接收方在确认报文段中，明确告知发送方哪些 <strong>不连续的数据块</strong> 已经被正确接收。</li>
<li><strong>实现</strong>：通过TCP首部中的 <strong>SACK选项字段</strong> 来实现。</li>
<li><strong>工作方式</strong>：<ol>
<li>连接建立时，双方通过选项协商是否支持SACK。</li>
<li>当接收方收到失序数据时，它会发送一个SACK选项，该选项包含了已收到的不连续数据块的边界信息（如 <code>(L1, R1; L2, R2)</code>）。</li>
<li>发送方根据SACK信息，可以精确地只重传那些真正丢失的数据段，避免了不必要的重传。</li>
</ol>
</li>
<li><strong>注意</strong>：SACK是对累积确认的补充，TCP首部中的 <strong>确认号字段</strong> 的意义和功能不变。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="TCP的缓存与流量控制"><a href="#TCP的缓存与流量控制" class="headerlink" title="TCP的缓存与流量控制"></a><strong>TCP的缓存与流量控制</strong></h4><ul>
<li><p><strong>TCP的缓存</strong></p>
<ul>
<li><strong>发送缓存</strong>：临时存放：1) 应用程序已发送但TCP尚未发送的数据；2) TCP已发送但尚未收到确认的数据。</li>
<li><strong>接收缓存</strong>：临时存放：1) 按序到达但尚未被应用程序读取的数据；2) 未按序到达的数据。</li>
</ul>
</li>
<li><p><strong>TCP的流量控制 (Flow Control)</strong></p>
<ul>
<li><strong>目的</strong>：防止发送方发送数据过快，导致接收方缓存溢出。</li>
<li><strong>机制</strong>：利用 <strong>滑动窗口</strong> 机制实现。</li>
</ul>
<ol>
<li><strong>接收方</strong> 在其发送的TCP报文段首部的 <strong>窗口 (Window)</strong> 字段中，通告自己当前的 <strong>接收窗口 (rwnd)</strong> 大小。接收窗口大小等于接收缓存的空余空间。</li>
<li><strong>发送方</strong> 收到后，会调整自己的 <strong>发送窗口</strong>，确保其大小不超过对方通告的接收窗口大小。</li>
</ol>
<ul>
<li><strong>总结</strong>：接收方通过通告自己的接收窗口大小来控制发送方的发送速率。</li>
</ul>
</li>
<li><p><strong>窗口探测报文段 (Window Probe)</strong></p>
<ul>
<li><strong>问题</strong>：如果接收方通告窗口为0，发送方会停止发送数据。若之后接收方窗口变大，但它发送的更新窗口的报文段丢失了，双方就会陷入死锁。</li>
<li><strong>解决方案</strong>：当发送方收到窗口为0的通知后，会启动一个 <strong>持续计时器</strong>。计时器到期后，发送一个只包含1字节数据的 <strong>窗口探测报文段</strong>，强制接收方返回一个包含当前窗口大小的确认，从而打破死锁。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="TCP-的连接管理"><a href="#TCP-的连接管理" class="headerlink" title="TCP 的连接管理"></a><strong>TCP 的连接管理</strong></h4><ul>
<li><p><strong>三个阶段</strong>：TCP是面向连接的，其生命周期包括 <strong>连接建立、数据传送、连接释放</strong> 三个阶段。</p>
</li>
<li><p><strong>1. TCP 连接的建立（三次握手）</strong></p>
<ul>
<li><strong>目的</strong>：同步双方的初始序号，交换窗口大小等参数，为数据传输分配资源。</li>
<li><strong>过程</strong>（假设A为客户端，B为服务器端）：<ol>
<li><strong>第一次握手 (客户端 -&gt; 服务器)</strong>：客户端A发送一个 <strong>连接请求报文段</strong>。<ul>
<li><strong>SYN &#x3D; 1</strong>, <code>seq = x</code> (x是客户端随机选择的初始序号)</li>
<li>A进入 <strong>SYN-SENT</strong> 状态。</li>
</ul>
</li>
<li><strong>第二次握手 (服务器 -&gt; 客户端)</strong>：服务器B收到请求后，如果同意连接，则发送一个 <strong>连接接受报文段</strong>。<ul>
<li><strong>SYN &#x3D; 1</strong>, <strong>ACK &#x3D; 1</strong>, <code>seq = y</code> (y是服务器随机选择的初始序号), <code>ack = x + 1</code> (对A的序号进行确认)</li>
<li>B进入 <strong>SYN-RCVD</strong> 状态。</li>
</ul>
</li>
<li><strong>第三次握手 (客户端 -&gt; 服务器)</strong>：客户端A收到B的确认后，再发送一个 <strong>确认报文段</strong>。<ul>
<li><strong>ACK &#x3D; 1</strong>, <code>seq = x + 1</code>, <code>ack = y + 1</code> (对B的序号进行确认)</li>
<li>此报文段可以携带数据。</li>
<li>A进入 <strong>ESTABLISHED</strong> 状态，B收到后也进入 <strong>ESTABLISHED</strong> 状态，连接建立成功。</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>2. TCP 连接的释放（四次挥手）</strong></p>
<ul>
<li><strong>特点</strong>：TCP连接是全双工的，释放过程需要双方各自关闭自己的发送方向。</li>
<li><strong>过程</strong>（假设A主动释放连接）：<ol>
<li><strong>第一次挥手 (A -&gt; B)</strong>：A的应用进程完成数据发送，向B发送一个 <strong>连接释放报文段</strong>。<ul>
<li><strong>FIN &#x3D; 1</strong>, <code>seq = u</code></li>
<li>A进入 <strong>FIN-WAIT-1</strong> 状态。</li>
</ul>
</li>
<li><strong>第二次挥手 (B -&gt; A)</strong>：B收到FIN后，发送一个 <strong>确认报文段</strong>。<ul>
<li><strong>ACK &#x3D; 1</strong>, <code>ack = u + 1</code></li>
<li>A到B方向的连接关闭，B进入 <strong>CLOSE-WAIT</strong> 状态。此时B仍然可以向A发送数据（半关闭状态）。</li>
<li>A收到确认后，进入 <strong>FIN-WAIT-2</strong> 状态。</li>
</ul>
</li>
<li><strong>第三次挥手 (B -&gt; A)</strong>：B的数据也发送完毕后，向A发送一个 <strong>连接释放报文段</strong>。<ul>
<li><strong>FIN &#x3D; 1</strong>, <strong>ACK &#x3D; 1</strong>, <code>seq = w</code>, <code>ack = u + 1</code></li>
<li>B进入 <strong>LAST-ACK</strong> 状态。</li>
</ul>
</li>
<li><strong>第四次挥手 (A -&gt; B)</strong>：A收到B的FIN后，发送一个 <strong>确认报文段</strong>。<ul>
<li><strong>ACK &#x3D; 1</strong>, <code>ack = w + 1</code></li>
<li>A进入 <strong>TIME-WAIT</strong> 状态，等待 <strong>2MSL (Maximum Segment Lifetime)</strong> 时间后，连接才真正关闭。</li>
<li>B收到A的确认后，立即进入 <strong>CLOSED</strong> 状态。</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="TCP的拥塞控制"><a href="#TCP的拥塞控制" class="headerlink" title="TCP的拥塞控制"></a><strong>TCP的拥塞控制</strong></h4><ul>
<li><p><strong>概念</strong></p>
<ul>
<li><strong>拥塞 (Congestion)</strong>：当网络中注入的数据量超过网络处理能力时，导致网络性能（如吞吐量下降、时延增大）急剧恶化的现象。</li>
<li><strong>拥塞控制 (Congestion Control)</strong>：防止过多的数据注入到网络中，使网络中的路由器或链路不致过载。它是一个全局性的过程。</li>
</ul>
</li>
<li><p><strong>流量控制 vs 拥塞控制</strong></p>
<ul>
<li><strong>流量控制</strong> 是点对点问题，抑制发送方速率以匹配接收方速率。</li>
<li><strong>拥塞控制</strong> 是全局问题，抑制发送方速率以匹配网络处理能力。</li>
</ul>
</li>
<li><p><strong>拥塞控制机制</strong></p>
<ul>
<li><strong>拥塞窗口 (cwnd - Congestion Window)</strong>：发送方维护的一个状态变量，用于动态调整发送速率。</li>
<li><strong>发送窗口上限</strong>：<code>发送窗口上限 = Min(rwnd, cwnd)</code>，同时受流量控制和拥塞控制的限制。</li>
<li><strong>拥塞控制算法（四个核心部分）</strong>：<ol>
<li><p><strong>慢启动 (Slow Start)</strong></p>
<ul>
<li><strong>目的</strong>：连接刚建立时，以较小的速率开始，探测网络可用带宽。</li>
<li><strong>算法</strong>：初始 <code>cwnd = 1 MSS</code>。每收到一个对新报文段的确认，<code>cwnd</code> 就增加 1 MSS。效果是每经过一个RTT，<code>cwnd</code> 就 <strong>翻倍</strong>（指数增长）。</li>
<li><strong>结束</strong>：当 <code>cwnd</code> 达到 <strong>慢启动门限 (ssthresh)</strong> 时，进入拥塞避免阶段。</li>
</ul>
</li>
<li><p><strong>拥塞避免 (Congestion Avoidance)</strong></p>
<ul>
<li><strong>目的</strong>：在探测到接近网络容量时，减缓 <code>cwnd</code> 的增长速度，避免拥塞。</li>
<li><strong>算法</strong>：当 <code>cwnd &gt;= ssthresh</code> 时，每经过一个RTT，<code>cwnd</code> 只 <strong>增加 1 MSS</strong>（线性增长）。</li>
</ul>
</li>
<li><p><strong>拥塞发生时的处理</strong></p>
<ul>
<li><strong>判断拥塞</strong>：TCP通过 <strong>分组丢失</strong> 事件来判断网络拥塞（超时或收到3个重复ACK）。</li>
<li><strong>处理策略 (基于超时)</strong>：<ul>
<li>认为网络发生严重拥塞。</li>
<li><code>ssthresh</code> 设置为当前 <code>cwnd</code> 的一半。</li>
<li><code>cwnd</code> 重置为 <code>1 MSS</code>。</li>
<li>重新执行 <strong>慢启动</strong>。</li>
</ul>
</li>
<li><strong>处理策略 (基于3个重复ACK)</strong>：<ul>
<li><strong>快速重传 (Fast Retransmit)</strong>：发送方在收到3个重复ACK后，不等超时计时器到期，立即重传丢失的报文段。</li>
<li><strong>快速恢复 (Fast Recovery)</strong>：<ul>
<li>认为网络发生轻度拥塞。</li>
<li><code>ssthresh</code> 设置为当前 <code>cwnd</code> 的一半。</li>
<li><code>cwnd</code> 也设置为 <code>ssthresh</code> 的值 (而不是1)。</li>
<li>直接进入 <strong>拥塞避免</strong> 阶段。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>TCP拥塞控制基本要点总结</strong></p>
<ol>
<li>通过 <strong>拥塞窗口 (cwnd)</strong> 控制发送速率。</li>
<li>初始执行 <strong>慢启动</strong>，<code>cwnd</code> 指数增长。</li>
<li>达到 <strong>慢启动门限 (ssthresh)</strong> 后，执行 <strong>拥塞避免</strong>，<code>cwnd</code> 线性增长。</li>
<li>发生 <strong>超时</strong>，<code>ssthresh</code> 减半，<code>cwnd</code> 归1，重新慢启动（严重拥塞）。</li>
<li>收到 <strong>3个重复ACK</strong>，执行 <strong>快速重传</strong> 和 <strong>快速恢复</strong>，<code>ssthresh</code> 和 <code>cwnd</code> 均减半，直接进入拥塞避免（轻度拥塞）。</li>
</ol>
</li>
</ul>
<h3 id="计算机网络核心备考笔记：第6章-应用层"><a href="#计算机网络核心备考笔记：第6章-应用层" class="headerlink" title="计算机网络核心备考笔记：第6章 应用层"></a><strong>计算机网络核心备考笔记：第6章 应用层</strong></h3><h4 id="应用层概述"><a href="#应用层概述" class="headerlink" title="应用层概述"></a><strong>应用层概述</strong></h4><ul>
<li><strong>地位</strong>：<strong>计算机网络体系结构</strong>的<strong>最上层</strong>，是设计和建立网络的最终目的。</li>
<li><strong>特点</strong>：计算机网络中发展最快的部分，网络应用层出不穷。</li>
<li><strong>开发简便性</strong>：<ul>
<li>网络应用程序只运行在<strong>端系统</strong>中。</li>
<li><strong>运输层</strong>已为应用提供了<strong>端到端的进程间逻辑通信服务</strong>。</li>
<li>开发者无需关心网络核心的复杂设备（如路由器、交换机）。</li>
</ul>
</li>
</ul>
<h5 id="1-网络应用程序体系结构"><a href="#1-网络应用程序体系结构" class="headerlink" title="1. 网络应用程序体系结构"></a><strong>1. 网络应用程序体系结构</strong></h5><ul>
<li><strong>定义</strong>：指网络应用程序在各种<strong>端系统</strong>上的组织方式和它们之间的关系。</li>
<li><strong>主要体系结构</strong>：<ul>
<li><strong>客户&#x2F;服务器 (Client&#x2F;Server, C&#x2F;S)</strong> 体系结构</li>
<li><strong>对等 (Peer-to-Peer, P2P)</strong> 体系结构</li>
</ul>
</li>
</ul>
<h6 id="1-客户-服务器-C-S-体系结构"><a href="#1-客户-服务器-C-S-体系结构" class="headerlink" title="(1) 客户&#x2F;服务器 (C&#x2F;S) 体系结构"></a><strong>(1) 客户&#x2F;服务器 (C&#x2F;S) 体系结构</strong></h6><ul>
<li><strong>核心关系</strong>：进程之间<strong>服务和被服务</strong>的关系。<ul>
<li><strong>客户 (Client)</strong>：服务的<strong>请求方</strong>。</li>
<li><strong>服务器 (Server)</strong>：服务的<strong>提供方</strong>。</li>
</ul>
</li>
<li><strong>通信特点</strong>：<ul>
<li>客户之间不直接通信。</li>
<li>所有通信都通过服务器进行。</li>
</ul>
</li>
<li><strong>服务器特点</strong>：<ul>
<li>具有<strong>固定的IP地址和端口号</strong>。</li>
<li>总是处于<strong>运行状态</strong>，等待客户的服务请求。</li>
<li>通常是高性能计算机，全天开机。</li>
</ul>
</li>
<li><strong>应用模式</strong>：服务<strong>集中型</strong>，服务器是服务中心，数量相对客户计算机少得多。</li>
<li><strong>别称</strong>：<ul>
<li>运行客户程序的计算机称为<strong>客户机</strong>。</li>
<li>运行服务器程序的计算机称为<strong>服务器</strong>。</li>
</ul>
</li>
</ul>
<h6 id="2-P2P对等体系结构"><a href="#2-P2P对等体系结构" class="headerlink" title="(2) P2P对等体系结构"></a><strong>(2) P2P对等体系结构</strong></h6><ul>
<li><strong>核心关系</strong>：没有固定的服务请求者和服务提供者，应用进程是<strong>对等的</strong>。</li>
<li><strong>通信特点</strong>：<ul>
<li>对等方之间<strong>直接通信</strong>。</li>
<li>每个<strong>对等方 (Peer)</strong> 既是服务的<strong>请求者</strong>，又是服务的<strong>提供者</strong>。</li>
</ul>
</li>
<li><strong>P2P特点</strong>：<ul>
<li><strong>可扩展性 (Scalability)</strong> 强：每增加一个对等方，既增加了请求者，也增加了提供者，系统性能不会因规模增大而明显降低。</li>
<li><strong>服务分散型</strong>：服务不集中在少数服务器，而是分散在大量对等方计算机中。</li>
</ul>
</li>
<li><strong>应用实例</strong>：<strong>BT文件下载软件</strong>。</li>
</ul>
<h6 id="C-S-与-P2P-体系结构对比"><a href="#C-S-与-P2P-体系结构对比" class="headerlink" title="C&#x2F;S 与 P2P 体系结构对比"></a><strong>C&#x2F;S 与 P2P 体系结构对比</strong></h6><table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left">客户&#x2F;服务器 (C&#x2F;S) 体系结构</th>
<th align="left">对等 (P2P) 体系结构</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>核心思想</strong></td>
<td align="left">服务集中管理与提供</td>
<td align="left">对等实体间直接通信与共享</td>
</tr>
<tr>
<td align="left"><strong>角色划分</strong></td>
<td align="left">角色固定：客户机请求服务，服务器提供服务</td>
<td align="left">角色对等：每个节点既是客户机也是服务器</td>
</tr>
<tr>
<td align="left"><strong>通信模式</strong></td>
<td align="left">客户机之间不直接通信，必须通过服务器</td>
<td align="left">对等方之间直接通信</td>
</tr>
<tr>
<td align="left"><strong>服务器依赖</strong></td>
<td align="left">强依赖：服务器是性能瓶颈和单点故障源</td>
<td align="left">弱依赖&#x2F;无依赖：无中心服务器，鲁棒性高</td>
</tr>
<tr>
<td align="left"><strong>可扩展性</strong></td>
<td align="left">较差，服务器负载随客户数量线性增长</td>
<td align="left">极好，系统总能力随节点数量增加而增强</td>
</tr>
<tr>
<td align="left"><strong>服务模式</strong></td>
<td align="left">服务集中型</td>
<td align="left">服务分散型</td>
</tr>
<tr>
<td align="left"><strong>典型应用</strong></td>
<td align="left">Web服务(HTTP)，电子邮件(SMTP)，文件传输(FTP)</td>
<td align="left">BitTorrent (BT), Skype (早期版本)</td>
</tr>
</tbody></table>
<ul>
<li><strong>混合结构</strong>：许多实际网络应用采用 <strong>C&#x2F;S</strong> 和 <strong>P2P</strong> 的混合体系结构。</li>
</ul>
<h5 id="2-应用层协议"><a href="#2-应用层协议" class="headerlink" title="2. 应用层协议"></a><strong>2. 应用层协议</strong></h5><ul>
<li><strong>定义</strong>：为实现某种网络应用，通信双方（C&#x2F;S进程或P2P对等方）必须遵循的通信协议。</li>
<li><strong>分类</strong>：<ul>
<li><strong>公开协议</strong>：由<strong>RFC</strong>文档定义，如 <strong>HTTP</strong>, <strong>FTP</strong>, <strong>SMTP</strong>。</li>
<li><strong>专用协议</strong>：非公开的私有协议，如许多P2P应用。</li>
</ul>
</li>
</ul>
<h5 id="3-选择运输层协议"><a href="#3-选择运输层协议" class="headerlink" title="3. 选择运输层协议"></a><strong>3. 选择运输层协议</strong></h5><table>
<thead>
<tr>
<th align="left">应用</th>
<th align="left">应用层协议</th>
<th align="left">运输层协议</th>
<th align="left">主要考虑</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>电子邮件</strong></td>
<td align="left"><strong>SMTP</strong></td>
<td align="left"><strong>TCP</strong></td>
<td align="left">可靠性要求高，数据不能出错</td>
</tr>
<tr>
<td align="left"><strong>远程终端访问</strong></td>
<td align="left"><strong>TELNET</strong></td>
<td align="left"><strong>TCP</strong></td>
<td align="left">可靠的命令与响应传输</td>
</tr>
<tr>
<td align="left"><strong>万维网</strong></td>
<td align="left"><strong>HTTP</strong></td>
<td align="left"><strong>TCP</strong></td>
<td align="left">网页内容必须完整、可靠地传输</td>
</tr>
<tr>
<td align="left"><strong>文件传送</strong></td>
<td align="left"><strong>FTP</strong></td>
<td align="left"><strong>TCP</strong></td>
<td align="left">文件完整性至关重要</td>
</tr>
<tr>
<td align="left"><strong>域名系统</strong></td>
<td align="left"><strong>DNS</strong></td>
<td align="left"><strong>UDP</strong> (通常)</td>
<td align="left">速度要求高，单次查询&#x2F;响应，可靠性由应用层保证</td>
</tr>
<tr>
<td align="left"><strong>IP电话</strong></td>
<td align="left">专用协议</td>
<td align="left">通常用<strong>UDP</strong></td>
<td align="left">实时性要求高，允许少量丢包，低延迟比可靠性更重要</td>
</tr>
<tr>
<td align="left"><strong>流式多媒体</strong></td>
<td align="left">专用协议</td>
<td align="left"><strong>UDP</strong> 或 <strong>TCP</strong></td>
<td align="left">UDP用于实时流，TCP用于要求无差错的场景</td>
</tr>
</tbody></table>
<hr>
<h4 id="域名系统-DNS-Domain-Name-System"><a href="#域名系统-DNS-Domain-Name-System" class="headerlink" title="域名系统 DNS (Domain Name System)"></a><strong>域名系统 DNS (Domain Name System)</strong></h4><ul>
<li><strong>核心功能</strong>：实现<strong>主机名（域名）<strong>到 <strong>IP地址</strong>的</strong>转换</strong>（解析）。</li>
<li><strong>存在原因</strong>：<ul>
<li><strong>人</strong>：喜欢使用易于记忆的<strong>字符串名字（域名）</strong>。</li>
<li><strong>计算机</strong>：使用高效的<strong>二进制数（IP地址）</strong>。</li>
</ul>
</li>
</ul>
<h5 id="1-互联网的域名结构"><a href="#1-互联网的域名结构" class="headerlink" title="1. 互联网的域名结构"></a><strong>1. 互联网的域名结构</strong></h5><ul>
<li><strong>结构</strong>：采用<strong>层次树状的等级结构</strong>命名方法。<ul>
<li>格式：<code>... . 三级域名 . 二级域名 . 顶级域名</code></li>
</ul>
</li>
<li><strong>优点</strong>：便于分级管理和维护名字的唯一性。</li>
<li><strong>顶级域名 (TLD - Top Level Domain)</strong><ul>
<li><strong>(1) 国家顶级域名 (nTLD)</strong>：如 <code>.cn</code> (中国), <code>.us</code> (美国), <code>.uk</code> (英国)。</li>
<li><strong>(2) 通用顶级域名 (gTLD)</strong>：如 <code>.com</code> (公司), <code>.net</code> (网络服务), <code>.org</code> (非营利组织), <code>.edu</code> (教育), <code>.gov</code> (政府)。</li>
<li><strong>(3) 反向域 (arpa)</strong>：用于<strong>反向域名解析</strong>（IP地址到域名）。</li>
</ul>
</li>
</ul>
<h5 id="2-域名服务器"><a href="#2-域名服务器" class="headerlink" title="2. 域名服务器"></a><strong>2. 域名服务器</strong></h5><ul>
<li><strong>背景</strong>：单一服务器存储所有映射存在负载过大和单点故障问题。</li>
<li><strong>解决方案</strong>：采用<strong>分布式</strong>的域名服务器体系。</li>
<li><strong>区 (Zone)</strong>：<ul>
<li>域名服务器直接管辖的范围不是以“域”为单位，而是以“区”为单位。</li>
<li>一个“区”是域名空间中的一部分，可以等于一个域，也可以小于一个域。</li>
</ul>
</li>
<li><strong>域名服务器类型</strong>：<ul>
<li><strong>(1) 根域名服务器 (Root Name Server)</strong><ul>
<li>最高层次，是域名解析的核心。</li>
<li>不直接解析域名，但存储所有<strong>顶级域名服务器</strong>的域名和IP地址。</li>
<li>全球共有13个公开IP地址的根域名服务器集群。</li>
</ul>
</li>
<li><strong>(2) 顶级域名服务器 (TLD Server)</strong><ul>
<li>负责管理该顶级域名下注册的所有二级域名。</li>
<li>存储其下属<strong>权威域名服务器</strong>的地址。</li>
</ul>
</li>
<li><strong>(3) 权威域名服务器 (Authoritative Name Server)</strong><ul>
<li>负责一个“区”的管理。</li>
<li>直接负责维护该区中所有主机的域名到IP地址的映射关系。</li>
</ul>
</li>
<li><strong>(4) 本地域名服务器 (Local Name Server)</strong><ul>
<li>也称<strong>默认域名服务器</strong>，不属于上述层次结构。</li>
<li>当主机发起DNS查询时，请求首先发往本地域名服务器。</li>
<li>作为主机的代理，完成后续的域名解析过程。</li>
<li>通常由ISP、大学或企业配置。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="3-域名解析的过程"><a href="#3-域名解析的过程" class="headerlink" title="3. 域名解析的过程"></a><strong>3. 域名解析的过程</strong></h5><ul>
<li><p><strong>查询方式</strong>：</p>
<ul>
<li><strong>递归查询 (Recursive Query)</strong>：<ul>
<li><strong>过程</strong>：A向B查询，如果B不知道答案，B会代替A向其他服务器查询，直到找到答案再返回给A。</li>
<li><strong>特点</strong>：被查询的服务器负担较重。</li>
<li><strong>典型场景</strong>：主机向<strong>本地域名服务器</strong>的查询。</li>
</ul>
</li>
<li><strong>迭代查询 (Iterative Query)</strong>：<ul>
<li><strong>过程</strong>：A向B查询，如果B不知道答案，B会告诉A下一个应该去问谁（C），然后A再去问C。</li>
<li><strong>特点</strong>：查询方（DNS客户端）负担较重。</li>
<li><strong>典型场景</strong>：<strong>本地域名服务器</strong>向<strong>根&#x2F;顶级&#x2F;权威域名服务器</strong>的查询。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>标准解析流程</strong>（主机 <code>m.xyz.com</code> 查询 <code>y.abc.com</code> 的IP地址）：</p>
<ol>
<li>主机向其<strong>本地域名服务器</strong>发起<strong>递归查询</strong>请求。</li>
<li><strong>本地域名服务器</strong>开始<strong>迭代查询</strong>，首先向<strong>根域名服务器</strong>发起请求。</li>
<li><strong>根域名服务器</strong>响应，告知负责 <code>.com</code> 域的<strong>顶级域名服务器</strong>的IP地址。</li>
<li><strong>本地域名服务器</strong>向该 <code>.com</code> <strong>顶级域名服务器</strong>发起请求。</li>
<li><code>.com</code> <strong>顶级域名服务器</strong>响应，告知负责 <code>abc.com</code> 域的<strong>权威域名服务器</strong>的IP地址。</li>
<li><strong>本地域名服务器</strong>向 <code>abc.com</code> 的<strong>权威域名服务器</strong>发起请求。</li>
<li><code>abc.com</code> 的<strong>权威域名服务器</strong>查询到 <code>y.abc.com</code> 的IP地址，并将其响应给本地域名服务器。</li>
<li><strong>本地域名服务器</strong>将查询结果返回给主机，并<strong>缓存</strong>该映射关系。</li>
</ol>
</li>
<li><p><strong>DNS协议</strong>：</p>
<ul>
<li><strong>模式</strong>：<strong>C&#x2F;S</strong> 模式。</li>
<li><strong>报文</strong>：<strong>DNS查询报文</strong> 和 <strong>DNS响应报文</strong>。</li>
<li><strong>运输层协议</strong>：主要使用 <strong>UDP</strong>，端口号 <strong>53</strong>。</li>
</ul>
</li>
</ul>
<h5 id="4-DNS缓存"><a href="#4-DNS缓存" class="headerlink" title="4. DNS缓存"></a><strong>4. DNS缓存</strong></h5><ul>
<li><strong>目的</strong>：提高查询效率，减轻上级服务器（特别是根服务器）的负荷，减少网络流量。</li>
<li><strong>机制</strong>：<ul>
<li>主机和各级域名服务器都可以维护一个<strong>DNS缓存</strong>。</li>
<li>缓存中存放最近查询过的域名及其IP地址。</li>
<li>每项缓存内容都设置一个<strong>计时器 (TTL - Time To Live)</strong>，超时后删除，以保证内容准确性。</li>
</ul>
</li>
</ul>
<h5 id="5-DNS提供的其它服务"><a href="#5-DNS提供的其它服务" class="headerlink" title="5. DNS提供的其它服务"></a><strong>5. DNS提供的其它服务</strong></h5><ul>
<li><strong>主机别名 (Host Alias)</strong>：为一个规范主机名设置多个别名（CNAME记录）。</li>
<li><strong>负载分配 (Load Balancing)</strong>：将同一个主机名映射到一个<strong>IP地址集合</strong>。当收到解析请求时，DNS服务器轮询或随机返回集合中的一个IP地址，从而将访问流量分配到多个服务器上。</li>
<li><strong>反向域名解析</strong>：通过<strong>反向域 (arpa)</strong> 将IP地址转换为域名。</li>
</ul>
<hr>
<h4 id="万维网-WWW-World-Wide-Web"><a href="#万维网-WWW-World-Wide-Web" class="headerlink" title="万维网 WWW (World Wide Web)"></a><strong>万维网 WWW (World Wide Web)</strong></h4><h5 id="一、万维网概述"><a href="#一、万维网概述" class="headerlink" title="一、万维网概述"></a><strong>一、万维网概述</strong></h5><ul>
<li><strong>定义</strong>：一个运行在互联网上的网络应用，是一个由无数文档和资源组成的、通过<strong>超链接</strong>互相连接的巨大信息系统。简称 <strong>Web</strong>。</li>
<li><strong>核心概念</strong>：<ul>
<li><strong>超文本 (Hypertext)</strong>：包含指向其他文档<strong>超链接 (Hyperlink)</strong> 的文本。</li>
<li><strong>工作方式</strong>：采用 <strong>客户&#x2F;服务器 (C&#x2F;S)</strong> 方式。<ul>
<li><strong>Web浏览器 (Browser)</strong>：用户计算机上的 <strong>Web客户程序</strong>。</li>
<li><strong>Web服务器 (Server)</strong>：运行服务器程序，驻留Web文档的计算机。</li>
</ul>
</li>
</ul>
</li>
<li><strong>万维网解决的四个核心问题</strong>：<ol>
<li><strong>如何标志文档？</strong> -&gt; 使用<strong>统一资源定位符 (URL)</strong>。</li>
<li><strong>如何传送文档？</strong> -&gt; 使用<strong>超文本传送协议 (HTTP)</strong>。</li>
<li><strong>如何编写文档？</strong> -&gt; 使用<strong>超文本标记语言 (HTML)</strong>。</li>
<li><strong>如何查找信息？</strong> -&gt; 使用<strong>搜索引擎</strong>。</li>
</ol>
</li>
</ul>
<h5 id="二、统一资源定位符-URL-Uniform-Resource-Locator"><a href="#二、统一资源定位符-URL-Uniform-Resource-Locator" class="headerlink" title="二、统一资源定位符 URL (Uniform Resource Locator)"></a><strong>二、统一资源定位符 URL (Uniform Resource Locator)</strong></h5><ul>
<li><strong>作用</strong>：唯一地标志一个资源在互联网上的位置，是一种<strong>应用层地址</strong>。</li>
<li><strong>一般形式</strong>：<code>&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</code><ul>
<li><strong>&lt;协议&gt;</strong>：如 <code>http</code>, <code>ftp</code> 等。</li>
<li><strong>&lt;主机&gt;</strong>：资源的域名或IP地址。</li>
<li><strong>&lt;端口&gt;</strong>：服务器监听的端口号。<strong>HTTP</strong> 默认端口为 <strong>80</strong>，通常可省略。</li>
<li><strong>&lt;路径&gt;</strong>：资源在服务器上的路径。若省略，则指向默认网页（主页）。</li>
</ul>
</li>
</ul>
<h5 id="三、超文本传送协议-HTTP-HyperText-Transfer-Protocol"><a href="#三、超文本传送协议-HTTP-HyperText-Transfer-Protocol" class="headerlink" title="三、超文本传送协议 HTTP (HyperText Transfer Protocol)"></a><strong>三、超文本传送协议 HTTP (HyperText Transfer Protocol)</strong></h5><ul>
<li><p><strong>定义</strong>：浏览器向Web服务器请求网页时所使用的<strong>应用层协议</strong>。</p>
</li>
<li><p><strong>特点</strong>：运行在 <strong>TCP</strong> 之上，实现可靠的文件交换。</p>
</li>
<li><p><strong>工作过程</strong>：</p>
<ol>
<li>浏览器（客户端）与Web服务器建立 <strong>TCP 连接</strong>。</li>
<li>浏览器向服务器发送 <strong>HTTP 请求报文</strong>。</li>
<li>服务器收到请求后，向浏览器发送 <strong>HTTP 响应报文</strong>。</li>
<li>释放 <strong>TCP 连接</strong>。</li>
</ol>
</li>
<li><p><strong>连接方式对比</strong>：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">连接方式</th>
<th align="left">协议版本</th>
<th align="left">过程</th>
<th align="left">优点</th>
<th align="left">缺点</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>非持续连接</strong></td>
<td align="left"><strong>HTTP&#x2F;1.0</strong></td>
<td align="left">每个请求&#x2F;响应都建立一个新的TCP连接，完成后关闭。</td>
<td align="left">简单</td>
<td align="left">效率低，TCP连接建立开销大</td>
</tr>
<tr>
<td align="left"><strong>持续连接</strong></td>
<td align="left"><strong>HTTP&#x2F;1.1</strong></td>
<td align="left">服务器在发送响应后，在一段时间内保持TCP连接，允许在同一连接上传送多个请求&#x2F;响应。</td>
<td align="left">效率高，减少了连接建立开销</td>
<td align="left">-</td>
</tr>
</tbody></table>
<ul>
<li><strong>HTTP 报文格式</strong> (面向文本的，字段为ASCII码串)<ul>
<li><strong>请求报文 (Request Message)</strong>：<ul>
<li><strong>请求行</strong>：<code>方法 URL 协议版本</code> (例如: <code>GET /index.html HTTP/1.1</code>)</li>
<li><strong>首部行</strong>：包含请求的各种属性 (例如: <code>Host:</code>, <code>User-Agent:</code>)</li>
<li><strong>空行</strong>：表示首部行结束。</li>
<li><strong>实体主体</strong>：请求的数据（如POST方法提交的表单数据）。</li>
</ul>
</li>
<li><strong>响应报文 (Response Message)</strong>：<ul>
<li><strong>状态行</strong>：<code>协议版本 状态码 状态短语</code> (例如: <code>HTTP/1.1 200 OK</code>)</li>
<li><strong>首部行</strong>：包含响应的各种属性 (例如: <code>Content-Type:</code>, <code>Content-Length:</code>)</li>
<li><strong>空行</strong>：表示首部行结束。</li>
<li><strong>数据</strong>：响应的实体内容（如HTML文件）。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="四、万维网的文档"><a href="#四、万维网的文档" class="headerlink" title="四、万维网的文档"></a><strong>四、万维网的文档</strong></h5><ul>
<li><p><strong>1. 超文本标记语言 HTML (HyperText Markup Language)</strong></p>
<ul>
<li><strong>定义</strong>：制作网页的标准语言，通过<strong>标签</strong>定义文档结构和内容。</li>
<li><strong>文件格式</strong>：ASCII码文件，后缀为 <code>.html</code> 或 <code>.htm</code>。</li>
</ul>
</li>
<li><p><strong>2. 静态文档 vs 动态文档 vs 活动文档</strong></p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">文档类型</th>
<th align="left">定义与特点</th>
<th align="left">生成位置</th>
<th align="left">技术实例</th>
<th align="left">交互性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>静态文档</strong></td>
<td align="left">内容固定不变，创建完毕后存储在服务器上，每次访问结果相同。</td>
<td align="left">服务器端（预先创建）</td>
<td align="left">纯<strong>HTML</strong></td>
<td align="left">低</td>
</tr>
<tr>
<td align="left"><strong>动态文档</strong></td>
<td align="left">内容由应用程序在浏览器访问时<strong>动态创建</strong>，每次访问结果可能不同。</td>
<td align="left">服务器端（实时生成）</td>
<td align="left"><strong>CGI, PHP, JSP, ASP</strong></td>
<td align="left">中（需要与服务器交互）</td>
</tr>
<tr>
<td align="left"><strong>活动文档</strong></td>
<td align="left">服务器返回一段<strong>程序副本</strong>（如脚本）在<strong>浏览器端运行</strong>，可连续改变页面显示而无需不断请求服务器。</td>
<td align="left">客户端（由服务器发来的程序执行）</td>
<td align="left"><strong>Java Applet, JavaScript, FLASH</strong></td>
<td align="left">高（客户端本地交互）</td>
</tr>
</tbody></table>
<ul>
<li><strong>浏览器&#x2F;服务器 (B&#x2F;S) 方式</strong>：一种特殊的<strong>C&#x2F;S</strong>方式，利用动态和活动网页技术，通过通用浏览器为用户提供交互界面。</li>
</ul>
<hr>
<h4 id="电子邮件-Email"><a href="#电子邮件-Email" class="headerlink" title="电子邮件 Email"></a><strong>电子邮件 Email</strong></h4><ul>
<li><strong>工作原理</strong>：将邮件发送到收件人使用的<strong>邮件服务器</strong>，存放在其<strong>邮箱</strong>中，收件人可随时上网读取。</li>
</ul>
<h5 id="1-电子邮件系统的基本组成"><a href="#1-电子邮件系统的基本组成" class="headerlink" title="1. 电子邮件系统的基本组成"></a><strong>1. 电子邮件系统的基本组成</strong></h5><ul>
<li><strong>核心组件</strong>：<ul>
<li><strong>用户代理 (User Agent, UA)</strong>：电子邮件客户端软件，用户与邮件系统的接口（如Outlook, Foxmail），负责撰写、收发、阅读邮件。</li>
<li><strong>邮件服务器 (Mail Server)</strong>：电子邮件系统的基础设施，负责收发邮件并维护用户邮箱。</li>
</ul>
</li>
<li><strong>核心协议</strong>：<ul>
<li><strong>SMTP (Simple Mail Transfer Protocol)</strong>：<strong>简单邮件传送协议</strong>，用于<strong>发送邮件</strong>（从UA到服务器，从服务器到服务器），是“<strong>推 (push)</strong>”协议。</li>
<li><strong>POP3 &#x2F; IMAP</strong>：<strong>邮件读取协议</strong>，用于<strong>读取邮件</strong>（从服务器到UA），是“<strong>拉 (pull)</strong>”协议。</li>
</ul>
</li>
<li><strong>电子邮件地址格式</strong>：<code>收件人邮箱名@邮箱所在服务器的域名</code></li>
</ul>
<h5 id="2-简单邮件传送协议-SMTP"><a href="#2-简单邮件传送协议-SMTP" class="headerlink" title="2. 简单邮件传送协议 SMTP"></a><strong>2. 简单邮件传送协议 SMTP</strong></h5><ul>
<li><strong>作用</strong>：用于发件人UA向发送方邮件服务器，以及邮件服务器之间发送邮件。</li>
<li><strong>模式</strong>：<strong>客户&#x2F;服务器</strong> 方式。</li>
<li><strong>传输层</strong>：使用 <strong>TCP</strong> 连接进行可靠传输。</li>
<li><strong>交互方式</strong>：通过ASCII码的<strong>命令</strong>和<strong>应答信息</strong>进行交互。</li>
</ul>
<h5 id="3-电子邮件的信息格式-RFC-5322"><a href="#3-电子邮件的信息格式-RFC-5322" class="headerlink" title="3. 电子邮件的信息格式 (RFC 5322)"></a><strong>3. 电子邮件的信息格式 (RFC 5322)</strong></h5><ul>
<li><strong>结构</strong>：由<strong>信封 (Envelope)</strong> 和<strong>内容 (Content)</strong> 两部分组成。</li>
<li><strong>内容结构</strong>：<ul>
<li><strong>首部 (Header)</strong>：包含关键字和对应信息。<ul>
<li><code>To:</code>：收件人地址。</li>
<li><code>Subject:</code>：邮件主题。</li>
<li><code>Cc:</code>：抄送地址。</li>
<li><code>From:</code>：发件人地址。</li>
<li><code>Date:</code>：发信日期。</li>
</ul>
</li>
<li><strong>主体 (Body)</strong>：用户自由撰写的邮件正文。</li>
</ul>
</li>
</ul>
<h5 id="4-邮件读取协议-POP3-和-IMAP"><a href="#4-邮件读取协议-POP3-和-IMAP" class="headerlink" title="4. 邮件读取协议 POP3 和 IMAP"></a><strong>4. 邮件读取协议 POP3 和 IMAP</strong></h5><table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left">POP3 (Post Office Protocol v3)</th>
<th align="left">IMAP (Internet Message Access Protocol)</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>核心思想</strong></td>
<td align="left">简单，将邮件从服务器<strong>下载到本地</strong>进行管理。</td>
<td align="left">联机协议，在服务器上<strong>直接操纵邮箱</strong>。</td>
</tr>
<tr>
<td align="left"><strong>工作模式</strong></td>
<td align="left"><strong>下载并删除</strong> 或 <strong>下载并保留</strong>。</td>
<td align="left">用户始终在与服务器交互，邮件主体默认不下载。</td>
</tr>
<tr>
<td align="left"><strong>状态管理</strong></td>
<td align="left">在不同计算机上管理邮件不便。</td>
<td align="left">方便在不同设备上管理邮件，状态在服务器同步。</td>
</tr>
<tr>
<td align="left"><strong>功能</strong></td>
<td align="left">功能有限，只能进行简单的邮件读取操作。</td>
<td align="left">功能强大，可创建&#x2F;删除&#x2F;重命名邮箱，按条件搜索邮件。</td>
</tr>
<tr>
<td align="left"><strong>资源占用</strong></td>
<td align="left">对服务器资源占用少。</td>
<td align="left">需要与服务器保持较长时间连接，占用服务器资源。</td>
</tr>
<tr>
<td align="left"><strong>部分读取</strong></td>
<td align="left">不支持，必须下载整个邮件。</td>
<td align="left">支持只读取邮件的某一部分（如正文，不下载附件）。</td>
</tr>
</tbody></table>
<p>#####** 5. 基于万维网的电子邮件**</p>
<ul>
<li><strong>模式</strong>：用户通过<strong>浏览器</strong>访问邮件服务商提供的Web网站来收发邮件（<strong>B&#x2F;S</strong> 模式）。</li>
<li><strong>协议流程</strong>：<ol>
<li>用户浏览器 &lt;–&gt; 邮件服务器的Web网站：使用 <strong>HTTP</strong> 协议。</li>
<li>邮件服务器 &lt;–&gt; 其他邮件服务器：使用 <strong>SMTP</strong> 协议。</li>
</ol>
</li>
</ul>
<h5 id="6-通用因特网邮件扩充-MIME-Multipurpose-Internet-Mail-Extensions"><a href="#6-通用因特网邮件扩充-MIME-Multipurpose-Internet-Mail-Extensions" class="headerlink" title="6. 通用因特网邮件扩充 MIME (Multipurpose Internet Mail Extensions)"></a><strong>6. 通用因特网邮件扩充 MIME (Multipurpose Internet Mail Extensions)</strong></h5><ul>
<li><strong>解决的问题</strong>：<strong>SMTP</strong> 协议的局限性。<ul>
<li>只能传送 7 位的 <strong>ASCII</strong> 码，无法传送非英语文字（如中文）。</li>
<li>不能传送二进制文件（如可执行文件、图片、音视频）。</li>
</ul>
</li>
<li><strong>MIME 的作用</strong>：<ul>
<li>是一个<strong>辅助协议</strong>，并未改动或取代 <strong>SMTP</strong>。</li>
<li>在发送端，将非ASCII数据<strong>编码</strong>成7位ASCII码格式。</li>
<li>在接收端，进行<strong>解码</strong>还原。</li>
<li>通过在邮件首部增加新的字段来定义邮件内容的格式和编码方式。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="文件传送协议-FTP-File-Transfer-Protocol"><a href="#文件传送协议-FTP-File-Transfer-Protocol" class="headerlink" title="文件传送协议 FTP (File Transfer Protocol)"></a><strong>文件传送协议 FTP (File Transfer Protocol)</strong></h4><ul>
<li><strong>作用</strong>：在互联网上提供交互式的文件传送服务，屏蔽各计算机系统的细节差异。</li>
<li><strong>工作原理</strong>：<ul>
<li>采用 <strong>C&#x2F;S</strong> 模式，基于 <strong>TCP</strong> 可靠传输。</li>
<li><strong>核心特点：使用两个并行的TCP连接</strong>。<ol>
<li><strong>控制连接</strong>：<ul>
<li>在整个会话期间<strong>保持打开</strong>。</li>
<li>用于传送 <strong>FTP 命令和应答</strong>（如用户登录、目录切换、文件操作指令）。</li>
<li>服务器端口号为 <strong>21</strong>。</li>
</ul>
</li>
<li><strong>数据连接</strong>：<ul>
<li>每当需要传输一个文件或目录列表时，就<strong>临时创建</strong>一个数据连接。</li>
<li>传输完成后，该数据连接<strong>立即关闭</strong>。</li>
<li>是<strong>非持续的</strong>。</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><strong>状态维护</strong>：<strong>FTP</strong> 服务器是<strong>有状态的 (stateful)</strong>，必须在整个会-话期间（控制连接期间）保留用户的状态信息（如当前目录、登录状态）。</li>
</ul>
<hr>
<h4 id="远程终端-Telnet"><a href="#远程终端-Telnet" class="headerlink" title="远程终端 Telnet"></a><strong>远程终端 Telnet</strong></h4><ul>
<li><strong>作用</strong>：一个简单的<strong>远程终端协议</strong>，允许用户通过网络远程登录到另一台主机上，并在其上执行命令。</li>
<li><strong>工作原理</strong>：<ul>
<li>采用 <strong>C&#x2F;S</strong> 模式。</li>
<li>将用户的击键传到远程主机，并将主机的输出返回到用户屏幕，实现透明操作。</li>
</ul>
</li>
<li><strong>网络虚拟终端 NVT (Network Virtual Terminal)</strong>：<ul>
<li>为解决不同操作系统和终端类型的不兼容问题，<strong>TELNET</strong> 定义了一个统一的 <strong>NVT</strong> 格式。</li>
<li>客户端将本地终端的输入转换为 <strong>NVT</strong> 格式发送给服务器。</li>
<li>服务器将输出转换为 <strong>NVT</strong> 格式发送给客户端，客户端再转换为本地终端格式显示。</li>
</ul>
</li>
<li><strong>现状</strong>：由于安全性问题（明文传输），现在多被 <strong>SSH (Secure Shell)</strong> 取代，但仍用于网络设备（路由器、交换机）的调试和管理。</li>
</ul>
<hr>
<h4 id="动态主机配置协议-DHCP-Dynamic-Host-Configuration-Protocol"><a href="#动态主机配置协议-DHCP-Dynamic-Host-Configuration-Protocol" class="headerlink" title="动态主机配置协议 DHCP (Dynamic Host Configuration Protocol)"></a><strong>动态主机配置协议 DHCP (Dynamic Host Configuration Protocol)</strong></h4><ul>
<li><strong>作用</strong>：允许一台计算机加入新网络时，<strong>自动获取</strong>网络配置信息，无需手动配置。</li>
<li><strong>可自动配置的项目</strong>：<ul>
<li><strong>IP 地址</strong></li>
<li><strong>子网掩码</strong></li>
<li><strong>默认路由器（默认网关）的 IP 地址</strong></li>
<li><strong>本地域名服务器的 IP 地址</strong></li>
</ul>
</li>
<li><strong>工作过程 (DHCP Discover-Offer-Request-Ack, DORA)</strong>:<ol>
<li><strong>发现 (Discover)</strong>：DHCP客户机（刚接入网络的主机）以<strong>广播</strong>方式发送 <strong>DHCP 发现报文</strong>，寻找网络中的DHCP服务器。</li>
<li><strong>提供 (Offer)</strong>：所有收到发现报文的DHCP服务器，各自从地址池中选择一个可用的IP地址，并通过<strong>单播或广播</strong>方式向客户机发送 <strong>DHCP 提供报文</strong>（包含IP地址、租用期等信息）。</li>
<li><strong>请求 (Request)</strong>：客户机从收到的一个或多个提供报文中选择一个（通常是第一个收到的），然后以<strong>广播</strong>方式发送 <strong>DHCP 请求报文</strong>，该报文包含了它所选择的服务器IP地址和希望获得的IP地址。</li>
<li><strong>确认 (Ack)</strong>：被选择的DHCP服务器发送 <strong>DHCP 确认报文</strong>，正式将该IP地址分配给客户机。其他未被选择的服务器则收回预分配的IP地址。</li>
</ol>
</li>
<li><strong>DHCP 中继代理 (Relay Agent)</strong>：<ul>
<li>由于DHCP发现报文是广播，无法跨越路由器。</li>
<li>在没有DHCP服务器的网段，可以在路由器上配置<strong>中继代理</strong>功能。</li>
<li>中继代理收到客户机的广播发现报文后，会以<strong>单播</strong>方式将其转发给指定网段的DHCP服务器，从而实现多个局域网共享一个DHCP服务器。</li>
</ul>
</li>
<li><strong>租用期 (Lease Period)</strong>：DHCP服务器分配给客户机的IP地址是临时的，有使用期限。客户机在租用期过半时会尝试续租。</li>
</ul>
<hr>
<h4 id="P2P-文件共享"><a href="#P2P-文件共享" class="headerlink" title="P2P 文件共享"></a><strong>P2P 文件共享</strong></h4><ul>
<li><strong>基本问题</strong>：<ol>
<li>如何<strong>查找</strong>到需要的文件？</li>
<li>如何从拥有该文件的主机<strong>下载</strong>该文件？</li>
</ol>
</li>
</ul>
<h5 id="一、P2P文件分发"><a href="#一、P2P文件分发" class="headerlink" title="一、P2P文件分发"></a><strong>一、P2P文件分发</strong></h5><ul>
<li><strong>对比 C&#x2F;S 方式</strong>：<ul>
<li><strong>C&#x2F;S</strong>：服务器依次向每个客户发送文件，分发时间随客户数量<strong>线性增长</strong>。</li>
<li><strong>P2P</strong>：每个下载文件的对等方也同时作为上传者，协助分发文件，分发时间随对等方数量<strong>对数增长</strong>，效率极高。</li>
</ul>
</li>
<li><strong>核心技术 - 文件分片</strong>：<ul>
<li>将大文件分割成许多等长的<strong>小数据块</strong>。</li>
<li>对等方可以从多个其他对等方同时下载不同的数据块。</li>
<li>一个对等方下载完一个数据块后，可以立即将其上传给其他需要的对等方。</li>
<li><strong>特点</strong>：“下载的人越多，下载速度越快”。</li>
<li><strong>策略</strong>：优先下载“<strong>稀有</strong>”数据块，以保证所有数据块在网络中都有副本。</li>
</ul>
</li>
</ul>
<h5 id="二、在P2P对等方中搜索对象"><a href="#二、在P2P对等方中搜索对象" class="headerlink" title="二、在P2P对等方中搜索对象"></a><strong>二、在P2P对等方中搜索对象</strong></h5><ul>
<li><p><strong>1. 集中式目录 (Napster)</strong></p>
<ul>
<li><strong>架构</strong>：存在一个<strong>中心目录服务器</strong>，记录了每个对等方共享的文件信息及其IP地址。</li>
<li><strong>流程</strong>：查询者向中心服务器查询，服务器返回持有文件的对等方地址，查询者再直接与该对等方建立连接下载。</li>
<li><strong>缺点</strong>：存在<strong>单点故障</strong>，服务器是<strong>性能瓶颈</strong>。</li>
</ul>
</li>
<li><p><strong>2. 查询洪泛 (Gnutella)</strong></p>
<ul>
<li><strong>架构</strong>：<strong>非结构化</strong>的<strong>覆盖网络 (Overlay Network)</strong>，无中心服务器。</li>
<li><strong>流程</strong>：查询者向其所有相邻的对等方发送查询请求，收到请求的对等方再继续向其邻居转发（洪泛），直到找到文件或达到转发跳数限制（范围受限的查询洪泛）。</li>
<li><strong>缺点</strong>：产生大量查询流量，可扩展性差。</li>
</ul>
</li>
<li><p><strong>3. 分布式散列表 DHT (Distributed Hash Table)</strong></p>
<ul>
<li><strong>架构</strong>：<strong>结构化</strong>的覆盖网络，节点间有特定的数学关系。</li>
<li><strong>核心思想</strong>：<ol>
<li>将对象名（如文件名）和节点ID（如IP地址）通过同一个<strong>散列函数</strong>映射到一个巨大的ID空间中。</li>
<li>规定每个对象存储在网络中与其对象ID<strong>最接近</strong>的节点上。</li>
<li>提供高效的路由算法，能够在对数时间内（O(logN)）找到负责存储特定对象的节点。</li>
</ol>
</li>
<li><strong>经典算法：Chord</strong><ul>
<li>将节点ID沿顺时针排列成一个<strong>环形</strong>覆盖网络。</li>
<li>对象<code>x</code>存储在其ID的<strong>后继 (successor(x))</strong> 节点上。</li>
<li>每个节点维护一个<strong>索引表 (Finger Table)</strong>，存储指向环上特定距离节点的“弦”，用于加速查找过程。</li>
</ul>
</li>
<li><strong>优点</strong>：查询效率高，可扩展性好。</li>
<li><strong>缺点</strong>：结构维护复杂，不支持模糊查询。</li>
</ul>
</li>
<li><p><strong>案例：BitTorrent (BT)</strong></p>
<ul>
<li>是一个文件分发协议。</li>
<li><strong>追踪器 (Tracker)</strong>：一个中心服务器，负责维护参与同一个文件分发的所有对等方的信息列表。</li>
<li><strong>BT群 (Torrent)</strong>：参与一个特定文件分发的所有对等方构成的覆盖网络。</li>
<li><strong>无服务器网络</strong>：新版本BT使用 <strong>DHT</strong> 技术代替集中的追踪器，实现去中心化。</li>
</ul>
</li>
</ul>
<hr>
<h4 id="多媒体网络应用"><a href="#多媒体网络应用" class="headerlink" title="多媒体网络应用"></a><strong>多媒体网络应用</strong></h4><ul>
<li><strong>特点</strong>:<ul>
<li><strong>数据量大</strong>，要求高带宽。</li>
<li>对<strong>端到端时延</strong>和<strong>时延抖动</strong>高度敏感。</li>
<li>可<strong>容忍少量数据丢失</strong>。</li>
</ul>
</li>
<li><strong>三类应用</strong>:<ul>
<li><strong>流式存储音频&#x2F;视频</strong>: 音&#x2F;视频点播。</li>
<li><strong>流式实况音频&#x2F;视频</strong>: 网络直播、IPTV。</li>
<li><strong>实时交互音频&#x2F;视频</strong>: 网络电话、视频会议。</li>
</ul>
</li>
</ul>
<h5 id="挑战及应用层措施"><a href="#挑战及应用层措施" class="headerlink" title="挑战及应用层措施"></a><strong>挑战及应用层措施</strong></h5><ul>
<li><p><strong>1. 音&#x2F;视频压缩</strong>:</p>
<ul>
<li><strong>原因</strong>: 原始多媒体信息量巨大，必须压缩才能在网络上传输。</li>
<li><strong>技术</strong>: 话音压缩、音乐压缩(<strong>MP3</strong>)、视频压缩(<strong>MPEG</strong>, <strong>H.26x</strong>)。</li>
</ul>
</li>
<li><p><strong>2. 时延抖动消除</strong>:</p>
<ul>
<li><strong>问题</strong>: 分组在网络中经历的时延不同，导致到达接收端的时间间隔不均匀（<strong>非等时</strong>）。</li>
<li><strong>解决方案</strong>: 在接收端设置<strong>播放缓存 (playout buffer)</strong>。<ul>
<li>将到达的分组先存入缓存。</li>
<li>等待缓存中的分组数量达到一定阈值后，再以<strong>恒定速率</strong>从缓存中取出并播放。</li>
<li>这种<strong>延迟播放</strong>机制以增加初始播放时延为代价，有效消除了时延抖动。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>3. 丢失分组恢复</strong>:</p>
<ul>
<li><strong>背景</strong>: <strong>TCP</strong>的重传机制会导致巨大时延，不适用于实时应用。</li>
<li><strong>技术</strong>:<ul>
<li><strong>前向纠错 (Forward Error Correction, FEC)</strong>: 发送方在原始分组流中添加<strong>冗余信息</strong>（如校验分组），接收方可以利用这些冗余信息重建少量丢失的分组，无需重传。</li>
<li><strong>接收方数据恢复</strong>: 利用媒体流的自相似性，用<strong>相邻数据</strong>来估算丢失数据（如用前一个分组代替丢失分组，或使用<strong>内插法</strong>）。</li>
<li><strong>交织 (Interleaving)</strong>:<ul>
<li><strong>思想</strong>: 将原始数据单元的顺序打乱，把连续的数据分散到不同的分组中发送。</li>
<li><strong>效果</strong>: 当一个分组丢失时，只会造成恢复后媒体流中多个<strong>不连续的小间隙</strong>，而不是一个<strong>连续的大间隙</strong>。小间隙更容易通过数据恢复技术修复，从而提高播放质量。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="实时运输协议-RTP-Real-time-Transport-Protocol"><a href="#实时运输协议-RTP-Real-time-Transport-Protocol" class="headerlink" title="实时运输协议 RTP (Real-time Transport Protocol)"></a><strong>实时运输协议 RTP (Real-time Transport Protocol)</strong></h4><ul>
<li><p><strong>定位</strong>: 在 <strong>UDP</strong> 之上，为实时多媒体应用提供<strong>端到端的传输服务</strong>。它本身不保证实时性或服务质量，而是提供实现这些功能所需的信息。</p>
</li>
<li><p><strong>封装</strong>: <strong>RTP</strong> 分组被封装在 <strong>UDP</strong> 用户数据报中。 <code>[IP Header [UDP Header [RTP Header [Payload]]]]</code></p>
</li>
<li><p><strong>RTP 首部关键字段</strong>:</p>
<ul>
<li><strong>有效载荷类型 (Payload Type)</strong>: 7位，指明音频&#x2F;视频的<strong>编码类型</strong>（如PCM, MP3, H.264），接收方据此选择正确的解码器。</li>
<li><strong>序号 (Sequence Number)</strong>: 16位，每个RTP分组序号递增。用于<strong>检测分组丢失</strong>和<strong>恢复分组顺序</strong>。</li>
<li><strong>时间戳 (Timestamp)</strong>: 32位，反映分组中第一个字节的<strong>采样时刻</strong>。用于<strong>消除时延抖动</strong>和实现<strong>媒体同步</strong>（如音视频同步）。</li>
<li><strong>同步源标识符 (SSRC)</strong>: 32位，唯一标识一个RTP流的来源。</li>
</ul>
</li>
<li><p><strong>实时运输控制协议 RTCP (RTP Control Protocol)</strong>:</p>
<ul>
<li>与 <strong>RTP</strong> 配合使用，在另一个端口上传输。</li>
<li><strong>主要功能</strong>:<ul>
<li><strong>服务质量的监视与反馈</strong>: 定期向所有会话参与者报告接收质量（如丢包率、时延抖动）。</li>
<li><strong>媒体间的同步</strong>: 实现不同RTP流（如音频和视频）之间的同步。</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="网络应用编程接口"><a href="#网络应用编程接口" class="headerlink" title="网络应用编程接口"></a><strong>网络应用编程接口</strong></h4><ul>
<li><strong>定义</strong>: 操作系统为应用程序提供的用于进行网络操作的接口，即 <strong>API (Application Programming Interface)</strong>。</li>
<li><strong>套接字 (Socket)</strong>:<ul>
<li>最著名的网络应用编程接口，最初由伯克利UNIX开发。</li>
<li><strong>定义</strong>: 一个复杂的数据结构，包含了进行网络操作所需的各种资源（如缓存、地址、端口、协议类型等）。</li>
<li>应用程序通过调用<strong>套接字API</strong>来创建和操作套接字，从而实现网络通信。</li>
</ul>
</li>
</ul>
<h5 id="TCP-套接字编程的基本流程"><a href="#TCP-套接字编程的基本流程" class="headerlink" title="TCP 套接字编程的基本流程"></a><strong>TCP 套接字编程的基本流程</strong></h5><ol>
<li><p><strong>服务器端</strong>:</p>
<ol>
<li><code>socket()</code>: 创建一个<strong>监听套接字</strong>。</li>
<li><code>bind()</code>: 将监听套接字与服务器的IP地址和端口号<strong>绑定</strong>。</li>
<li><code>listen()</code>: 使服务器进入<strong>监听状态</strong>，准备接收客户端连接。</li>
<li><code>accept()</code>: <strong>阻塞</strong>等待，直到有客户端连接请求到达。一旦接受连接，会返回一个新的<strong>连接套接字</strong>，专门用于与该客户端通信。</li>
<li><code>recv()</code> &#x2F; <code>send()</code>: 使用<strong>连接套接字</strong>与客户端进行数据收发。</li>
<li><code>close()</code>: 通信结束后，关闭<strong>连接套接字</strong>和<strong>监听套接字</strong>。</li>
</ol>
</li>
<li><p><strong>客户端</strong>:</p>
<ol>
<li><code>socket()</code>: 创建一个<strong>客户套接字</strong>。</li>
<li><code>connect()</code>: 向服务器的IP地址和端口号发起<strong>连接请求</strong>。</li>
<li><code>send()</code> &#x2F; <code>recv()</code>: 连接建立后，使用客户套接字与服务器进行数据收发。</li>
<li><code>close()</code>: 通信结束后，关闭客户套接字。</li>
</ol>
</li>
</ol>
<h5 id="UDP-套接字编程的基本流程"><a href="#UDP-套接字编程的基本流程" class="headerlink" title="UDP 套接字编程的基本流程"></a><strong>UDP 套接字编程的基本流程</strong></h5><ul>
<li>UDP是<strong>无连接</strong>的，流程更简单。</li>
</ul>
<ol>
<li><p><strong>服务器端</strong>:</p>
<ol>
<li><code>socket()</code>: 创建套接字。</li>
<li><code>bind()</code>: 将套接字与服务器的IP地址和端口号绑定。</li>
<li><code>recvfrom()</code>: 阻塞等待接收数据，该函数会返回数据以及发送方的地址信息。</li>
<li><code>sendto()</code>: 使用接收到的地址信息，向客户端发送数据。</li>
<li><code>close()</code>: 关闭套接字。</li>
</ol>
</li>
<li><p><strong>客户端</strong>:</p>
<ol>
<li><code>socket()</code>: 创建套接字。</li>
<li><code>sendto()</code>: 直接向指定的服务器地址和端口发送数据。</li>
<li><code>recvfrom()</code>: 接收服务器的响应。</li>
<li><code>close()</code>: 关闭套接字。</li>
</ol>
</li>
</ol>
<h3 id="计算机网络核心备考笔记：精华摘要"><a href="#计算机网络核心备考笔记：精华摘要" class="headerlink" title="计算机网络核心备考笔记：精华摘要"></a><strong>计算机网络核心备考笔记：精华摘要</strong></h3><h4 id="1-网络体系结构总览-宏观框架"><a href="#1-网络体系结构总览-宏观框架" class="headerlink" title="1. 网络体系结构总览 (宏观框架)"></a><strong>1. 网络体系结构总览 (宏观框架)</strong></h4><h5 id="1-1-三大体系结构模型对比"><a href="#1-1-三大体系结构模型对比" class="headerlink" title="1.1 三大体系结构模型对比"></a><strong>1.1 三大体系结构模型对比</strong></h5><table>
<thead>
<tr>
<th align="left">模型</th>
<th align="left">层级</th>
<th align="left">主要功能</th>
<th align="left">典型协议 &#x2F; 设备</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>OSI七层模型</strong></td>
<td align="left">7. 应用层<br>6. 表示层<br>5. 会话层</td>
<td align="left"><strong>为用户应用程序提供网络服务</strong> (数据格式化、会话管理)</td>
<td align="left">HTTP, FTP, DNS, SMTP</td>
</tr>
<tr>
<td align="left"><strong>五层原理体系结构</strong><br>(本课程使用)</td>
<td align="left"><strong>5. 应用层</strong></td>
<td align="left">为应用进程提供通信规则</td>
<td align="left">HTTP, FTP, DNS, SMTP</td>
</tr>
<tr>
<td align="left"><strong>TCP&#x2F;IP四层模型</strong></td>
<td align="left"><strong>4. 应用层</strong></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>OSI&#x2F;五层&#x2F;TCP&#x2F;IP</strong></td>
<td align="left"><strong>4. 运输层</strong></td>
<td align="left">提供<strong>进程到进程</strong> 的端到端逻辑通信、可靠&#x2F;不可靠传输、复用&#x2F;分用</td>
<td align="left"><strong>TCP</strong>, <strong>UDP</strong></td>
</tr>
<tr>
<td align="left"><strong>OSI&#x2F;五层&#x2F;TCP&#x2F;IP</strong></td>
<td align="left"><strong>3. 网络层</strong></td>
<td align="left">提供<strong>主机到主机</strong> 的通信、路由选择、分组转发</td>
<td align="left"><strong>IP</strong>, <strong>ICMP</strong>, <strong>ARP</strong>, OSPF, BGP<br><strong>路由器 (Router)</strong></td>
</tr>
<tr>
<td align="left"><strong>OSI&#x2F;五层&#x2F;TCP&#x2F;IP</strong></td>
<td align="left"><strong>2. 数据链路层</strong></td>
<td align="left">提供<strong>相邻节点间</strong> 的数据传输、封装成帧、差错检测</td>
<td align="left">PPP, Ethernet (CSMA&#x2F;CD)<br><strong>交换机 (Switch)</strong>, 网桥</td>
</tr>
<tr>
<td align="left"><strong>OSI&#x2F;五层&#x2F;TCP&#x2F;IP</strong></td>
<td align="left"><strong>1. 物理层</strong></td>
<td align="left">在物理媒体上传输<strong>比特流</strong></td>
<td align="left">(无协议)<br><strong>集线器 (Hub)</strong>, 中继器, 网线, 光纤</td>
</tr>
</tbody></table>
<h5 id="1-2-数据封装-Encapsulation-与解封装-Decapsulation"><a href="#1-2-数据封装-Encapsulation-与解封装-Decapsulation" class="headerlink" title="1.2 数据封装 (Encapsulation) 与解封装 (Decapsulation)"></a><strong>1.2 数据封装 (Encapsulation) 与解封装 (Decapsulation)</strong></h5><ul>
<li><strong>封装过程 (自顶向下)</strong>：发送方应用层的数据，在向下经过每一层时，都会被该层加上一个控制信息的<strong>首部 (Header)</strong>（数据链路层还可能加<strong>尾部</strong>），然后交给下一层。</li>
<li><strong>解封装过程 (自底向上)</strong>：接收方从物理层收到比特流，每向上一层，该层协议就剥掉对应的首部，并根据首部信息进行处理，最终将原始数据交付给应用层。</li>
</ul>
<h5 id="1-3-协议数据单元-PDU-名称"><a href="#1-3-协议数据单元-PDU-名称" class="headerlink" title="1.3 协议数据单元 (PDU) 名称"></a><strong>1.3 协议数据单元 (PDU) 名称</strong></h5><ul>
<li><strong>应用层</strong>: <strong>报文 (Message)</strong></li>
<li><strong>运输层</strong>: <strong>TCP报文段 (Segment)</strong> &#x2F; <strong>UDP用户数据报 (User Datagram)</strong></li>
<li><strong>网络层</strong>: <strong>分组 (Packet)</strong> 或 <strong>IP数据报 (IP Datagram)</strong></li>
<li><strong>数据链路层</strong>: <strong>帧 (Frame)</strong></li>
<li><strong>物理层</strong>: <strong>比特流 (Bitstream)</strong></li>
</ul>
<hr>
<h4 id="2-各层核心协议与机制串讲-聚焦1-5章考点"><a href="#2-各层核心协议与机制串讲-聚焦1-5章考点" class="headerlink" title="2. 各层核心协议与机制串讲 (聚焦1-5章考点)"></a><strong>2. 各层核心协议与机制串讲 (聚焦1-5章考点)</strong></h4><ul>
<li><p><strong>应用层 (Application Layer):</strong></p>
<ul>
<li>为用户应用程序提供网络通信服务，定义了进程间通信的规则。</li>
</ul>
</li>
<li><p><strong>运输层 (Transport Layer):</strong></p>
<ul>
<li><strong>TCP vs. UDP 核心对比</strong></li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">对比维度</th>
<th align="left"><strong>TCP (传输控制协议)</strong></th>
<th align="left"><strong>UDP (用户数据报协议)</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>连接性</strong></td>
<td align="left"><strong>面向连接</strong></td>
<td align="left"><strong>无连接</strong></td>
</tr>
<tr>
<td align="left"><strong>可靠性</strong></td>
<td align="left"><strong>可靠传输</strong> (不丢不重、按序到达)</td>
<td align="left"><strong>不可靠</strong> (“尽最大努力”交付)</td>
</tr>
<tr>
<td align="left"><strong>首部开销</strong></td>
<td align="left"><strong>大</strong> (≥ 20字节)</td>
<td align="left"><strong>小</strong> (固定8字节)</td>
</tr>
<tr>
<td align="left"><strong>流量控制</strong></td>
<td align="left"><strong>有</strong> (滑动窗口)</td>
<td align="left"><strong>无</strong></td>
</tr>
<tr>
<td align="left"><strong>拥塞控制</strong></td>
<td align="left"><strong>有</strong></td>
<td align="left"><strong>无</strong></td>
</tr>
<tr>
<td align="left"><strong>应用场景</strong></td>
<td align="left">Web(HTTP), 文件(FTP), 邮件(SMTP)</td>
<td align="left">DNS, 实时音视频, SNMP</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>TCP 可靠传输核心机制</strong>:</p>
<ul>
<li><strong>序号</strong>: 对字节流中的每个字节进行编号，确保有序性。</li>
<li><strong>确认(ACK)</strong>: 接收方发送确认号，告知发送方已正确收到哪些数据（<strong>累积确认</strong>）。</li>
<li><strong>超时重传</strong>: 发送方为每个报文段设置计时器，超时未收到确认则重传。</li>
<li><strong>滑动窗口</strong>: 实现流量控制和流水线式传输，提高效率。</li>
</ul>
</li>
<li><p><strong>TCP 连接管理</strong>:</p>
<ul>
<li><strong>三次握手 (连接建立)</strong>:<ol>
<li><strong>客户端 -&gt; 服务器</strong>: <code>SYN=1</code>, <code>seq=x</code></li>
<li><strong>服务器 -&gt; 客户端</strong>: <code>SYN=1, ACK=1</code>, <code>seq=y</code>, <code>ack=x+1</code></li>
<li><strong>客户端 -&gt; 服务器</strong>: <code>ACK=1</code>, <code>seq=x+1</code>, <code>ack=y+1</code></li>
</ol>
</li>
<li><strong>四次挥手 (连接释放)</strong>:<ol>
<li><strong>主动方 -&gt; 被动方</strong>: <code>FIN=1</code> (请求关闭发送通道)</li>
<li><strong>被动方 -&gt; 主动方</strong>: <code>ACK=1</code> (同意关闭)</li>
<li><strong>被动方 -&gt; 主动方</strong>: <code>FIN=1</code> (数据发送完毕，请求关闭)</li>
<li><strong>主动方 -&gt; 被动方</strong>: <code>ACK=1</code> (同意关闭)</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>TCP 拥塞控制四算法</strong>:</p>
<ul>
<li><strong>慢启动</strong>: 初始阶段，拥塞窗口(cwnd)指数增长，快速探测网络容量。</li>
<li><strong>拥塞避免</strong>: cwnd达到门限后，改为线性增长，缓慢探测。</li>
<li><strong>快重传</strong>: 收到3个重复ACK后，不等超时立即重传丢失报文段。</li>
<li><strong>快恢复</strong>: 快重传后，cwnd减半而非归1，直接进入拥塞避免阶段。</li>
</ul>
</li>
<li><p><strong>网络层 (Network Layer):</strong></p>
<ul>
<li><strong>核心功能</strong>:<ul>
<li><strong>分组转发 (Forwarding)</strong>: 路由器根据<strong>转发表</strong>将分组从输入端口移到正确输出端口的<strong>局部动作</strong>。</li>
<li><strong>路由选择 (Routing)</strong>: 通过<strong>路由协议</strong>计算并生成路由表&#x2F;转发表的<strong>全局过程</strong>。</li>
</ul>
</li>
<li><strong>IP 协议</strong>:<ul>
<li><strong>CIDR编址</strong>: <code>IP地址/网络前缀位数</code> (如 <code>192.168.1.0/24</code>)。IP地址分为<strong>网络前缀</strong>和<strong>主机号</strong>两部分。</li>
<li><strong>子网掩码</strong>: 与IP地址<strong>按位与</strong>，用于提取<strong>网络前缀</strong>。</li>
<li><strong>IP数据报关键首部</strong>:<ul>
<li><strong>TTL (生存时间)</strong>: 每经过一个路由器减1，为0时丢弃，防止路由环路。</li>
<li><strong>协议字段</strong>: 指明上层（运输层）协议是TCP(6)还是UDP(17)等。</li>
<li><strong>标识、标志、片偏移</strong>: 用于IP数据报的<strong>分片与重组</strong>。</li>
</ul>
</li>
</ul>
</li>
<li><strong>ARP (地址解析协议)</strong>:<ul>
<li><strong>功能</strong>: 在<strong>同一局域网</strong>内，通过IP地址找到对应的MAC地址。</li>
<li><strong>原理</strong>: <strong>广播ARP请求</strong> (“谁有这个IP？”)，<strong>单播ARP响应</strong> (“我是，这是我的MAC”)。</li>
</ul>
</li>
<li><strong>路由协议对比</strong>:</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">协议</th>
<th align="left"><strong>RIP</strong></th>
<th align="left"><strong>OSPF</strong></th>
<th align="left"><strong>BGP</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>算法类型</strong></td>
<td align="left"><strong>距离向量</strong></td>
<td align="left"><strong>链路状态</strong></td>
<td align="left"><strong>路径向量</strong></td>
</tr>
<tr>
<td align="left"><strong>度量(Metric)</strong></td>
<td align="left"><strong>跳数</strong></td>
<td align="left"><strong>开销</strong> (带宽、时延等)</td>
<td align="left"><strong>AS路径</strong>及策略</td>
</tr>
<tr>
<td align="left"><strong>适用范围</strong></td>
<td align="left">AS内部 (小型网络)</td>
<td align="left">AS内部 (大中型网络)</td>
<td align="left"><strong>AS之间</strong></td>
</tr>
</tbody></table>
<ul>
<li><p><strong>ICMP协议</strong>: 主要功能是进行<strong>差错报告</strong>（如目的不可达）和<strong>网络探询</strong>（如<strong>ping</strong>命令的回送请求&#x2F;应答）。</p>
</li>
<li><p><strong>数据链路层 (Data Link Layer):</strong></p>
<ul>
<li><strong>核心功能</strong>:<ul>
<li><strong>封装成帧</strong>: 添加帧头帧尾，实现帧定界。</li>
<li><strong>透明传输</strong>: 通过<strong>字节填充</strong>或<strong>零比特填充</strong>，防止数据部分被误判为帧定界符。</li>
<li><strong>差错检测</strong>: 使用<strong>CRC循环冗余检验</strong>，检测传输中的比特差错。</li>
</ul>
</li>
<li><strong>MAC地址</strong>: 48位的全球唯一硬件地址，用于在局域网中标识一个网络接口。</li>
<li><strong>CSMA&#x2F;CD协议 (共享式以太网)</strong>:<ol>
<li><strong>载波侦听 (先听)</strong>: 发送前监听信道是否空闲。</li>
<li><strong>冲突检测 (边发边听)</strong>: 发送时持续检测信道，若有冲突立即停止发送。</li>
<li><strong>随机退避 (等待)</strong>: 冲突后，等待一个随机时间再尝试。</li>
<li><strong>二进制指数退避</strong>: 重传次数越多，随机等待时间的上限翻倍。</li>
</ol>
</li>
<li><strong>网络设备对比</strong>:<ul>
<li><strong>集线器(Hub)</strong>: <strong>物理层</strong>设备，简单地广播信号，所有端口在<strong>同一个冲突域</strong>和<strong>广播域</strong>。</li>
<li><strong>交换机(Switch)</strong>: <strong>数据链路层</strong>设备，根据<strong>MAC地址表</strong>进行智能转发和过滤，<strong>每个端口是一个独立的冲突域</strong>，但所有端口仍在<strong>同一个广播域</strong>。</li>
<li><strong>路由器(Router)</strong>: <strong>网络层</strong>设备，根据<strong>IP地址</strong>和<strong>路由表</strong>转发分组，<strong>每个端口是一个独立的冲突域和广播域</strong>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>物理层 (Physical Layer):</strong></p>
<ul>
<li><strong>核心任务</strong>: 在<strong>传输媒体</strong>（如双绞线、光纤、无线电波）上传输原始的<strong>比特流</strong>。</li>
<li><strong>信道复用技术</strong>:<ul>
<li><strong>FDM (频分复用)</strong>: 同时不同频。</li>
<li><strong>TDM (时分复用)</strong>: 同频不同时。</li>
<li><strong>WDM (波分复用)</strong>: 光的频分复用。</li>
<li><strong>CDM (码分复用)</strong>: 同时同频，用码片区分。</li>
</ul>
</li>
<li><strong>信道容量限制</strong>:<ul>
<li><strong>奈氏准则</strong>: 限制了在<strong>无噪声、带宽有限</strong>的信道中，<strong>最高码元传输速率</strong>为<code>2W</code>。</li>
<li><strong>香non公式</strong>: 限制了在<strong>有噪声、带宽有限</strong>的信道中，<strong>极限信息传输速率</strong>为<code>W log₂(1+S/N)</code>。</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="3-关键流程贯通-综合应用"><a href="#3-关键流程贯通-综合应用" class="headerlink" title="3. 关键流程贯通 (综合应用)"></a><strong>3. 关键流程贯通 (综合应用)</strong></h4><p><strong>场景: 主机A (IP_A, MAC_A) 向不同局域网的主机B (IP_B, MAC_B) 发送一个IP数据报。默认网关为路由器R (接口IP_R1, MAC_R1; 接口IP_R2, MAC_R2)。</strong></p>
<p><strong>完整生命周期描述:</strong></p>
<ol>
<li><p><strong>发送方决策 (网络层)</strong>: 主机A将自己的IP地址&#x2F;子网掩码与主机B的IP地址进行比较，发现两者不在同一个子网。因此，A决定必须将数据报发送给其<strong>默认网关</strong>（路由器R）。</p>
</li>
<li><p><strong>获取网关MAC地址 (ARP)</strong>:</p>
<ul>
<li>主机A查询自己的<strong>ARP缓存表</strong>，查找默认网关的IP地址（IP_R1）对应的MAC地址。</li>
<li>如果<strong>找不到</strong>，A会在其所在的局域网内<strong>广播</strong>一个ARP请求：“谁是IP_R1？请告诉我你的MAC地址。”</li>
<li>路由器R收到请求后，<strong>单播</strong>一个ARP响应给A：“我是IP_R1，我的MAC地址是MAC_R1。”</li>
<li>A将 <code>&#123;IP_R1, MAC_R1&#125;</code> 存入ARP缓存。</li>
</ul>
</li>
<li><p><strong>第一次封装与发送 (数据链路层)</strong>:</p>
<ul>
<li>A将IP数据报（<strong>源IP: IP_A, 目的IP: IP_B</strong>）交给数据链路层。</li>
<li>数据链路层将其封装成一个以太网帧。关键在于地址：<ul>
<li><strong>源MAC地址</strong>: MAC_A</li>
<li><strong>目的MAC地址</strong>: <strong>MAC_R1</strong> (网关的MAC地址)</li>
</ul>
</li>
<li>该帧通过物理层发送到A所在的局域网。</li>
</ul>
</li>
<li><p><strong>路由器处理 (网络层核心)</strong>:</p>
<ul>
<li>交换机将帧转发到路由器R的对应接口。路由器R接收到该帧，检查目的MAC地址是自己，于是接收并<strong>解封装</strong>，将IP数据报提取出来交给网络层。</li>
<li>路由器网络层查看IP数据报的<strong>目的IP地址 (IP_B)</strong>。</li>
<li>路由器查询自己的<strong>路由表</strong>，根据IP_B找到一条匹配的路由，确定该数据报应从另一个接口（IP_R2）转发出去。</li>
</ul>
</li>
<li><p><strong>获取目的主机MAC地址 (ARP)</strong>:</p>
<ul>
<li>现在路由器R需要将数据报发送到B所在的局域网。它需要知道B的MAC地址。</li>
<li>R查询其ARP缓存表，查找IP_B对应的MAC地址。</li>
<li>如果<strong>找不到</strong>，R会从其接口IP_R2<strong>广播</strong>一个ARP请求：“谁是IP_B？请告诉我你的MAC地址。”</li>
<li>主机B收到请求后，<strong>单播</strong>一个ARP响应给R：“我是IP_B，我的MAC地址是MAC_B。”</li>
<li>R将 <code>&#123;IP_B, MAC_B&#125;</code> 存入ARP缓存。</li>
</ul>
</li>
<li><p><strong>第二次封装与发送 (数据链路层)</strong>:</p>
<ul>
<li>路由器将<strong>原始的IP数据报</strong>（源IP和目的IP<strong>始终不变</strong>）交给其出接口的数据链路层。</li>
<li>数据链路层将其封装成一个<strong>新的</strong>以太网帧：<ul>
<li><strong>源MAC地址</strong>: <strong>MAC_R2</strong> (路由器出接口的MAC地址)</li>
<li><strong>目的MAC地址</strong>: <strong>MAC_B</strong></li>
</ul>
</li>
<li>该新帧通过物理层发送到B所在的局域网。</li>
</ul>
</li>
<li><p><strong>最终接收 (解封装)</strong>:</p>
<ul>
<li>主机B接收到该帧，检查目的MAC地址是自己，接收并<strong>解封装</strong>，逐层上传，最终将IP数据报中的数据交给正确的应用进程。</li>
</ul>
</li>
</ol>
<p><strong>流程总结</strong>: IP地址（源&#x2F;目）在整个传输过程中保持不变，而MAC地址（源&#x2F;目）在每一“跳”（hop）都会发生改变。ARP协议是连接网络层地址和数据链路层地址的关键“胶水”。</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/09/05/68ba5cf5568da.png" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/09/05/68ba5cf5568da.png" title="头像" alt="头像"></a><div class="post-copyright__author_name">晓嘿君</div><div class="post-copyright__author_desc">星海横流，岁月成碑。</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://www.233909.xyz/posts/91149a63/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://www.233909.xyz/posts/91149a63/')">网络基础</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://www.233909.xyz/posts/91149a63/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=网络基础&amp;url=http://www.233909.xyz/posts/91149a63/&amp;pic=https://bu.dusays.com/2025/04/28/680f628873f0e.webp" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.233909.xyz" target="_blank">233-909!</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2025/04/28/680f628873f0e.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/54336116/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/09/20/68ce0b5770264.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">《大明寰宇》第一章AI试稿</div></div></a></div><div class="next-post pull-right"><a href="/posts/f7a1abb4/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/04/28/680f628873f0e.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">网络基础重点总结</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/09/05/68ba5cf5568da.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description">这里你可以看到一些杂七杂八的内容</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">晓嘿君</h1><div class="author-info__desc">星海横流，岁月成碑。</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/xiaohj233" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/1869551601" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到此网站</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC1%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">计算机网络核心备考笔记：第1章 计算机网络概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E4%BF%A1%E6%81%AF%E6%97%B6%E4%BB%A3"><span class="toc-number">1.1.</span> <span class="toc-text">计算机网络与信息时代</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text">计算机网络的定义与分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">1.2.1.</span> <span class="toc-text">计算机网络的定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.2.</span> <span class="toc-text">计算机网络的分类</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E6%A6%82%E8%BF%B0"><span class="toc-number">1.3.</span> <span class="toc-text">互联网概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E4%B8%8E%E4%BA%92%E8%BF%9E%E7%BD%91%E7%BB%9C"><span class="toc-number">1.3.1.</span> <span class="toc-text">网络与互连网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#internet-%E5%92%8C-Internet-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.3.2.</span> <span class="toc-text">internet 和 Internet 的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E8%BE%B9%E7%BC%98%E4%B8%8E%E6%A0%B8%E5%BF%83"><span class="toc-number">1.3.3.</span> <span class="toc-text">互联网的边缘与核心</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%93%E6%9E%84%E5%8F%91%E5%B1%95%E7%9A%84%E4%B8%89%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">1.3.4.</span> <span class="toc-text">互联网结构发展的三个阶段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.3.5.</span> <span class="toc-text">互联网的标准化工作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#RFC-%E6%96%87%E6%A1%A3"><span class="toc-number">1.3.6.</span> <span class="toc-text">RFC 文档</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2-Circuit-Switching"><span class="toc-number">1.4.</span> <span class="toc-text">电路交换 (Circuit Switching)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2-Packet-Switching"><span class="toc-number">1.5.</span> <span class="toc-text">分组交换 (Packet Switching)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">1.6.</span> <span class="toc-text">三种交换方式的对比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">1.7.</span> <span class="toc-text">网络性能指标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.8.</span> <span class="toc-text">计算机网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-Network-Protocol"><span class="toc-number">1.8.1.</span> <span class="toc-text">网络协议 (Network Protocol)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%B8%89%E8%A6%81%E7%B4%A0"><span class="toc-number">1.8.2.</span> <span class="toc-text">网络协议的三要素</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%88%86%E5%B1%82%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.8.3.</span> <span class="toc-text">协议的分层模型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.8.4.</span> <span class="toc-text">计算机网络的体系结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%84%E5%B1%82%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="toc-number">1.8.5.</span> <span class="toc-text">各层协议的主要功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B1%82%E6%AC%A1%E5%85%B3%E7%B3%BB%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85"><span class="toc-number">1.8.6.</span> <span class="toc-text">协议的层次关系与数据封装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E3%80%81%E5%8D%8F%E8%AE%AE%E5%92%8C%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.8.7.</span> <span class="toc-text">实体、协议和服务</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%85%B4%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF%E7%AE%80%E4%BB%8B"><span class="toc-number">1.9.</span> <span class="toc-text">新兴网络技术简介</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97-Cloud-Computing"><span class="toc-number">1.9.1.</span> <span class="toc-text">云计算 (Cloud Computing)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%A9%E8%81%94%E7%BD%91-Internet-of-Things-IoT"><span class="toc-number">1.9.2.</span> <span class="toc-text">物联网 (Internet of Things, IoT)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC2%E7%AB%A0-%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">2.</span> <span class="toc-text">计算机网络核心备考笔记：第2章 物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#l-%E7%89%A9%E7%90%86%E5%B1%82%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.</span> <span class="toc-text">l 物理层的基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#l-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">2.2.</span> <span class="toc-text">l 数据通信的基础知识</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#l-%E7%89%A9%E7%90%86%E5%B1%82%E4%B8%8B%E9%9D%A2%E7%9A%84%E4%BC%A0%E8%BE%93%E5%AA%92%E4%BD%93"><span class="toc-number">2.3.</span> <span class="toc-text">l 物理层下面的传输媒体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#l-%E4%BF%A1%E9%81%93%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF"><span class="toc-number">2.4.</span> <span class="toc-text">l 信道复用技术</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#l-%E6%95%B0%E5%AD%97%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.5.</span> <span class="toc-text">l 数字传输系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#l-%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A5%E5%85%A5%E6%8A%80%E6%9C%AF-%E2%80%9C%E6%9C%80%E5%90%8E%E4%B8%80%E5%85%AC%E9%87%8C%E2%80%9D"><span class="toc-number">2.6.</span> <span class="toc-text">l 互联网接入技术 (“最后一公里”)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC3%E7%AB%A0-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">3.</span> <span class="toc-text">计算机网络核心备考笔记：第3章 - 数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.</span> <span class="toc-text">1. 数据链路层的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E6%89%80%E5%A4%84%E7%9A%84%E5%9C%B0%E4%BD%8D"><span class="toc-number">3.1.1.</span> <span class="toc-text">1.1 数据链路层所处的地位</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E4%BD%BF%E7%94%A8%E7%9A%84%E4%B8%A4%E7%A7%8D%E4%BF%A1%E9%81%93%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.1.2.</span> <span class="toc-text">1.2 数据链路层使用的两种信道类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-%E9%93%BE%E8%B7%AF%E5%92%8C%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.1.3.</span> <span class="toc-text">1.3 链路和数据链路的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-4-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E4%BC%A0%E9%80%81%E7%9A%84%E6%98%AF%E5%B8%A7%EF%BC%88Frame%EF%BC%89"><span class="toc-number">3.1.4.</span> <span class="toc-text">1.4 数据链路层传送的是帧（Frame）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7-Framing"><span class="toc-number">3.2.</span> <span class="toc-text">2. 封装成帧 (Framing)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93-Transparent-Transmission"><span class="toc-number">3.3.</span> <span class="toc-text">3. 透明传输 (Transparent Transmission)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B-Error-Detection"><span class="toc-number">3.4.</span> <span class="toc-text">4. 差错检测 (Error Detection)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.5.</span> <span class="toc-text">5. 可靠传输协议</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE-Stop-and-Wait-Protocol"><span class="toc-number">3.5.1.</span> <span class="toc-text">5.1 停止等待协议 (Stop-and-Wait Protocol)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-2-%E6%B5%81%E6%B0%B4%E7%BA%BF%E4%BC%A0%E8%BE%93%E4%B8%8E%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.5.2.</span> <span class="toc-text">5.2 流水线传输与滑动窗口协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-3-%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE-Go-Back-N-GBN"><span class="toc-number">3.5.3.</span> <span class="toc-text">5.3 回退N帧协议 (Go-Back-N, GBN)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-4-%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE-Selective-Repeat-SR"><span class="toc-number">3.5.4.</span> <span class="toc-text">5.4 选择重传协议 (Selective Repeat, SR)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E7%82%B9%E5%AF%B9%E7%82%B9%E5%8D%8F%E8%AE%AE-PPP-Point-to-Point-Protocol"><span class="toc-number">3.6.</span> <span class="toc-text">6. 点对点协议 PPP (Point-to-Point Protocol)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E4%BD%BF%E7%94%A8%E5%B9%BF%E6%92%AD%E4%BF%A1%E9%81%93%E7%9A%84%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">3.7.</span> <span class="toc-text">7. 使用广播信道的数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#7-1-%E5%AA%92%E4%BD%93%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6-Medium-Access-Control-MAC"><span class="toc-number">3.7.1.</span> <span class="toc-text">7.1 媒体接入控制 (Medium Access Control, MAC)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-2-%E5%B1%80%E5%9F%9F%E7%BD%91-LAN-Local-Area-Network"><span class="toc-number">3.7.2.</span> <span class="toc-text">7.2 局域网 (LAN - Local Area Network)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E5%85%B1%E4%BA%AB%E5%BC%8F%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%B8%8ECSMA-CD%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.8.</span> <span class="toc-text">8. 共享式以太网与CSMA&#x2F;CD协议</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#8-1-%E4%BD%BF%E7%94%A8%E9%9B%86%E7%BA%BF%E5%99%A8%E7%9A%84%E6%98%9F%E5%BD%A2%E6%8B%93%E6%89%91"><span class="toc-number">3.8.1.</span> <span class="toc-text">8.1 使用集线器的星形拓扑</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%9A%84MAC%E5%B8%A7%E6%A0%BC%E5%BC%8F-Ethernet-V2"><span class="toc-number">3.8.2.</span> <span class="toc-text">8.2 以太网的MAC帧格式 (Ethernet V2)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-%E5%9C%A8%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E6%89%A9%E5%B1%95%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">3.9.</span> <span class="toc-text">9. 在数据链路层扩展局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#9-1-%E7%BD%91%E6%A1%A5-Bridge"><span class="toc-number">3.9.1.</span> <span class="toc-text">9.1 网桥 (Bridge)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%BA%A4%E6%8D%A2%E6%9C%BA-Ethernet-Switch"><span class="toc-number">3.9.2.</span> <span class="toc-text">9.2 以太网交换机 (Ethernet Switch)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91-VLAN-Virtual-LAN"><span class="toc-number">3.10.</span> <span class="toc-text">10. 虚拟局域网 VLAN (Virtual LAN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91-WLAN-Wireless-LAN"><span class="toc-number">3.11.</span> <span class="toc-text">11. 无线局域网 (WLAN - Wireless LAN)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#11-1-CSMA-CA-%E5%8D%8F%E8%AE%AE-%E8%BD%BD%E6%B3%A2%E7%9B%91%E5%90%AC%E5%A4%9A%E5%9D%80%E6%8E%A5%E5%85%A5-%E5%86%B2%E7%AA%81%E9%81%BF%E5%85%8D"><span class="toc-number">3.11.1.</span> <span class="toc-text">11.1 CSMA&#x2F;CA 协议 (载波监听多址接入&#x2F;冲突避免)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-%E8%9C%82%E7%AA%9D%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.12.</span> <span class="toc-text">12. 蜂窝移动通信系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC4%E7%AB%A0-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">4.</span> <span class="toc-text">计算机网络核心备考笔记：第4章 网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.</span> <span class="toc-text">网络层概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%88%86%E7%BB%84%E8%BD%AC%E5%8F%91%E5%92%8C%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9"><span class="toc-number">4.1.1.</span> <span class="toc-text">1. 分组转发和路由选择</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E7%BD%91%E7%BB%9C%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.1.2.</span> <span class="toc-text">2. 网络层提供的两种服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E7%94%B5%E8%B7%AF%E6%9C%8D%E5%8A%A1%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">4.1.3.</span> <span class="toc-text">虚电路服务与数据报服务的对比</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E6%9E%84%E7%BD%91%E7%BB%9C%E4%BA%92%E8%BF%9E"><span class="toc-number">4.2.</span> <span class="toc-text">异构网络互连</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E5%8F%8A%E7%BC%96%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="toc-number">4.3.</span> <span class="toc-text">IP地址及编址方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80"><span class="toc-number">4.3.1.</span> <span class="toc-text">1. 分类编址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91"><span class="toc-number">4.3.2.</span> <span class="toc-text">2. 划分子网</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80-CIDR-Classless-Inter-Domain-Routing"><span class="toc-number">4.3.3.</span> <span class="toc-text">3. 无分类编址 CIDR (Classless Inter-Domain Routing)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E4%B8%8E%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80"><span class="toc-number">4.4.</span> <span class="toc-text">IP地址与物理地址</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AE-ARP-Address-Resolution-Protocol"><span class="toc-number">4.4.1.</span> <span class="toc-text">地址解析协议 ARP (Address Resolution Protocol)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP-%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.5.</span> <span class="toc-text">IP 数据报的格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E8%BD%AC%E5%8F%91"><span class="toc-number">4.6.</span> <span class="toc-text">IP数据报的转发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE-ICMP-Internet-Control-Message-Protocol"><span class="toc-number">4.7.</span> <span class="toc-text">互联网控制报文协议 ICMP (Internet Control Message Protocol)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">4.8.</span> <span class="toc-text">路由选择协议概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AE-RIP-Routing-Information-Protocol"><span class="toc-number">4.9.</span> <span class="toc-text">路由信息协议 RIP (Routing Information Protocol)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E6%94%BE%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E4%BC%98%E5%85%88-OSPF-Open-Shortest-Path-First"><span class="toc-number">4.10.</span> <span class="toc-text">开放最短路径优先 OSPF (Open Shortest Path First)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%B9%E7%95%8C%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE-BGP-Border-Gateway-Protocol"><span class="toc-number">4.11.</span> <span class="toc-text">边界网关协议 BGP (Border Gateway Protocol)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">4.12.</span> <span class="toc-text">路由器的工作原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E4%B8%93%E7%94%A8%E7%BD%91-VPN-Virtual-Private-Network"><span class="toc-number">4.13.</span> <span class="toc-text">虚拟专用网 VPN (Virtual Private Network)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2-NAT-Network-Address-Translation"><span class="toc-number">4.14.</span> <span class="toc-text">网络地址转换 NAT (Network Address Translation)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP-%E5%A4%9A%E6%92%AD-IP-Multicast"><span class="toc-number">4.15.</span> <span class="toc-text">IP 多播 (IP Multicast)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8-IP"><span class="toc-number">4.16.</span> <span class="toc-text">移动 IP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E4%BB%A3%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AE-IPv6"><span class="toc-number">4.17.</span> <span class="toc-text">下一代网际协议 IPv6</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C-SDN-Software-Defined-Network"><span class="toc-number">4.18.</span> <span class="toc-text">软件定义网络 SDN (Software Defined Network)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC5%E7%AB%A0-%E8%BF%90%E8%BE%93%E5%B1%82"><span class="toc-number">5.</span> <span class="toc-text">计算机网络核心备考笔记：第5章 运输层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">5.1.</span> <span class="toc-text">运输层协议概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE-UDP-User-Datagram-Protocol"><span class="toc-number">5.2.</span> <span class="toc-text">用户数据报协议 UDP (User Datagram Protocol)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-%E6%A6%82%E8%BF%B0"><span class="toc-number">5.3.</span> <span class="toc-text">TCP 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-%E6%8A%A5%E6%96%87%E6%AE%B5%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">5.4.</span> <span class="toc-text">TCP 报文段的格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-%E7%9A%84%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">5.5.</span> <span class="toc-text">TCP 的可靠传输</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E7%9A%84%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6"><span class="toc-number">5.6.</span> <span class="toc-text">TCP的重传机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-%E7%9A%84%E9%80%89%E6%8B%A9%E7%A1%AE%E8%AE%A4-SACK"><span class="toc-number">5.7.</span> <span class="toc-text">TCP 的选择确认 (SACK)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E7%9A%84%E7%BC%93%E5%AD%98%E4%B8%8E%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">5.8.</span> <span class="toc-text">TCP的缓存与流量控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-%E7%9A%84%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="toc-number">5.9.</span> <span class="toc-text">TCP 的连接管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">5.10.</span> <span class="toc-text">TCP的拥塞控制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC6%E7%AB%A0-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">6.</span> <span class="toc-text">计算机网络核心备考笔记：第6章 应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="toc-number">6.1.</span> <span class="toc-text">应用层概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">6.1.1.</span> <span class="toc-text">1. 网络应用程序体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E5%AE%A2%E6%88%B7-%E6%9C%8D%E5%8A%A1%E5%99%A8-C-S-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">6.1.1.1.</span> <span class="toc-text">(1) 客户&#x2F;服务器 (C&#x2F;S) 体系结构</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-P2P%E5%AF%B9%E7%AD%89%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">6.1.1.2.</span> <span class="toc-text">(2) P2P对等体系结构</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#C-S-%E4%B8%8E-P2P-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%AF%B9%E6%AF%94"><span class="toc-number">6.1.1.3.</span> <span class="toc-text">C&#x2F;S 与 P2P 体系结构对比</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.1.2.</span> <span class="toc-text">2. 应用层协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E9%80%89%E6%8B%A9%E8%BF%90%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.1.3.</span> <span class="toc-text">3. 选择运输层协议</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F-DNS-Domain-Name-System"><span class="toc-number">6.2.</span> <span class="toc-text">域名系统 DNS (Domain Name System)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E5%9F%9F%E5%90%8D%E7%BB%93%E6%9E%84"><span class="toc-number">6.2.1.</span> <span class="toc-text">1. 互联网的域名结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">6.2.2.</span> <span class="toc-text">2. 域名服务器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">6.2.3.</span> <span class="toc-text">3. 域名解析的过程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-DNS%E7%BC%93%E5%AD%98"><span class="toc-number">6.2.4.</span> <span class="toc-text">4. DNS缓存</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-DNS%E6%8F%90%E4%BE%9B%E7%9A%84%E5%85%B6%E5%AE%83%E6%9C%8D%E5%8A%A1"><span class="toc-number">6.2.5.</span> <span class="toc-text">5. DNS提供的其它服务</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%87%E7%BB%B4%E7%BD%91-WWW-World-Wide-Web"><span class="toc-number">6.3.</span> <span class="toc-text">万维网 WWW (World Wide Web)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%87%E7%BB%B4%E7%BD%91%E6%A6%82%E8%BF%B0"><span class="toc-number">6.3.1.</span> <span class="toc-text">一、万维网概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E5%AE%9A%E4%BD%8D%E7%AC%A6-URL-Uniform-Resource-Locator"><span class="toc-number">6.3.2.</span> <span class="toc-text">二、统一资源定位符 URL (Uniform Resource Locator)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E9%80%81%E5%8D%8F%E8%AE%AE-HTTP-HyperText-Transfer-Protocol"><span class="toc-number">6.3.3.</span> <span class="toc-text">三、超文本传送协议 HTTP (HyperText Transfer Protocol)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%B8%87%E7%BB%B4%E7%BD%91%E7%9A%84%E6%96%87%E6%A1%A3"><span class="toc-number">6.3.4.</span> <span class="toc-text">四、万维网的文档</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6-Email"><span class="toc-number">6.4.</span> <span class="toc-text">电子邮件 Email</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90"><span class="toc-number">6.4.1.</span> <span class="toc-text">1. 电子邮件系统的基本组成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E4%BC%A0%E9%80%81%E5%8D%8F%E8%AE%AE-SMTP"><span class="toc-number">6.4.2.</span> <span class="toc-text">2. 简单邮件传送协议 SMTP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%9A%84%E4%BF%A1%E6%81%AF%E6%A0%BC%E5%BC%8F-RFC-5322"><span class="toc-number">6.4.3.</span> <span class="toc-text">3. 电子邮件的信息格式 (RFC 5322)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E9%82%AE%E4%BB%B6%E8%AF%BB%E5%8F%96%E5%8D%8F%E8%AE%AE-POP3-%E5%92%8C-IMAP"><span class="toc-number">6.4.4.</span> <span class="toc-text">4. 邮件读取协议 POP3 和 IMAP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-%E9%80%9A%E7%94%A8%E5%9B%A0%E7%89%B9%E7%BD%91%E9%82%AE%E4%BB%B6%E6%89%A9%E5%85%85-MIME-Multipurpose-Internet-Mail-Extensions"><span class="toc-number">6.4.5.</span> <span class="toc-text">6. 通用因特网邮件扩充 MIME (Multipurpose Internet Mail Extensions)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E5%8D%8F%E8%AE%AE-FTP-File-Transfer-Protocol"><span class="toc-number">6.5.</span> <span class="toc-text">文件传送协议 FTP (File Transfer Protocol)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E7%BB%88%E7%AB%AF-Telnet"><span class="toc-number">6.6.</span> <span class="toc-text">远程终端 Telnet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AE-DHCP-Dynamic-Host-Configuration-Protocol"><span class="toc-number">6.7.</span> <span class="toc-text">动态主机配置协议 DHCP (Dynamic Host Configuration Protocol)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#P2P-%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="toc-number">6.8.</span> <span class="toc-text">P2P 文件共享</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81P2P%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91"><span class="toc-number">6.8.1.</span> <span class="toc-text">一、P2P文件分发</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%9C%A8P2P%E5%AF%B9%E7%AD%89%E6%96%B9%E4%B8%AD%E6%90%9C%E7%B4%A2%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.8.2.</span> <span class="toc-text">二、在P2P对等方中搜索对象</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%AA%92%E4%BD%93%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8"><span class="toc-number">6.9.</span> <span class="toc-text">多媒体网络应用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%91%E6%88%98%E5%8F%8A%E5%BA%94%E7%94%A8%E5%B1%82%E6%8E%AA%E6%96%BD"><span class="toc-number">6.9.1.</span> <span class="toc-text">挑战及应用层措施</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E6%97%B6%E8%BF%90%E8%BE%93%E5%8D%8F%E8%AE%AE-RTP-Real-time-Transport-Protocol"><span class="toc-number">6.10.</span> <span class="toc-text">实时运输协议 RTP (Real-time Transport Protocol)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">6.11.</span> <span class="toc-text">网络应用编程接口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#TCP-%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B"><span class="toc-number">6.11.1.</span> <span class="toc-text">TCP 套接字编程的基本流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#UDP-%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B"><span class="toc-number">6.11.2.</span> <span class="toc-text">UDP 套接字编程的基本流程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%B2%BE%E5%8D%8E%E6%91%98%E8%A6%81"><span class="toc-number">7.</span> <span class="toc-text">计算机网络核心备考笔记：精华摘要</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%80%BB%E8%A7%88-%E5%AE%8F%E8%A7%82%E6%A1%86%E6%9E%B6"><span class="toc-number">7.1.</span> <span class="toc-text">1. 网络体系结构总览 (宏观框架)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E4%B8%89%E5%A4%A7%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%A8%A1%E5%9E%8B%E5%AF%B9%E6%AF%94"><span class="toc-number">7.1.1.</span> <span class="toc-text">1.1 三大体系结构模型对比</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85-Encapsulation-%E4%B8%8E%E8%A7%A3%E5%B0%81%E8%A3%85-Decapsulation"><span class="toc-number">7.1.2.</span> <span class="toc-text">1.2 数据封装 (Encapsulation) 与解封装 (Decapsulation)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-%E5%8D%8F%E8%AE%AE%E6%95%B0%E6%8D%AE%E5%8D%95%E5%85%83-PDU-%E5%90%8D%E7%A7%B0"><span class="toc-number">7.1.3.</span> <span class="toc-text">1.3 协议数据单元 (PDU) 名称</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%90%84%E5%B1%82%E6%A0%B8%E5%BF%83%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%9C%BA%E5%88%B6%E4%B8%B2%E8%AE%B2-%E8%81%9A%E7%84%A61-5%E7%AB%A0%E8%80%83%E7%82%B9"><span class="toc-number">7.2.</span> <span class="toc-text">2. 各层核心协议与机制串讲 (聚焦1-5章考点)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%85%B3%E9%94%AE%E6%B5%81%E7%A8%8B%E8%B4%AF%E9%80%9A-%E7%BB%BC%E5%90%88%E5%BA%94%E7%94%A8"><span class="toc-number">7.3.</span> <span class="toc-text">3. 关键流程贯通 (综合应用)</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/ac3752f6/" title="”深蓝-Lite” 无人测绘船完整技术方案">”深蓝-Lite” 无人测绘船完整技术方案</a><time datetime="2025-12-25T10:45:53.000Z" title="发表于 2025-12-25 18:45:53">2025-12-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1c3bfe8a/" title="英语U1、2第九、十一大题详解"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/04/28/680f628873f0e.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="英语U1、2第九、十一大题详解"/></a><div class="content"><a class="title" href="/posts/1c3bfe8a/" title="英语U1、2第九、十一大题详解">英语U1、2第九、十一大题详解</a><time datetime="2025-11-13T08:06:14.000Z" title="发表于 2025-11-13 16:06:14">2025-11-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7ec0dc64/" title="Python期中复习题-编程题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/04/28/680f628873f0e.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python期中复习题-编程题"/></a><div class="content"><a class="title" href="/posts/7ec0dc64/" title="Python期中复习题-编程题">Python期中复习题-编程题</a><time datetime="2025-11-12T11:04:20.566Z" title="发表于 2025-11-12 19:04:20">2025-11-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/9773523e/" title="网络基础模拟卷超详细精讲版"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/04/28/680f628873f0e.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络基础模拟卷超详细精讲版"/></a><div class="content"><a class="title" href="/posts/9773523e/" title="网络基础模拟卷超详细精讲版">网络基础模拟卷超详细精讲版</a><time datetime="2025-11-06T11:24:13.000Z" title="发表于 2025-11-06 19:24:13">2025-11-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/3e5dfac3/" title="网络基础模拟卷"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2025/04/28/680f628873f0e.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络基础模拟卷"/></a><div class="content"><a class="title" href="/posts/3e5dfac3/" title="网络基础模拟卷">网络基础模拟卷</a><time datetime="2025-11-06T11:22:29.000Z" title="发表于 2025-11-06 19:22:29">2025-11-06</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2025 By <a class="footer-bar-link" href="/" title="晓嘿君" target="_blank">晓嘿君</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">4</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.233909.xyz/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/xiao.svg" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/Kur1oR3iko/Project-ESPNow" title="远程画板[贡献1.0.6版本]"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://s21.ax1x.com/2025/03/28/pEr2lWQ.webp" alt="远程画板[贡献1.0.6版本]"/><span class="back-menu-item-text">远程画板[贡献1.0.6版本]</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/nav/"><i class="xiaohj-icon xiaohj-icon-compass faa-tada"></i><span> 导航</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 0.88rem;">C语言<sup>3</sup></a><a href="/tags/Java/" style="font-size: 0.88rem;">Java<sup>1</sup></a><a href="/tags/%E3%80%8A%E5%A4%A7%E6%98%8E%E5%AF%B0%E5%AE%87%E3%80%8B/" style="font-size: 0.88rem;">《大明寰宇》<sup>1</sup></a><a href="/tags/%E4%B8%8A%E6%B5%B7%E4%B8%93%E5%8D%87%E6%9C%AC/" style="font-size: 0.88rem;">上海专升本<sup>1</sup></a><a href="/tags/%E4%BA%94%E5%B9%B4%E4%B8%80%E8%B4%AF%E5%88%B6/" style="font-size: 0.88rem;">五年一贯制<sup>1</sup></a><a href="/tags/%E4%BA%A4%E6%B5%81/" style="font-size: 0.88rem;">交流<sup>1</sup></a><a href="/tags/%E4%BA%BA%E5%B7%A5%E6%92%B0%E5%86%99/" style="font-size: 0.88rem;">人工撰写<sup>2</sup></a><a href="/tags/%E5%8D%87%E5%AD%A6%E8%A7%84%E5%88%92/" style="font-size: 0.88rem;">升学规划<sup>1</sup></a><a href="/tags/%E5%90%90%E6%A7%BD/" style="font-size: 0.88rem;">吐槽<sup>4</sup></a><a href="/tags/%E5%93%B2%E5%AD%A6/" style="font-size: 0.88rem;">哲学<sup>1</sup></a><a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">学习<sup>5</sup></a><a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 0.88rem;">小说<sup>1</sup></a><a href="/tags/%E5%B7%A5%E4%B8%9A%E4%BA%92%E8%81%94%E7%BD%91/" style="font-size: 0.88rem;">工业互联网<sup>1</sup></a><a href="/tags/%E5%B9%95%E5%90%8E/" style="font-size: 0.88rem;">幕后<sup>1</sup></a><a href="/tags/%E5%B9%BD%E9%BB%98/" style="font-size: 0.88rem;">幽默<sup>2</sup></a><a href="/tags/%E6%84%9F%E6%83%B3/" style="font-size: 0.88rem;">感想<sup>1</sup></a><a href="/tags/%E6%9B%B4%E6%96%B0/" style="font-size: 0.88rem;">更新<sup>2</sup></a><a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 0.88rem;">视频<sup>2</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%93%E4%B8%9A/" style="font-size: 0.88rem;">计算机专业<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="anzhiyufont anzhiyu-icon-comment-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch-commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="2837369820" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/playlist?id=2837369820&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="https://cdn.cbd.int/hexo-theme-anzhiyu@1.6.14/source/js/utils.js"></script><script src="https://cdn.cbd.int/hexo-theme-anzhiyu@1.6.14/source/js/main.js"></script><script src="https://cdn.cbd.int/hexo-theme-anzhiyu@1.6.14/source/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("2025/02/15 17:51:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2025 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 晓嘿君 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("2025/02/15 17:51:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "";
        img.title = "";
        img.alt = "";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><div class="js-pjax"><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://www.review.233909.xyz/',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://www.review.233909.xyz/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"><script async src="https://cdn.cbd.int/hexo-theme-anzhiyu@1.6.14/source/js/anzhiyu/comment_barrage.js"></script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://www.review.233909.xyz/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script>(() => {
  const isChatBtn = true
  const isChatHideShow = true

  if (isChatBtn) {
    const close = () => {
      Chatra('minimizeWidget')
      Chatra('hide')
    }

    const open = () => {
      Chatra('openChat', true)
      Chatra('show')
    }

    window.ChatraSetup = {
      startHidden: true
    }
  
    window.chatBtnFn = () => {
      const isShow = document.getElementById('chatra').classList.contains('chatra--expanded')
      isShow ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => {
        Chatra('hide')
      },
      show: () => {
        Chatra('show')
      }
    }
  }

  (function(d, w, c) {
    w.ChatraID = 'hEtM84cukuuxHo8QB'
    var s = d.createElement('script')
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments)
    }
    s.async = true
    s.src = 'https://call.chatra.io/chatra.js'
    if (d.head) d.head.appendChild(s)
  })(document, window, 'Chatra')

})()</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>